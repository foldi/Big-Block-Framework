/**
 Big Block Framework
 Copyright (C) 2011 Foldi, LLC 
 */
var BigBlock={};BigBlock.Blocks={};BigBlock.BlocksKeys=[];BigBlock.curentFrame=0;BigBlock.inputBlock=!1;BigBlock.URL_ittybitty8bit="http://www.ittybitty8bit.com";BigBlock.URL_Facebook="http://www.facebook.com/pages/ittybitty8bit/124916544219794";BigBlock.URL_Twitter="http://www.twitter.com/ittybitty8bit";BigBlock.CSSid_core="core";BigBlock.CSSid_color="color";BigBlock.CSSid_position="i";BigBlock.CSSid_char="ch";BigBlock.CSSid_char_pos="ch_p";BigBlock.CSSid_text_bg="txt_bg";
BigBlock.CSSid_grid_pos="grid_p";BigBlock.user_agent=navigator.userAgent.toLowerCase();if(BigBlock.user_agent.search("iphone")>-1)BigBlock.is_iphone=!0;if(BigBlock.user_agent.search("ipad")>-1)BigBlock.is_ipad=!0;if(window.navigator.standalone)BigBlock.standalone=!0;BigBlock.ready=function(){BigBlock.Timer.play()};Math.degreesToRadians=function(b){return Math.PI/180*b};Math.radiansToDegrees=function(b){return 180/Math.PI*b};
Math.getRandomNumber=function(b,a){return Math.floor(Math.random()*(a-(b-1)))+b};Math.getDistanceBwTwoPts=function(b,a,e,c){return Math.sqrt(Math.pow(e-b,2)+Math.pow(c-a,2))};BigBlock.clone=function(b){function a(){}a.prototype=b;return a};BigBlock.getPixIndex=function(b,a){b>=BigBlock.Grid.width&&(b-=BigBlock.Grid.width);a>=BigBlock.Grid.height&&(a-=BigBlock.Grid.height);return Math.floor(b/BigBlock.Grid.blk_dim)+BigBlock.Grid.total_viewport_cols*Math.floor(a/BigBlock.Grid.blk_dim)};
BigBlock.getPixLoc=function(b,a,e){var c;b==="x"&&(e%=BigBlock.Grid.total_viewport_cols,c=a+e*BigBlock.Grid.blk_dim);b==="y"&&(b=e>0?Math.floor(e/BigBlock.Grid.total_viewport_cols):Math.ceil(e/BigBlock.Grid.total_viewport_cols),c=a+b*BigBlock.Grid.blk_dim);return c};BigBlock.getColIndex=function(b,a){var e=BigBlock.Grid.width/BigBlock.Grid.blk_dim;return BigBlock.getFullGridIndex(b,a)%e};
BigBlock.getFullGridIndex=function(b,a){var e,c;return BigBlock.Grid.blk_dim!==0?(e=Math.floor(b/BigBlock.Grid.blk_dim),c=Math.floor(a/BigBlock.Grid.blk_dim),e+Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim)*c):1};BigBlock.getBlock=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a+=1)if(BigBlock.Blocks[a].alias===b)return a;return!1};BigBlock.getWord=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a+=1)if(BigBlock.Blocks[a].word_id===b)return a;return!1};
BigBlock.removeStaticBlock=function(b,a){var e,c,d,f,g;try{if(typeof b==="undefined")throw Error("BigBlock.removeStatic(alias): requires an alias.");if(typeof b!=="string")throw Error("utility: removeStatic(): arguement 'alias' must be a string.");if(typeof a!=="undefined"&&typeof a!=="function")throw Error("utility: removeStatic(): arguement 'callback' must be a function.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}d=BigBlock.GridStatic.viewport.dom_ref;if(d.hasChildNodes()){f=d.childNodes;
g=[];e=0;for(c=f.length;e<c;e+=1)g[g.length]=f[e];e=0;for(c=g.length;e<c;e+=1)b===g[e].getAttribute("name")&&d.removeChild(g[e])}typeof a==="function"&&a()};BigBlock.Log=function(){return{display:function(b){try{typeof console!=="undefined"?console.log(b):typeof opera!=="undefined"&&typeof opera.wiiremote!=="undefined"?alert(b):typeof opera!=="undefined"&&opera.postError(b)}catch(a){}}}}();BigBlock.getUniqueId=function(){return(new Date).getTime()+Math.getRandomNumber(0,1E9)};
BigBlock.ptInsideRect=function(b,a,e,c,d,f){if(b>=e&&b<c&&a>=d&&a<f)return!0;return!1};BigBlock.getBigBlockCSS=function(b){var a,e,c,d,f,g;c=document.styleSheets;a=0;for(e=c.length;a<e;a+=1)if(c[a].cssRules){d=c[a].cssRules;f=0;for(g=d.length;f<g;f+=1)if(d[f].selectorText===b)return c[a]}else if(c[a].rules){d=c[a].rules;f=0;for(g=d.length;f<g;f+=1)if(d[f].selectorText===b)return c[a]}return!1};
BigBlock.getWindowDim=function(){var b={width:!1,height:!1};if(typeof window.innerWidth!=="undefined")b.width=window.innerWidth;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientWidth!=="undefined")b.width=document.documentElement.clientWidth;else if(typeof document.body!=="undefined")b.width=document.body.clientWidth;if(typeof window.innerHeight!=="undefined")b.height=window.innerHeight;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientHeight!==
"undefined")b.height=document.documentElement.clientHeight;else if(typeof document.body!=="undefined")b.height=document.body.clientHeight;return b};BigBlock.inArray=function(b,a){var e,c,d;d=!1;e=0;for(c=a.length;e<c;e+=1)typeof b===typeof a[e]&&b===a[e]&&(d=!0);return d};BigBlock.getFileExtension=function(b){var a,e;try{if(typeof b==="undefined")throw Error("BigBlock.getFileExtension(path): A path is required.");else e=b.split("."),a=e[e.length-1]}catch(c){BigBlock.Log.display(c.name+": "+c.message)}return a};
BigBlock.getMimeTypeFromFileExt=function(b){try{if(typeof b==="undefined")throw Error("BigBlock.getMimeTypeFromFileExt(ext): An extension is required.");else switch(b){case "aif":return["audio/x-aiff","audio/x-aiff"];case "au":case "snd":return["audio/basic"];case "ogg":return["audio/ogg"];case "mp3":return["audio/mpeg","audio/x-mpeg"];case "wav":return["audio/wav","audio/x-wav"];default:return!1}}catch(a){BigBlock.Log.display(a.name+": "+a.message)}};
BigBlock.checkHasDupes=function(b){var a,e,c;a=[];c=b.pix.length;for(a=0;a<c;a+=1)for(e=a+1;e<c;e+=1)if(b.pix.i.i===b.pix.j.i)return a=[b.pix.i,b.pix.j];return!1};BigBlock.getMySqlDateTime=function(){var b,a,e,c,d,f;b=new Date;a=b.getFullYear();e=b.getMonth();e<10&&(e="0"+e);c=b.getDate();c<10&&(c="0"+c);d=b.getHours();d<10&&(d="0"+d);f=b.getMinutes();f<10&&(f="0"+f);b=b.getSeconds();b<10&&(b="0"+b);return a+"-"+e+"-"+c+" "+d+":"+f+":"+b};
BigBlock.windowOpen=function(b,a){try{if(typeof b==="undefined")return!1;else typeof a==="undefined"&&(a=""),BigBlock.standalone?confirm("Leaving app. Continue?")&&window.open(b,a):window.open(b,a)}catch(e){BigBlock.Log.display(e.name+": "+e.message)}};
BigBlock.checkCollision=function(b,a,e,c,d){var f,g,h,i;for(f in BigBlock.Blocks)if(BigBlock.Blocks.hasOwnProperty(f)&&BigBlock.Blocks[f].anim!==!1&&BigBlock.Blocks[f].render_static===!1&&BigBlock.Blocks[f].alias.indexOf(d)!==-1&&c===!1)for(h in g=BigBlock.Blocks[f].anim_frame,BigBlock.Blocks[f].anim[g].frm.pix)if(BigBlock.Blocks[f].anim[g].frm.pix.hasOwnProperty(h)&&(i=BigBlock.getFullGridIndex(BigBlock.Blocks[f].x,BigBlock.Blocks[f].y),i+=BigBlock.Blocks[f].anim[g].frm.pix[h].i,BigBlock.getPixLoc("x",
BigBlock.Blocks[f].x,BigBlock.Blocks[f].anim[g].frm.pix[h].i),BigBlock.getPixLoc("y",BigBlock.Blocks[f].y,BigBlock.Blocks[f].anim[g].frm.pix[h].i),i===BigBlock.getFullGridIndex(a,e))){BigBlock.Blocks[b].is_hit=!0;BigBlock.Blocks[b].render=2;typeof BigBlock.Blocks[b].action_collide==="function"&&BigBlock.Blocks[b].action_collide();typeof BigBlock.Blocks[f].action_collide==="function"&&BigBlock.Blocks[f].action_collide();break}};
BigBlock.getTransform=function(b,a,e,c){var d,f;d={};f=b*Math.cos(Math.degreesToRadians(a));b*=Math.sin(Math.degreesToRadians(a));d.x=e+f;d.y=c+b;return d};
BigBlock.getParticleTransform=function(b,a,e,c,d,f,g,h,i,k,m){var l,j;l={};j=Math.round(Math.cos(f)*k*BigBlock.Grid.blk_dim);k=b*BigBlock.Grid.blk_dim*Math.cos(a)+j;j=Math.round(Math.cos(f)*m*BigBlock.Grid.blk_dim);b=b*BigBlock.Grid.blk_dim*Math.sin(a)+j;if(!(e+k>=BigBlock.Grid.width))l.x=e+k,l.y=c+b+d*BigBlock.Grid.blk_dim;l.color_index=h+Math.round(i*(f/g));return l};BigBlock.getAngle=function(b,a,e,c){return Math.atan2(b-a,e-c)*180/Math.PI};
BigBlock.Audio=function(){var b=!0;typeof window.Audio==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support HTML5 audio."));return{alias:"audio",supported:b,playlist:{},pause_timeout:null,debug:!1,is_single_channel:!1,single_channel_id:null,last_play:(new Date).getTime(),last_play_delay:500,muted:!1,format:["wav","mp3","ogg"],loading_list:[],loading_complete:!1,add:function(a,e,c,d){var f,g,h,i,k,m,l;if(b){try{if(typeof a==="undefined")throw Error("An id is required");if(typeof e===
"undefined")throw Error("Path to audio file required");}catch(j){BigBlock.Log.display(j.name+": "+j.message)}f=0;for(g=this.format.length;f<g;f++){k=BigBlock.getMimeTypeFromFileExt(this.format[f]);l=new Audio(e+a+"."+this.format[f]);if(c)l.loop=c;m="";h=0;for(i=k.length;h<i;h++)if(m=this.canPlayType(l,k[h]),m!==""){this.debug&&BigBlock.Log.display("This browser will try to play "+a+" audio file in "+k[h]+" format.");break}if(m!=="")break}if(m!=="")l.id=a,this.playlist[a]=l,h=this.playlist[a],h.addEventListener?
(h.addEventListener("canplay",function(a){BigBlock.Audio.playlist[a.target.id].removeEventListener("canplay",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("progress",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("suspend",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("abort",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("error",
this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("stalled",this.eventHandler,!1);BigBlock.Audio.eventHandler(a,d)},!1),h.addEventListener("loadstart",this.eventHandler,!1),h.addEventListener("progress",this.eventHandler,!1),h.addEventListener("suspend",this.eventHandler,!1),h.addEventListener("abort",this.eventHandler,!1),h.addEventListener("error",this.eventHandler,!1),h.addEventListener("emptied",
this.eventHandler,!1),h.addEventListener("stalled",this.eventHandler,!1)):h.attachEvent&&(h.attachEvent("canplay",function(a){BigBlock.Audio.eventHandler(a,d)},!1),h.attachEvent("loadstart",this.eventHandler,!1),h.attachEvent("progress",this.eventHandler,!1),h.attachEvent("suspend",this.eventHandler,!1),h.attachEvent("abort",this.eventHandler,!1),h.attachEvent("error",this.eventHandler,!1),h.attachEvent("emptied",this.eventHandler,!1),h.attachEvent("stalled",this.eventHandler,!1)),h.load?(this.loading_list.push(a),
h.load()):(this.supported=!1,this.playlist=[],BigBlock.Log.display("This browser does not support HTML5 audio."));else if(BigBlock.Log.display("Audio mime-type "+k+" not supported. "+this.format+" files will not be played."),BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[]}},eventHandler:function(a,e){var c,d,b;b="An audio event for "+a.target.id+" just fired.";switch(a.type){case "loadstart":b="Audio: eventHandler: Audio file "+a.target.id+" has started loading.";
break;case "progress":b="Audio: eventHandler: Audio file "+a.target.id+" is loading.";break;case "suspend":b="Audio: eventHandler: The user agent is intentionally not currently fetching "+a.target.id+", but does not have the entire media resource downloaded.";break;case "abort":b="Audio: eventHandler: The user agent stopped fetching "+a.target.id+" before it was completely downloaded, but not due to an error.";break;case "error":b="Audio: eventHandler: An error occurred while fetching "+a.target.id+
".";if(BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[];break;case "emptied":b="Audio: eventHandler: "+a.target.id+"'s network state just switched to NETWORK_EMPTY.";break;case "stalled":b="Audio: eventHandler: The user agent is trying to fetch "+a.target.id+", but data is unexpectedly not forthcoming.";break;case "canplay":b="Audio: eventHandler: Audio file "+a.target.id+" is ready to play.",typeof e!=="undefined"&&setTimeout(function(){e()},0)}if(a.type!==
"loadstart"&&a.type!=="progress"&&a.type!=="suspend"&&a.type!=="emptied"&&a.type!=="stalled"){c=0;for(d=BigBlock.Audio.loading_list.length;c<d;c++)if(BigBlock.Audio.loading_list[c]===a.target.id){BigBlock.Audio.loading_list.splice(c,1);if(BigBlock.Audio.loading_list.length<1)BigBlock.Audio.loading_complete=!0;break}BigBlock.Audio.playlist[a.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("progress",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("suspend",
this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("abort",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("error",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("stalled",this.eventHandler,!1)}try{if(BigBlock.Audio.debug===!0)throw Error(b);}catch(g){BigBlock.Log.display(g.name+": "+g.message)}},canPlayType:function(a,
e){try{if(typeof e==="undefined")throw Error("A type is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return a.canPlayType?a.canPlayType(e):"maybe"}catch(d){BigBlock.Log.display(d.name+": "+d.message)}return!1},load:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{this.playlist[a].load()}catch(b){BigBlock.Log.display(b.name+": "+b.message)}}},
play:function(a,e,b){var d,f,g,h;if(this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}try{if(this.is_single_channel){if(typeof this.playlist[this.single_channel_id]!=="undefined"&&(h=(new Date).getTime(),h-this.last_play>this.last_play_delay))f=this.getReadyState(this.single_channel_id,!0),f.state>=2&&this.muted===!1?(g=this.track_labels[a].start_time,d=this.track_labels[a].duration,this.pause(this.single_channel_id),
this.setCurrentTime(this.single_channel_id,g),this.playlist[this.single_channel_id].play(),this.last_play=h,this.pause_timeout=setTimeout(function(){BigBlock.Audio.pause(BigBlock.Audio.single_channel_id)},d)):this.debug&&BigBlock.Log.display("Audio: State: "+f.state+" Message: "+f.message)}else typeof this.playlist[a]!=="undefined"&&(f=this.getReadyState(a,!0),f.state>=2&&this.muted===!1&&(typeof e!=="undefined"&&e(),typeof b!=="undefined"&&(d=this.getDuration(a)*1E3,setTimeout(function(){b()},d)),
this.playlist[a].pause(),this.playlist[a].play()))}catch(k){BigBlock.Log.display(k.name+": "+k.message)}}},pause:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}var d=this.getReadyState(a,!0);if(d.state>2)if(typeof b!=="undefined")if(this.isPaused(a)===!1)try{this.playlist[a].pause()}catch(f){BigBlock.Log.display(f.name+": "+f.message)}else{d=this.getPlayed(a);
var g=this.isEnded(a);if(d.length>0&&g!==!0)try{this.playlist[a].play()}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}else try{this.playlist[a].pause()}catch(i){BigBlock.Log.display(i.name+": "+i.message)}else BigBlock.Log.display("Audio: "+d.message)}},isPaused:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].paused}catch(c){BigBlock.Log.display(c.name+
": "+c.message)}}},getPlayed:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].played}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},isEnded:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].ended}catch(c){BigBlock.Log.display(c.name+
": "+c.message)}}},getPlaybackRate:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].playbackRate}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},getReadyState:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(c){BigBlock.Log.display(c.name+
": "+c.message)}var d=this.playlist[a].readyState;if(typeof b!=="undefined"){var f;switch(d){case 0:f="HAVE_NOTHING: No data for the current playback position is available.";break;case 1:f="HAVE_METADATA : Enough of the resource has been obtained that the duration of the resource is available. No media data is available for the immediate current playback position.";break;case 2:f="HAVE_CURRENT_DATA: Data for the immediate current playback position is available, but not enough data is available to successfully advance the current playback position in the direction of playback.";
break;case 3:f="HAVE_FUTURE_DATA: Data for the immediate current playback position is available. However, not enough data is avaialble to determine if playback will out-pace the data stream.";break;case 4:f="HAVE_ENOUGH_DATA: All data for the immediate current playback position is available."}d={state:d,message:f}}return d}},getNetworkState:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(c){BigBlock.Log.display(c.name+
": "+c.message)}var d=this.playlist[a].networkState;if(typeof b!=="undefined"){var f;switch(d){case 0:f="NETWORK_EMPTY: The element has not yet been initialized. All attributes are in their initial states.";break;case 1:f="NETWORK_IDLE: The element's resource selection algorithm is active and has selected a resource, but it is not actually using the network at this time.";break;case 2:f="NETWORK_LOADING: The user agent is actively trying to download data.";break;case 3:f="NETWORK_NO_SOURCE: The element's resource selection algorithm is active, but it has so not yet found a resource to use."}d=
{state:d,message:f}}return d}},getDuration:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].duration}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},getCurrentTime:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+
": "+b.message)}try{return this.playlist[a].currentTime}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},setCurrentTime:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}try{this.playlist[a].currentTime=b}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},getVolume:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a===
"undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].volume}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},setVolume:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");if(typeof b==="undefined")throw Error("A volume value between 0.0 and 1.0 is required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}try{this.playlist[a].volume=
b}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},mute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!0}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.muted=!0}},unmute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!1}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.muted=!1}}}}();
BigBlock.Block=function(){return{configure:function(){this.pix_index=this.last_y=this.last_x=!1;this.clock=0;this.color_index=this.color+"0";this.color_max=0;this.anim=!1;this.anim_frame=0;this.last_anim_frame=!1;this.is_position_updated=!0;this.is_anim_updated=!1;this.className="Block";this.alias=BigBlock.getUniqueId();this.color="white";this.y=this.x=0;this.render=-1;this.angle=Math.degreesToRadians(0);this.pulse_rate=this.life=this.vel=0;this.action_input=this.action_render=this.render_static=
this.after_destroy=!1},getAnim_delete:function(b){return[{frm:{duration:1,pix:[{c:b,i:0}]}}]},getBlocks:function(){var b=this.anim[0];if(typeof b.frm.pix[0]!=="undefined")b.frm.pix[0].c=this.color_index;return b.frm},run:function(){typeof this.action_render==="function"&&this.action_render(this);if(!(this.last_x===this.x&&this.last_y===this.y)){this.pix_index=!1;if(BigBlock.ptInsideRect(this.x,this.y,0,BigBlock.Grid.width,0,BigBlock.Grid.height))this.pix_index=BigBlock.getPixIndex(this.x,this.y);
this.last_x=this.x;this.last_y=this.y}this.is_position_updated=!0;this.img=this.anim===!1?!1:this.getBlocks();this.last_anim_frame===this.anim_frame?this.is_anim_updated=!1:(this.last_anim_frame=this.anim_frame,this.is_anim_updated=!0);this.is_color_updated=!1;if(this.life!==0){if(this.color_index=this.color+Math.round(this.color_max*(this.clock/this.life)),this.color_max>0)this.is_color_updated=!0}else if(this.pulse_rate!==0){if(this.color_index=this.color+(this.color_max-Math.round(this.color_max*
Math.abs(Math.cos(this.clock/this.pulse_rate)))),this.color_max>0)this.is_color_updated=!0}else this.color_index=this.color+"0";this.clock++;this.clock>=this.life&&this.life!==0&&this.destroy()},destroy:function(b){if(typeof b==="function")this.after_destroy=b;this.render=0;BigBlock.Timer.destroyObject(this)}}}();
BigBlock.BlockAnim=function(){return{create:function(b){var a,e=new (BigBlock.clone(BigBlock.Block));e.configure();e.anim_frame_duration=0;e.anim_loop=!1;e.anim_state="stop";e.anim=[{frm:{duration:1,pix:[{c:"white0",i:0}]}}];if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(e[a]=b[a]);var c=BigBlock.Color.getPalette();a=0;for(b=c.classes.length;a<b;a++)if(c.classes[a].name===e.color){e.color_max=c.classes[a].val.length-1;break}e.getBlocks=function(){try{if(typeof this.anim==="undefined")throw Error("BigBlock.SpriteAdvanced.getPix(): getPix() requires an anim json object.");
}catch(a){BigBlock.Log.display(a.name+": "+a.message)}switch(this.anim_state){case "stop":var b=this.anim[this.anim_frame];break;case "play":if(typeof this.anim[this.anim_frame]!=="undefined")if(b=this.anim[this.anim_frame],this.anim_frame_duration<b.frm.duration)this.anim_frame_duration===0&&(b=this.anim[this.anim_frame],typeof b.frm.enter_frame==="function"&&b.frm.enter_frame.call(this)),this.anim_frame_duration++;else{typeof b.frm.exit_frame==="function"&&b.frm.exit_frame.call(this);this.anim_frame_duration=
0;this.anim_frame++;if(typeof this.anim[this.anim_frame]==="undefined")this.anim_loop?this.anim_frame=0:this.anim_frame--;b=this.anim[this.anim_frame]}}if(typeof b!=="undefined")return b.frm};e.play=function(){this.anim_state="play"};e.stop=function(){this.anim_state="stop"};e.goToAndPlay=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndPlay(): goToAndPlay(arg) requires a frame number, label or keyword(nextFrame, lastFrame).");}catch(b){BigBlock.Log.display(b.name+
": "+b.message)}this.anim_frame_duration=0;this.anim_frame=this.goToFrame(a);this.anim_state="play"};e.goToAndStop=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndStop(): goToAndStop(arg) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.anim_frame=this.goToFrame(a);if(typeof a==="number")this.anim_frame_duration=0;this.anim_state="stop"};e.goToFrame=function(a){var b;try{if(typeof a===
"undefined")throw Error("BigBlock.Sprite.goToFrame(): goToFrame(arg, anim_frame, anim) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}b=this.anim_frame;switch(typeof a){case "number":try{if(a-1<0||a-1>=this.anim.length)throw Error("BigBlock.Sprite.goToFrame(): Frame number does not exist.");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}this.anim_frame=a-1;break;case "string":switch(a){case "next_frame":a=this.anim_frame;
this.anim_loop===!0?a++:this.anim_frame+1<this.anim.length&&a++;this.anim_frame=a;break;case "previous_frame":a=this.anim_frame;this.anim_loop===!0?a--:this.anim_frame-1>=0&&a--;this.anim_frame=a;break;default:this.anim_frame=this.getFrameIndexByLabel(a)}}if(typeof this.anim[this.anim_frame]==="undefined")this.anim_frame=this.anim_frame>0?0:this.anim.length-1;b!==this.anim_frame&&(typeof this.anim[b].frm.exit_frame!=="undefined"&&typeof this.anim[b].frm.exit_frame==="function"&&this.anim[b].frm.exit_frame.call(this),
typeof this.anim[this.anim_frame].frm.enter_frame!=="undefined"&&typeof this.anim[this.anim_frame].frm.enter_frame==="function"&&this.anim[this.anim_frame].frm.enter_frame.call(this));return this.anim_frame};e.getFrameIndexByLabel=function(a){var b,c;try{if(typeof a==="undefined")throw Error("BigBlock.Sprite.getFrameIndexByLabel(): getFrameIndexByLabel(arg) requires a label");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}c=0;for(b in this.anim)if(this.anim.hasOwnProperty(b)){if(a===this.anim[b].frm.label)return b;
c++}try{if(c!==0)throw Error("BigBlock.Sprite.getFrameIndexByLabel(): Frame label does not exist.");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}};BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias}}}();
BigBlock.BlockBig=function(){return{create:function(b){var a,e,c,d,f;if(typeof b.width==="undefined")b.width=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof b.height==="undefined")b.height=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof b.color==="undefined")b.color="white";var g=new (BigBlock.clone(BigBlock.Block));g.configure();g.anim=[{frm:{duration:1,pix:[]}}];e=a=0;for(c=Math.floor(b.height/BigBlock.Grid.blk_dim);e<c;e++){d=0;for(f=Math.floor(b.width/BigBlock.Grid.blk_dim);d<f;d++)g.anim[0].frm.pix[a]=
{c:b.color+"0",i:BigBlock.Grid.width/BigBlock.Grid.blk_dim*e+d},a++}if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(g[a]=b[a]);g.color_index=g.color+"0";g.img=g.getBlocks();g.render_static=!0;BigBlock.Blocks[g.alias]=g;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=g.alias}}}();
BigBlock.BlockSmall=function(){return{create:function(b){var a,e=new (BigBlock.clone(BigBlock.Block));e.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(e[a]=b[a]);var c=BigBlock.Color.getPalette();a=0;for(b=c.classes.length;a<b;a++)if(c.classes[a].name===e.color){e.color_max=c.classes[a].val.length-1;break}e.color_index=e.color+"0";BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias}}}();
BigBlock.Button=function(){return{alias:"button",map:[],create:function(b){try{if(typeof b==="undefined")throw Error("Button.create(): params argument required");if(typeof b.x==="undefined")throw Error("Button.create(): params.x argument required");if(typeof b.y==="undefined")throw Error("Button.create(): params.y argument required");if(typeof b.width==="undefined")throw Error("Button.create(): params.width argument required");if(typeof b.height==="undefined")throw Error("Button.create(): params.height argument required");
if(typeof b.alias==="undefined")b.alias="button"+BigBlock.getUniqueId();if(typeof b.action_input==="undefined")b.action_input=!1}catch(a){BigBlock.Log.display(a.name+": "+a.message)}this.map[this.map.length]={alias:b.alias,x:b.x,y:b.y,width:b.width,height:b.height,url:b.url,action_input:b.action_input};b.render_static=!0;b.className="Button";b.after_destroy=!1;typeof b.anim==="undefined"?BigBlock.BlockBig.create(b):BigBlock.BlockAnim.create(b)},deleteFromMap:function(b){var a,e;a=0;for(e=BigBlock.Button.map.length;a<
e;a++)if(BigBlock.Button.map[a].alias===b)return BigBlock.Button.map.splice(a,1),!0;return!1},destroy:function(b){this.deleteFromMap(b);BigBlock.removeStaticBlock(b)}}}();
BigBlock.Character=function(){return{create:function(b){var a,e,c=new (BigBlock.clone(BigBlock.Block));c.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(c[a]=b[a]);c.className="Character";e=BigBlock.Color.getPalette();a=0;for(b=e.classes.length;a<b;a++)if(e.classes[a].name===c.color){c.color_max=e.classes[a].val.length-1;break}c.color_index=c.color+"0";c.char_pos=BigBlock.CharPresets.getChar(c.character,c.font);c.render_static=!0;BigBlock.Blocks[c.alias]=c;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=
c.alias}}}();
BigBlock.Color=function(){function b(){var b,c,e;b=e=0;for(c=a.classes.length;b<c;b++)e+=a.classes[b].val.length;return e}var a,e,c;a={classes:[{name:"white",val:["rgb(255,255,255)"]},{name:"black",val:["rgb(0,0,0)"]},{name:"black0_glass",val:["rgb(102,102,102)"]},{name:"grey_dark",val:["rgb(90,90,90)"]},{name:"grey_dark0_glass",val:["rgb(140,140,140)"]},{name:"grey",val:["rgb(150,150,150)"]},{name:"grey0_glass",val:["rgb(200,200,200)"]},{name:"grey_light",val:["rgb(200,200,200)"]},{name:"grey_light0_glass",val:["rgb(255,255,255)"]},
{name:"red",val:["rgb(255,0,0)"]},{name:"magenta",val:["rgb(255,0,255)"]},{name:"blue",val:["rgb(0,0,255)"]},{name:"cyan",val:["rgb(0,255,255)"]},{name:"green",val:["rgb(0,255,0)"]},{name:"yellow",val:["rgb(255,255,0)"]},{name:"orange",val:["rgb(255,126,0)"]},{name:"brown",val:["rgb(160,82,45)"]},{name:"pink",val:["rgb(238,130,238)"]}]};a.classes[a.classes.length]={name:{},val:[]};e="";for(c=255;c>-1;c-=50)e+=c-50>-1?"rgb("+c+", "+c+", "+c+");":"rgb("+c+", "+c+", "+c+")";e=e.split(";");a.classes[a.classes.length-
1].name="white_black";a.classes[a.classes.length-1].val=[];for(c in e)e.hasOwnProperty(c)&&(a.classes[a.classes.length-1].val[c]=e[c]);return{current_class:0,build:function(){var c,e,g,h;c=a;e=document.styleSheets[document.styleSheets.length-1];for(g in c.classes[this.current_class].val)if(c.classes[this.current_class].val.hasOwnProperty(g))try{if(e.insertRule)c.classes[this.current_class].val.hasOwnProperty(g)&&e.insertRule("div."+BigBlock.CSSid_color+c.classes[this.current_class].name+g+" {background-color:"+
c.classes[this.current_class].val[g]+";}",0);else if(e.addRule)c.classes[this.current_class].val.hasOwnProperty(g)&&e.addRule("div."+BigBlock.CSSid_color+c.classes[this.current_class].name+g,"background-color:"+c.classes[this.current_class].val[g]+";color:"+c.classes[this.current_class].val[g]);else throw Error("BigBlock.Color.build(): document.styleSheets insertion failed. Browser does not support insertRule() or addRule().");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}this.current_class++;
try{if(e.cssRules)BigBlock.Loader.update({total:Math.round(e.cssRules.length/b()*100)}),h=e.cssRules.length;else if(e.rules)BigBlock.Loader.update({total:Math.round(e.rules.length/b()*100)}),h=e.rules.length;else throw Error("BigBlock.Color.build(): document.styleSheets rule count failed. Browser does not support cssRules.length() or rules.length().");}catch(k){BigBlock.Log.display(k.name+": "+k.message)}if(h<b())return!1;else{g=0;for(e=c.classes.length;g<e;g++)delete BigBlock[c.classes[g].name];
return!0}},add:function(b){var c,e;try{if(typeof b==="undefined")throw Error("BigBlock.Color.add(): params are required.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}c=0;for(e=b.classes.length;c<e;c++)a.classes[a.classes.length]=b.classes[c]},getPalette:function(){return a}}}();
BigBlock.Database=function(){var b=!0;typeof window.openDatabase==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support a local database."));return{supported:b,alias:"database",my_results:null,open:function(a){try{if(typeof a==="undefined")throw Error("Database.open(): shortName argument required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{if(b===!0)this.shortName=a,this.version="1.0",this.displayName="Database: "+a,this.maxSize=65536,this.db=openDatabase(this.shortName,
this.version,this.displayName,this.maxSize)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},createTable:function(a){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.createTable(): sql argument required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}typeof this.db!=="undefined"&&this.db.transaction(function(b){b.executeSql(a,[],BigBlock.Database.nullDataHandler,BigBlock.Database.errorHandler)})}},executeSql:function(a){if(this.supported===!0){try{if(typeof a===
"undefined")throw Error("Database.executeSql(): sql argument required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}typeof this.db!=="undefined"&&this.db.transaction(function(b){b.executeSql(a,[],BigBlock.Database.dataHandler,BigBlock.Database.errorHandler)})}},executeSqlInsert:function(a,b,c){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.executeSqlInsert(): table argument required");if(typeof b==="undefined")throw Error("Database.executeSqlInsert(): fields argument required");
if(typeof c==="undefined")throw Error("Database.executeSqlInsert(): values argument required");if(typeof this.db==="undefined")throw Error("Database.executeSqlInsert(): database does not exist");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.db.transaction(function(d){var g,h,i;if(b.indexOf(",")!==-1){i="";g=0;for(h=b.split(",").length;g<h;g++)i+=g===b.split(",").length-1?"?":"?,"}else i="?";d.executeSql("INSERT into "+a+" ("+b+") VALUES ( "+i+" );",c,BigBlock.Database.nullDataHandler,
BigBlock.Database.errorHandler)})}},dataHandler:function(a,b){BigBlock.Database.results=b},nullDataHandler:function(){},errorHandler:function(a,b){BigBlock.Log.display(b.code+": "+b.message)}}}();
BigBlock.Emitter=function(){var b=function(a,b,c,d,f,g,h,i,k,m,l){var j={};d=Math.ceil(Math.random()*(100-d*100+1));j.life=Math.ceil(c*((100-d)/100));d=Math.ceil(Math.random()*(100-g*100+1));j.vel=f*((100-d)/100);c=[1,-1];j.angle_var=Math.ceil(Math.random()*(h+1))*c[Math.getRandomNumber(0,1)];f=c[Math.getRandomNumber(0,1)];h=0;i!==0&&(h=Math.ceil(Math.random()*i*BigBlock.Grid.blk_dim)*f);if(k===1)i=Math.abs(h)/(i*BigBlock.Grid.blk_dim),j.life=Math.ceil(j.life*(1-i))>0?Math.ceil(j.life*(1-i)):1;k=
Math.floor(Math.random()*m*BigBlock.Grid.blk_dim)*c[Math.getRandomNumber(0,1)];if(l===1)i=Math.abs(k)/(m*BigBlock.Grid.blk_dim),j.life=Math.ceil(j.life*(1-i))>0?Math.ceil(j.life*(1-i)):1;j.x=a+h;j.y=b+k;return j};return{create:function(a){var e,c=new (BigBlock.clone(BigBlock.Block));c.configure();c.x=BigBlock.Grid.width/2;c.y=BigBlock.Grid.height/2+BigBlock.Grid.height/3;c.state="start";c.render=0;c.emission_rate=3;c.p_count=0;c.p_burst=3;c.p_velocity=3;c.p_velocity_spread=1;c.p_angle=270;c.p_angle_spread=
20;c.p_life=100;c.p_life_spread=0.5;c.p_life_offset_x=0;c.p_life_offset_y=0;c.p_gravity=0;c.p_init_pos_spread_x=0;c.p_init_pos_spread_y=0;c.p_spiral_vel_x=0;c.p_spiral_vel_y=0;c.action_render=function(){};if(typeof a!=="undefined")for(e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);var d=BigBlock.Color.getPalette();e=0;for(a=d.classes.length;e<a;e++)if(d.classes[e].name===c.color){c.color_max=d.classes[e].val.length-1;break}c.action_render=function(){var a;switch(this.state){case "start":if(this.clock%this.emission_rate===
0)this.state="emit";break;case "emit":var c,d;d=function(){var a=BigBlock.getParticleTransform(this.vel,this.angle,this.x,this.y,this.gravity,this.clock,this.life,this.color,this.color_max,this.p_spiral_vel_x,this.p_spiral_vel_y);this.x=a.x;this.y=a.y;this.color_index=a.color_index;this.gravity*=1.08};for(a=0;a<this.p_burst;a++)c=b(this.x,this.y,this.p_life,this.p_life_spread,this.p_velocity,this.p_velocity_spread,this.p_angle_spread,this.p_init_pos_spread_x,this.p_life_offset_x,this.p_init_pos_spread_y,
this.p_life_offset_y),BigBlock.BlockSmall.create({color:this.color,x:c.x,y:c.y,life:c.life,gravity:this.p_gravity,angle:Math.degreesToRadians(this.p_angle+c.angle_var),vel:c.vel,color_max:this.color_max,p_spiral_vel_x:this.p_spiral_vel_x,p_spiral_vel_y:this.p_spiral_vel_y,action_render:d}),this.p_count++;this.state="start"}};c.start=function(){this.state="start"};c.stop=function(){this.state="stop"};BigBlock.Blocks[c.alias]=c;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=c.alias}}}();
BigBlock.Grid=function(){return{alias:"Grid",blk_dim:8,width:320,height:368,x:0,y:0,total_viewport_cols:!1,build_start_time:(new Date).getTime(),build_end_time:(new Date).getTime(),build_offset:0,build_section_count:0,build_rowNum:0,char_width:8,char_height:8,styles:{},div:null,configure:function(b){var a;if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(this[a]=b[a]);this.div=document.createElement("div")},setProps:function(b){var a;if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&
(this[a]=b[a])},setStyle:function(b,a){try{if(typeof b==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style key.");if(typeof a==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style value.");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}document.getElementById(this.viewport.id).style[b]=a;this.styles[b]=a},add:function(){var b,a,e;this.build_start_time=(new Date).getTime();b=BigBlock.getWindowDim();
try{if(b.width===!1||b.height===!1)throw b.width=800,b.height=600,Error("BigBlock.Grid.setStyle(): Detecting window size failed. Browser does not support window.innerWidth or document.documentElement.clientWidth. Using 800 x 600.");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}a=document.styleSheets[document.styleSheets.length-1];try{if(a.insertRule)a.insertRule("div#"+this.viewport.id+" {background-color:transparent;width: "+this.viewport.width+"px;height: "+this.viewport.height+"px;position: absolute;left: "+
(b.width/2+this.viewport.left-this.width/2)+"px;top: "+(b.height/2+this.viewport.top-this.height/2)+"px;z-index: "+this.viewport.zIndex+"}",0);else if(a.addRule)a.addRule("div#"+this.viewport.id,"background-color:transparent;width: "+this.viewport.width+"px;height: "+this.viewport.height+"px;position: absolute;left: "+(b.width/2+this.viewport.left-this.width/2)+"px;top: "+(b.height/2+this.viewport.top-this.height/2)+"px;z-index: "+this.viewport.zIndex);else throw Error("Cannot add grid styles: BigBlock.Grid");
}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.x=b.width/2-this.width/2;this.y=b.height/2-this.height/2;b=document.createElement("div");b.setAttribute("id",this.viewport.id);for(e in this.styles)this.styles.hasOwnProperty(e)&&(b.style[e]=this.styles[e]);document.body.appendChild(b);this.viewport.dom_ref=document.getElementById(this.viewport.id)},build:function(){var b,a,e,c,d,f,g;b=0;a=this.viewport.width;e=this.viewport.height;c=Math.round(e/BigBlock.Grid.blk_dim);d=document.styleSheets[document.styleSheets.length-
1];f=0;for(c=Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim)/c;f<c;f+=1)b<Math.round(a/BigBlock.Grid.blk_dim)?b+=1:b=1,f%Math.round(a/BigBlock.Grid.blk_dim)===0&&(this.build_rowNum+=1),d.insertRule?d.insertRule("."+BigBlock.CSSid_position+(f+this.build_offset)+" {left:"+(b-1)*this.blk_dim+"px;top:"+(this.build_rowNum-1)*this.blk_dim+"px;}",0):d.addRule&&d.addRule("."+BigBlock.CSSid_position+(f+this.build_offset)," left:"+(b-1)*this.blk_dim+"px;top:"+(this.build_rowNum-1)*this.blk_dim+
"px");try{if(d.cssRules)g=d.cssRules.length;else if(d.rules)g=d.rules.length;else throw Error("BigBlock.Grid.build(): document.styleSheets rule count failed. Browser does not support cssRules.length() or rules.length().");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}this.build_offset=g;BigBlock.Loader.update({total:Math.round(g/(Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim))*100)});return g<Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim)?
!1:!0},buildCharStyles:function(){var b,a,e,c;b=document.styleSheets[document.styleSheets.length-1];b.insertRule?(b.insertRule("."+BigBlock.CSSid_text_bg+"{background-color: transparent;}",0),b.insertRule("."+BigBlock.CSSid_char+"{width : 1px;height : 1px;position: absolute;float: left;line-height:0px;font-size:1%;}",0)):b.addRule&&(b.addRule("."+BigBlock.CSSid_text_bg,"background-color: transparent"),b.addRule("."+BigBlock.CSSid_char,"width : 1px;height : 1px;position: absolute;float: left;line-height:0px;font-size:1%;"));
e=1;a=0;for(c=this.char_width*this.char_height;a<c;a+=1)b.insertRule?b.insertRule("."+BigBlock.CSSid_char_pos+(a+1)+"{left:"+e+"px;top:"+(Math.floor(a/8)+1)+"px;}",0):b.addRule&&b.addRule("."+BigBlock.CSSid_char_pos+(a+1),"left:"+e+"px;top:"+(Math.floor(a/8)+1)+"px;"),e+1<=this.char_width?e+=1:e=1;return!0}}}();
BigBlock.BehaviorPresets=function(){function b(){return{getPreset:function(a){switch(a){case "getRandomGraphic":return function(){if(this.idleTimeout===0){var a=this.alias;this.idleTimeout=setTimeout(function(){var b=BigBlock.Blocks[BigBlock.getBlock(a)];if(typeof b!=="undefined"&&typeof b.poses!=="undefined")b.goToAndStop(b.poses[Math.getRandomNumber(0,b.poses.length-1)]),b.idleTimeout=0},Math.getRandomNumber(500,1E3))}};case "move_wallCollide":return function(){var a=this.vel*BigBlock.Grid.blk_dim*
Math.cos(this.angle),b=this.vel*BigBlock.Grid.blk_dim*Math.sin(this.angle);this.x+a>0&&this.x+a<BigBlock.Grid.width?this.x+=a:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));this.y+b>0&&this.y+b<BigBlock.Grid.height?this.y+=b:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));Math.floor(this.vel--)>0?this.vel--:this.vel=0};case "move":return function(){this.x+=BigBlock.Grid.blk_dim}}}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.CharPresets=function(){function b(){return{getChar:function(a,b){typeof b==="undefined"&&(b="bigblock_bold");var d=!1;switch(b){case "bigblock_plain":switch(a){case " ":d=[];break;case "A":case "a":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "B":case "b":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "C":case "c":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},
{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "D":case "d":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "E":case "e":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "F":case "f":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33}];break;case "G":case "g":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:20},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "H":case "h":d=
[{p:1},{p:5},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "I":case "i":d=[{p:2},{p:3},{p:4},{p:11},{p:19},{p:27},{p:34},{p:35},{p:36}];break;case "J":case "j":d=[{p:5},{p:13},{p:21},{p:25},{p:29},{p:26},{p:34},{p:35},{p:36}];break;case "K":case "k":d=[{p:1},{p:5},{p:9},{p:12},{p:17},{p:18},{p:19},{p:25},{p:28},{p:33},{p:37}];break;case "L":case "l":d=[{p:1},{p:9},{p:17},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "M":case "m":d=[{p:1},{p:5},{p:9},{p:10},
{p:12},{p:13},{p:17},{p:19},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "N":case "n":d=[{p:1},{p:5},{p:9},{p:10},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:33},{p:37}];break;case "O":case "o":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "P":case "p":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:33}];break;case "Q":case "q":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:34},
{p:35},{p:36},{p:37}];break;case "R":case "r":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:37}];break;case "S":case "s":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "T":case "t":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:11},{p:19},{p:27},{p:35}];break;case "U":case "u":d=[{p:1},{p:5},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "V":case "v":d=[{p:1},{p:5},{p:9},{p:13},{p:17},
{p:21},{p:26},{p:28},{p:35}];break;case "W":case "w":d=[{p:1},{p:4},{p:7},{p:9},{p:12},{p:15},{p:17},{p:20},{p:23},{p:25},{p:28},{p:31},{p:34},{p:35},{p:37},{p:38}];break;case "X":case "x":d=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:26},{p:28},{p:33},{p:37}];break;case "Y":case "y":d=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:27},{p:35}];break;case "Z":case "z":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:12},{p:19},{p:26},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "1":d=[{p:3},{p:10},{p:11},{p:19},{p:27},{p:35}];
break;case "2":d=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:25},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "3":d=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "4":d=[{p:3},{p:4},{p:10},{p:12},{p:17},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:36}];break;case "5":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "6":d=[{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},
{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "7":d=[{p:2},{p:3},{p:4},{p:5},{p:13},{p:20},{p:27},{p:35}];break;case "8":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "9":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:21},{p:28},{p:34},{p:35},{p:36}];break;case "0":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "arrow_down":d=[{p:3},{p:11},{p:17},{p:19},{p:21},{p:26},{p:27},{p:28},
{p:35}];break;case "arrow_up":d=[{p:3},{p:10},{p:11},{p:12},{p:17},{p:19},{p:21},{p:27},{p:35}];break;case "arrow_left":d=[{p:3},{p:10},{p:17},{p:18},{p:19},{p:20},{p:21},{p:26},{p:35}];break;case "arrow_right":d=[{p:3},{p:12},{p:17},{p:18},{p:19},{p:20},{p:21},{p:28},{p:35}];break;case "!":d=[{p:3},{p:11},{p:19},{p:35}];break;case "@":d=[{p:2},{p:3},{p:4},{p:9},{p:11},{p:13},{p:17},{p:19},{p:20},{p:21},{p:25},{p:34},{p:35},{p:36}];break;case "#":d=[{p:2},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:18},
{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:34},{p:36}];break;case "$":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:11},{p:18},{p:19},{p:20},{p:27},{p:29},{p:33},{p:34},{p:35},{p:36},{p:43}];break;case "%":d=[{p:1},{p:2},{p:4},{p:9},{p:10},{p:12},{p:19},{p:26},{p:28},{p:29},{p:34},{p:36},{p:37}];break;case "^":d=[{p:3},{p:10},{p:12}];break;case "&":d=[{p:2},{p:3},{p:9},{p:12},{p:18},{p:19},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "*":d=[{p:3},{p:9},{p:11},{p:13},{p:18},{p:19},{p:20},{p:25},{p:27},
{p:29},{p:35}];break;case "(":d=[{p:3},{p:10},{p:18},{p:26},{p:35}];break;case ")":d=[{p:3},{p:12},{p:20},{p:28},{p:35}];break;case "-":d=[{p:18},{p:19},{p:20}];break;case "_":d=[{p:34},{p:35},{p:36},{p:37}];break;case "=":d=[{p:10},{p:11},{p:12},{p:13},{p:26},{p:27},{p:28},{p:29}];break;case "+":d=[{p:3},{p:11},{p:17},{p:18},{p:19},{p:20},{p:21},{p:27},{p:35}];break;case ";":d=[{p:3},{p:27},{p:34}];break;case ":":d=[{p:11},{p:35}];break;case "'":d=[{p:3},{p:10},{p:18}];break;case ",":d=[{p:34},{p:41}];
break;case ".":d=[{p:33}];break;case "<":d=[{p:3},{p:10},{p:17},{p:26},{p:35}];break;case ">":d=[{p:3},{p:12},{p:21},{p:28},{p:35}];break;case "/":d=[{p:4},{p:12},{p:19},{p:26},{p:34}];break;case "?":d=[{p:1},{p:2},{p:3},{p:12},{p:18},{p:19},{p:34}];break;case "{":d=[{p:3},{p:4},{p:11},{p:18},{p:27},{p:35},{p:36}];break;case "}":d=[{p:2},{p:3},{p:11},{p:20},{p:27},{p:34},{p:35}];break;case "[":d=[{p:3},{p:4},{p:11},{p:19},{p:27},{p:35},{p:36}];break;case "]":d=[{p:2},{p:3},{p:11},{p:19},{p:27},{p:34},
{p:35}];break;case "|":d=[{p:3},{p:11},{p:19},{p:27},{p:35}];break;case "currency_cents":d=[{p:2},{p:9},{p:10},{p:11},{p:17},{p:25},{p:26},{p:27},{p:34}]}break;case "bigblock_bold":switch(a){case " ":d=[];break;case "A":case "a":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "B":case "b":d=[{p:2},{p:3},{p:10},
{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "C":case "c":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "D":case "d":d=
[{p:2},{p:3},{p:4},{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:58},{p:59},{p:60},{p:61}];break;case "E":case "e":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "F":case "f":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case "G":case "g":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "H":case "h":d=
[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "I":case "i":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "J":case "j":d=[{p:6},{p:7},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "K":case "k":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "L":case "l":d=[{p:2},{p:3},
{p:10},{p:11},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "M":case "m":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "N":case "n":d=[{p:2},{p:3},{p:4},
{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "O":case "o":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];
break;case "P":case "p":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:58},{p:59}];break;case "Q":case "q":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},
{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "R":case "r":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "S":case "s":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},
{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "T":case "t":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "U":case "u":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "V":case "v":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "W":case "w":d=[{p:1},{p:2},{p:7},{p:8},{p:9},{p:10},{p:15},{p:16},{p:17},{p:18},{p:23},{p:24},{p:25},{p:26},{p:31},{p:32},{p:33},{p:34},{p:37},{p:38},{p:39},{p:40},{p:41},{p:42},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},
{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:57},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63},{p:64}];break;case "X":case "x":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "Y":case "y":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},
{p:61}];break;case "Z":case "z":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "1":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},
{p:61},{p:62},{p:63}];break;case "2":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "3":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "4":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "5":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:52},
{p:53},{p:54},{p:55},{p:60},{p:61},{p:62},{p:63}];break;case "6":d=[{p:2},{p:3},{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "7":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;
case "8":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "9":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},
{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "0":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "arrow_down":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},
{p:40},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "arrow_up":d=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "arrow_left":d=[{p:4},{p:11},{p:12},{p:18},{p:19},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:42},{p:43},
{p:44},{p:51},{p:52},{p:60}];break;case "arrow_right":d=[{p:5},{p:13},{p:14},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:45},{p:46},{p:47},{p:53},{p:54},{p:61}];break;case "!":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:52},{p:53},{p:60},{p:61}];break;case "@":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:21},{p:22},{p:23},{p:24},{p:25},{p:26},{p:29},{p:30},{p:31},
{p:32},{p:33},{p:34},{p:41},{p:42},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "#":d=[{p:2},{p:3},{p:6},{p:7},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:16},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:24},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:58},{p:59},{p:62},{p:63}];break;case "$":d=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:15},
{p:18},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:36},{p:37},{p:38},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "%":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "^":d=[{p:4},{p:5},{p:12},{p:13},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:30},{p:34},{p:35},{p:38},{p:39},
{p:42},{p:43},{p:46},{p:47}];break;case "&":d=[{p:3},{p:4},{p:11},{p:12},{p:17},{p:18},{p:21},{p:22},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:35},{p:36},{p:41},{p:42},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:59},{p:60},{p:61},{p:62}];break;case "*":d=[{p:4},{p:10},{p:12},{p:14},{p:20},{p:21},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:35},{p:36},{p:37},{p:42},{p:44},{p:46},{p:52}];break;case "(":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:26},{p:27},{p:34},
{p:35},{p:42},{p:43},{p:52},{p:53},{p:60},{p:61}];break;case ")":d=[{p:4},{p:5},{p:12},{p:13},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "-":d=[{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39}];break;case "_":d=[{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "=":d=[{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:42},{p:43},
{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55}];break;case "+":d=[{p:12},{p:13},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:52},{p:53}];break;case ";":d=[{p:12},{p:13},{p:20},{p:21},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case ":":d=[{p:12},{p:13},{p:20},{p:21},{p:44},{p:45},{p:52},{p:53}];break;case "'":d=[{p:6},{p:7},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29}];break;case ",":d=[{p:37},
{p:38},{p:45},{p:46},{p:51},{p:52},{p:59},{p:60}];break;case ".":d=[{p:52},{p:53},{p:60},{p:61}];break;case "<":d=[{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:34},{p:35},{p:36},{p:37},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55}];break;case ">":d=[{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:28},{p:29},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51}];break;case "/":d=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:28},{p:29},{p:35},{p:36},
{p:43},{p:44},{p:50},{p:51},{p:58},{p:59}];break;case "?":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:60},{p:61}];break;case "{":d=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:27},{p:28},{p:29},{p:35},{p:36},{p:37},{p:44},{p:45},{p:53},{p:54},{p:61},{p:62}];break;case "}":d=[{p:3},{p:4},{p:11},{p:12},{p:20},{p:21},{p:28},{p:29},{p:30},{p:36},{p:37},{p:38},{p:44},{p:45},{p:51},{p:52},{p:59},{p:60}];break;
case "[":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:19},{p:20},{p:27},{p:28},{p:35},{p:36},{p:43},{p:44},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "]":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:21},{p:22},{p:29},{p:30},{p:37},{p:38},{p:45},{p:46},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "|":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "currency_cents":d=
[{p:3},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:25},{p:26},{p:33},{p:34},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60}]}}return d}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.EmitterPresets=function(){function b(){return{getPreset:function(a,b){var d,f=BigBlock.Grid,g={};switch(a){case "fire":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:1,p_burst:16,p_velocity:1.5,p_velocity_spread:0.1,p_angle:270,p_angle_spread:0,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "spark":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:50,
p_burst:1,p_velocity:1.5,p_velocity_spread:1,p_angle:270,p_angle_spread:0,p_life:25,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:1,p_spiral_vel_y:0};break;case "speak":g={color:"speak",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.75,p_angle:0,p_angle_spread:15,p_life:12,p_life_spread:1,p_life_offset_x:0,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:0,p_init_pos_spread_y:0,
p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_red":g={color:"red_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_white":g={color:"white_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,
p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;default:try{throw Error("BigBlock.EmitterPresets.getPreset(): BigBlock.EmitterPresets: preset does not exist.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}if(typeof b!=="undefined")for(d in b)b.hasOwnProperty(d)&&(g[d]=b[d]);return g}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.Loader=function(){return{id:"loader",class_name:"loader_container",style:{position:"absolute",backgroundColor:"transparent",border:"1px solid #aaa",padding:"2px",textAlign:"center",color:"#aaa"},style_bar:{fontSize:"1%",position:"absolute",top:"2px",left:"2px",backgroundColor:"#999",color:"#999",height:"10px",cssFloat:"left"},width:100,height:10,format:"percentage",total:0,msg:"&nbsp;",bar_color:"#999",add:function(){var b;try{if(window.innerWidth)this.style.left=window.innerWidth/2-this.width/
2+"px",this.style.top=window.innerHeight/2-this.height/2+"px";else if(document.documentElement.clientWidth)this.style.left=document.documentElement.clientWidth/2-this.width/2+"px",this.style.top=document.documentElement.clientHeight/2-this.height/2+"px";else throw this.style.left="350px",this.style.top="195px",Error("Err: LA001");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}this.style.width=this.width+"px";this.style.height=this.height+"px";var e=document.createElement("div");e.setAttribute("id",
this.id);e.setAttribute("class",this.class_name);typeof document.addEventListener!=="function"&&e.setAttribute("className",this.class_name);document.getElementsByTagName("body").item(0).appendChild(e);e=document.createElement("div");e.setAttribute("id",this.id+"_bar");e.setAttribute("class",this.class_name+"_bar");typeof document.addEventListener!=="function"&&e.setAttribute("className",this.class_name+"_bar");document.getElementById(this.id).appendChild(e);for(b in this.style)this.style.hasOwnProperty(b)&&
(document.getElementById(this.id).style[b]=this.style[b]);for(b in this.style_bar)this.style_bar.hasOwnProperty(b)&&(document.getElementById(this.id+"_bar").style[b]=this.style_bar[b]);document.getElementById(this.id+"_bar").style.cssFloat="left"},update:function(b){if(typeof b!=="undefined"&&typeof b.total!=="undefined")this.total=b.total;b=this.total/100*100;document.getElementById(this.id+"_bar").style.width=b+"px"}}}();
BigBlock.LocalStorage=function(){var b=!0;typeof window.localStorage==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support localStorage."));return{supported:b,alias:"local_storage",getItem:function(a){if(this.supported===!0)try{return localStorage.getItem(a)}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},setItem:function(a,b){if(this.supported===!0)try{return localStorage.setItem(a,b)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},removeItem:function(a){if(this.supported===
!0)try{return localStorage.removeItem(a)}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},clear:function(){if(this.supported===!0)try{return localStorage.clear()}catch(a){BigBlock.Log.display(a.name+": "+a.message)}}}}();
BigBlock.RenderMgr=function(){return{last_rendered_div:null,grid_static_fragment:null,grid_text_fragment:null,render_rate_test_array:[],renderBlocks:function(b){var a,e,c,d,f,g,h,i;BigBlock.Timer.debug_frame_rate&&(c=(new Date).getTime());this.grid_static_fragment=document.createDocumentFragment();this.grid_text_fragment=document.createDocumentFragment();a=d=0;for(e=b.length;a<e;a+=1){f=b[a];if(f.img===!1){if(f.pix_index!==!1)if(f.render_static)switch(f.className){case "Character":this.renderChar(d,
f,f.color_index,0);break;default:this.renderStaticBlock(f,f.color_index,0)}else this.renderActiveBlock(d,f,f.color_index,0),d+=1}else{h=0;for(i=f.img.pix.length;h<i;h+=1)g=f.img.pix[h],f.render_static?this.renderStaticBlock(f,g.c,g.i):(this.renderActiveBlock(d,f,g.c,g.i),d+=1)}if(f.render_static&&typeof f.img!=="undefined")f.render_static=!1,f.destroy()}document.getElementById(BigBlock.GridStatic.viewport.id).appendChild(this.grid_static_fragment);document.getElementById(BigBlock.GridText.viewport.id).appendChild(this.grid_text_fragment);
this.last_rendered_div=BigBlock.GridActive.viewport.last_el;BigBlock.GridActive.viewport.last_el=!1;if(this.last_rendered_div)for(;this.last_rendered_div.nextSibling!==null;)a=this.last_rendered_div.nextSibling,this.setBlockAttribute(a,"class","pix color i0"),this.last_rendered_div=a;BigBlock.Timer.debug_frame_rate&&this.runRateTest(c)},renderActiveBlock:function(b,a,e,c){var d;(a.img!==!1&&a.is_position_updated)!==!1||a.is_anim_updated!==!1?(b=BigBlock.getPixLoc("x",a.x,c),d=BigBlock.getPixLoc("y",
a.y,c),c=BigBlock.getPixIndex(b,d)):(b=a.x,d=a.y,c=a.pix_index);if(BigBlock.ptInsideRect(b,d,0,BigBlock.Grid.width,0,BigBlock.Grid.height)){if(a.is_position_updated||a.is_anim_updated||a.is_color_updated)a=BigBlock.GridActive.viewport.last_el?BigBlock.GridActive.viewport.last_el.nextSibling:BigBlock.GridActive.viewport.dom_ref.firstChild,BigBlock.GridActive.viewport.last_el=a,this.setBlockAttribute(a,"class","pix "+BigBlock.CSSid_color+e+" "+BigBlock.CSSid_position+c)}else return!1},renderStaticBlock:function(b,
a,e){var c;c=BigBlock.getPixLoc("x",b.x,e);e=BigBlock.getPixLoc("y",b.y,e);if(BigBlock.ptInsideRect(c,e,0,BigBlock.Grid.width,0,BigBlock.Grid.height))c=BigBlock.getPixIndex(c,e),e=BigBlock.GridStatic.div.cloneNode(!1),this.setBlockAttribute(e,"id","_static"),this.setBlockAttribute(e,"name",b.alias),this.setBlockAttribute(e,"class","pix "+BigBlock.CSSid_color+a+" "+BigBlock.CSSid_position+c),this.grid_static_fragment.appendChild(e);else return!1},renderChar:function(b,a,e,c){var d,f,g,h;b=BigBlock.getPixLoc("x",
a.x,c);c=BigBlock.getPixLoc("y",a.y,c);if(BigBlock.ptInsideRect(b,c,0,BigBlock.Grid.width,0,BigBlock.Grid.height)&&c<BigBlock.GridStatic.height){b=BigBlock.getPixIndex(b,c);c=BigBlock.GridText.div.cloneNode(!1);this.setBlockAttribute(c,"name",a.word_id);this.setBlockAttribute(c,"class","pix "+BigBlock.CSSid_text_bg+" "+BigBlock.CSSid_position+b);b=a.char_pos;d=0;for(f=b.length;d<f;d+=1)g=BigBlock.GridText.div.cloneNode(!1),h=BigBlock.Grid.blk_dim*4,b[d].p<h&&a.glass===!0?this.setBlockAttribute(g,
"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+b[d].p+" "+BigBlock.CSSid_color+e+"_glass0"):this.setBlockAttribute(g,"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+b[d].p+" "+BigBlock.CSSid_color+e),c.appendChild(g);this.grid_text_fragment.appendChild(c)}},setBlockAttribute:function(b,a,e){if(typeof b!=="object"||b===null)return!1;else if(b.setAttribute(a,e),typeof document.addEventListener!=="function"&&a==="class")b.setAttribute("className",e),b.innerHTML="."},clearScene:function(b,
a){BigBlock.inputBlock=!0;try{if(typeof b!=="undefined"&&b!==null)if(typeof b!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): beforeClear must be a function");else b()}catch(e){BigBlock.Log.display(e.name+": "+e.message)}if(typeof BigBlock.GridStatic!=="undefined")document.getElementById(BigBlock.GridStatic.viewport.id).innerHTML="",BigBlock.GridStatic.setStyle("backgroundColor","transparent");if(typeof BigBlock.GridText!=="undefined")document.getElementById(BigBlock.GridText.viewport.id).innerHTML=
"",BigBlock.GridText.setStyle("backgroundColor","transparent");if(typeof BigBlock.Blocks!=="undefined")BigBlock.Blocks={};if(typeof BigBlock.BlocksKeys!=="undefined")BigBlock.BlocksKeys=[];if(typeof BigBlock.Button.map!=="undefined")BigBlock.Button.map=[];try{if(typeof a!=="undefined"&&a!==null)if(typeof a!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): afterClear must be a function.");else a()}catch(c){BigBlock.Log.display(c.name+": "+c.message)}BigBlock.inputBlock=
!1},runRateTest:function(b){var a,e;a=(new Date).getTime()-b;b=BigBlock.Timer.frame_rate_test_interval;this.render_rate_test_array[this.render_rate_test_array.length]=a;if(BigBlock.Timer.clock%b===0){for(e=a=0;e<b;e+=1)a+=this.render_rate_test_array[e];BigBlock.Log.display("Avg render: "+(a/b).toFixed(2)+"ms");this.render_rate_test_array=[]}}}}();
BigBlock.ScreenEvent=function(){var b,a,e,c,d,f,g,h;b=function(a,b){BigBlock.Timer.input_feedback===!0&&BigBlock.BlockSmall.create({x:a,y:b,life:10,color:"white_black"})};a=function(a,b){var c=BigBlock.GridActive.viewport.dom_ref;c.removeEventListener&&c.removeEventListener(a,b,!1)};e=function(a){var b={x:!1,y:!1};if(typeof BigBlock.GridActive!=="undefined")b.x=a.clientX-BigBlock.GridActive.x,b.y=a.clientY-BigBlock.GridActive.y;return b};c=function(a,b,c){var d,e,f,g,h,n;if(typeof BigBlock.Button!==
"undefined"&&typeof BigBlock.Button.map!=="undefined"){d=0;for(e=BigBlock.Button.map.length;d<e;d++)if(f=BigBlock.Button.map[d].x,g=BigBlock.Button.map[d].y,h=f+BigBlock.Button.map[d].width,n=g+BigBlock.Button.map[d].height,BigBlock.ptInsideRect(a,b,f,h,g,n)&&BigBlock.Button.map[d].action_input!==!1)return BigBlock.Button.map[d].action_input(c,BigBlock.Button.map[d]),!1}return!0};d=function(a,b,c){var d,e,f,g,h,n;d=0;for(e=BigBlock.BlocksKeys.length;d<e;d++)if(typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]]!==
"undefined"&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input!=="undefined"&&BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input!==!1&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input==="function"){f=BigBlock.Blocks[BigBlock.BlocksKeys[d]].x;g=BigBlock.Blocks[BigBlock.BlocksKeys[d]].y;h=BigBlock.Blocks[BigBlock.BlocksKeys[d]].width;n=BigBlock.Blocks[BigBlock.BlocksKeys[d]].height;if(typeof h==="undefined")h=BigBlock.Grid.blk_dim;if(typeof n==="undefined")n=BigBlock.Grid.blk_dim;
if(BigBlock.ptInsideRect(a,b,f,f+h,g,g+n))return BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input(c),!1}return!0};f=function(){if(BigBlock.inputBlock===!0)return!1;return!0};g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};h=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};return{current_frame:0,resetCurrentFrame:function(){this.current_frame=0},screen_mouseup:!1,screen_mousedown:!1,screen_mousemove:!1,screen_touchstart:!1,screen_touchmove:!1,screen_touchend:!1,
screen_click:!1,frameAdvance:function(){},create:function(i){this.alias="ScreenEvent";this.evtListener=[];this.screen_mouseup=BigBlock.ScreenEvent.screen_mouseup;this.screen_mousedown=BigBlock.ScreenEvent.screen_mousedown;this.screen_mousemove=BigBlock.ScreenEvent.screen_mousemove;this.screen_touchstart=BigBlock.ScreenEvent.screen_touchstart;this.screen_touchmove=BigBlock.ScreenEvent.screen_touchmove;this.screen_touchend=BigBlock.ScreenEvent.screen_touchend;this.screen_click=BigBlock.ScreenEvent.screen_click;
this.frameAdvance=BigBlock.ScreenEvent.frameAdvance;this.inputFeedback=b;this.removeListensers=a;this.getEventLocation=e;this.checkButtonAction=c;this.checkBlockAction=d;this.checkInputBlock=f;this.preventDefault=g;this.stopPropagation=h;this.event_start=(new Date).getTime();this.event_time=this.event_end=0;this.event_buffer=i.event_buffer?i.event_buffer:200;this.mouseup_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;
BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;BigBlock.ScreenEvent.removeListensers("touchstart",BigBlock.ScreenEvent.touchstart_event);if(BigBlock.ScreenEvent.event_time>BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(a);if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_mouseup!==
"undefined"&&typeof BigBlock.ScreenEvent.screen_mouseup==="function"&&BigBlock.ScreenEvent.screen_mouseup(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};this.mousemove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;
var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousemove!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mousemove==="function"&&BigBlock.ScreenEvent.screen_mousemove(b.x,b.y,a)};this.mousedown_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousedown!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mousedown===
"function"&&BigBlock.ScreenEvent.screen_mousedown(b.x,b.y,a)};this.touchstart_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;this.touch=a.touches[0];BigBlock.ScreenEvent.removeListensers("mouseup",BigBlock.ScreenEvent.mouseup_event);if(BigBlock.ScreenEvent.event_time>
BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(this.touch);if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_touchstart!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchstart==="function"&&BigBlock.ScreenEvent.screen_touchstart(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),
BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};this.touchmove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchmove!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchmove==="function"&&BigBlock.ScreenEvent.screen_touchmove(b.x,b.y,a)};this.touchend_event=
function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchend!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchend==="function"&&BigBlock.ScreenEvent.screen_touchend(b.x,b.y,a)};this.click_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1}}}}();
BigBlock.Timer=function(){var b=(new Date).getTime();return{frame_rate_test_array:[],frame_rate_test_start:!1,frame_rate_test_end:!1,run_rate_test_array:[],run_interval:!1,app_footer:!1,app_footer_styles:!1,app_header:!1,app_header_styles:!1,before_play:!1,debug_frame_rate:!1,document_body_style:{backgroundColor:"#000"},event_buffer:!1,force_max_frame_rate:!0,frame_rate:33,frame_rate_test_interval:100,grid_active_styles:!1,grid_text_styles:!1,grid_static_styles:!1,grid_bg_styles:{backgroundColor:"#333"},
input_feedback:!0,is_paused:!1,max_active_blocks:200,alias:"Timer",F:!1,build_timeout:!1,time:0,clock:0,errors:[],build_start:(new Date).getTime(),blocks_to_destroy:[],play:function(a){var b,c;if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);b=document.getElementsByTagName("body").item(0);for(c in this.document_body_style)this.document_body_style.hasOwnProperty(c)&&(b.style[c]=this.document_body_style[c]);a=document.createElement("style");a.setAttribute("type","text/css");
b=document.getElementsByTagName("head").item(0);b.appendChild(a);a=document.styleSheets[document.styleSheets.length-1];c={body:"margin: 0;padding: 0;background-color:#ccc;","div.color":"background-color : transparent;","div.pix":"float:left;width:"+BigBlock.Grid.blk_dim+"px;height:"+BigBlock.Grid.blk_dim+"px;position:absolute;line-height:0px;font-size:1%;"};try{if(a.insertRule)for(b in c)c.hasOwnProperty(b)&&a.insertRule(b+" {"+c[b]+"}",0);else if(a.addRule)for(b in c)c.hasOwnProperty(b)&&a.addRule(b,
c[b],0);else throw Error("BigBlock.Timer.play(): document.styleSheets insertion failed. Browser does not support insertRule() or addRule().");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridInit=new this.F;BigBlock.GridInit.configure({viewport:{id:"init",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-100,dom_ref:null,last_el:null}});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridActive=new this.F;BigBlock.GridActive.configure({viewport:{id:"active",
width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:10,dom_ref:null,last_el:!1},styles:document.attachEvent?{backgroundImage:"url('trans.gif')"}:this.grid_active_styles});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridStatic=new this.F;BigBlock.GridStatic.configure({viewport:{id:"static",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-10,dom_ref:null,last_el:null},styles:this.grid_static_styles});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridText=
new this.F;BigBlock.GridText.configure({viewport:{id:"text",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:1,dom_ref:null,last_el:null},styles:this.grid_text_styles});BigBlock.Grid.total_viewport_cols=Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim);this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridBG=new this.F;BigBlock.GridBG.configure({viewport:{id:"GBG",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-20,dom_ref:null,last_el:null},styles:this.grid_bg_styles});
delete this.F.prototype.configure;this.add_char_loader()},add_char_loader:function(){var a;BigBlock.Loader.add();BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(a);this.build_char()},build_char:function(){BigBlock.GridActive.buildCharStyles()?(clearTimeout(this.build_timeout),this.add_color_loader()):this.build_timeout=setTimeout(this.build_char,1)},add_color_loader:function(){var a;BigBlock.Loader.add();
BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(a);this.build_color()},build_color:function(){BigBlock.Color.build()?(clearTimeout(this.build_timeout),BigBlock.Timer.add_grid_loader()):this.build_timeout=setTimeout(BigBlock.Timer.build_color,1)},add_grid_loader:function(){var a;BigBlock.Loader.add();BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(a);
BigBlock.Timer.build_grid()},build_grid:function(){var a,e,c,d;if(BigBlock.GridActive.build()){for(a=document.getElementsByTagName("body").item(0);document.getElementById("loader");)e=document.getElementById("loader"),a.removeChild(e);BigBlock.GridInit.add();BigBlock.GridActive.add();for(a=0;a<BigBlock.Timer.max_active_blocks;a+=1)BigBlock.GridActive.viewport.dom_ref.appendChild(BigBlock.GridActive.div.cloneNode(!1));BigBlock.GridStatic.add();BigBlock.GridText.add();BigBlock.GridBG.add();BigBlock.Log.display((new Date).getTime()-
b+"ms");delete BigBlock.Loader;delete BigBlock.Timer.add_color_loader;delete BigBlock.Timer.build_color;delete BigBlock.Timer.add_grid_loader;delete BigBlock.Timer.build_grid;delete BigBlock.Timer.play;delete BigBlock.Timer.F.prototype.add;delete BigBlock.Timer.F.prototype.build;delete BigBlock.Timer.F.prototype.buildCharStyles;delete BigBlock.Timer.F;if(BigBlock.Timer.app_header!==!1)a=BigBlock.GridActive.x,e=BigBlock.GridActive.y,d=typeof BigBlock.Timer.app_header_styles.backgroundColor==="undefined"?
BigBlock.Timer.document_body_style.backgroundColor:BigBlock.Timer.app_header_styles.backgroundColor,BigBlock.Header.add(a,e,d);if(BigBlock.Timer.app_footer!==!1)a=BigBlock.GridActive.x,e=BigBlock.GridActive.y+BigBlock.GridActive.height,d=typeof BigBlock.Timer.app_footer_styles.backgroundColor==="undefined"?BigBlock.Timer.document_body_style.backgroundColor:BigBlock.Timer.app_footer_styles.backgroundColor,BigBlock.Footer.add(a,e,d);typeof BigBlock.ScreenEvent.alias==="undefined"&&BigBlock.ScreenEvent.create({event_buffer:BigBlock.Timer.event_buffer});
a=document.getElementById(BigBlock.GridActive.viewport.id);BigBlock.ScreenEvent.evtListener={};BigBlock.ScreenEvent.evtListener.click=BigBlock.ScreenEvent.click_event;BigBlock.ScreenEvent.evtListener.mouseup=BigBlock.ScreenEvent.mouseup_event;BigBlock.ScreenEvent.evtListener.mousemove=BigBlock.ScreenEvent.mousemove_event;BigBlock.ScreenEvent.evtListener.mousedown=BigBlock.ScreenEvent.mousedown_event;BigBlock.ScreenEvent.evtListener.touchstart=BigBlock.ScreenEvent.touchstart_event;BigBlock.ScreenEvent.evtListener.touchmove=
BigBlock.ScreenEvent.touchmove_event;BigBlock.ScreenEvent.evtListener.touchend=BigBlock.ScreenEvent.touchend_event;for(c in BigBlock.ScreenEvent.evtListener)BigBlock.ScreenEvent.evtListener.hasOwnProperty(c)&&(a.addEventListener?a.addEventListener(c,BigBlock.ScreenEvent.evtListener[c],!1):a.attachEvent&&a.attachEvent("on"+c,BigBlock.ScreenEvent.evtListener[c]));BigBlock.Timer.before_play!==!1&&typeof BigBlock.Timer.before_play==="function"&&BigBlock.Timer.before_play();clearTimeout(BigBlock.Timer.build_timeout);
BigBlock.Timer.run_interval=setInterval(function(){BigBlock.Timer.run()},10)}else this.build_timeout=setTimeout(BigBlock.Timer.build_grid,1)},run:function(){var a,b,c=[],d;if(!this.is_paused){this.frame_rate_test_end=(new Date).getTime();a=this.frame_rate_test_end-this.frame_rate_test_start;if(this.force_max_frame_rate&&this.frame_rate_test_start!==!1&&this.frame_rate_test_end!==!1)for(a=this.frame_rate-a;(new Date).getTime()<this.frame_rate_test_end+a;);this.debug_frame_rate&&this.frameRateTest();
this.frame_rate_test_start=(new Date).getTime();this.blocks_to_destroy.length>0&&this.cleanUpBlocks();a=0;for(b=BigBlock.BlocksKeys.length;a<b;a+=1)typeof BigBlock.Blocks[BigBlock.BlocksKeys[a]]!=="undefined"&&(d=BigBlock.Blocks[BigBlock.BlocksKeys[a]],d.run(),typeof d.img!=="undefined"&&d.render!==0&&(c[c.length]=d,d.render-=1));this.debug_frame_rate&&this.runRateTest();BigBlock.BlocksKeys.length>0&&BigBlock.RenderMgr.renderBlocks(c);BigBlock.BlockSmall.create({alias:"cleaner",color:"transparent",
life:2});this.clock+=1}},cleanUpBlocks:function(){var a,b,c,d;a=0;for(b=this.blocks_to_destroy.length;a<b;a+=1){typeof BigBlock.Blocks[this.blocks_to_destroy[a]]!=="undefined"&&typeof BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy==="function"&&BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy();delete BigBlock.Blocks[this.blocks_to_destroy[a]];c=0;for(d=BigBlock.BlocksKeys.length;c<d;c+=1)if(BigBlock.BlocksKeys[c]===this.blocks_to_destroy[a]){BigBlock.BlocksKeys.splice(c,1);break}}this.blocks_to_destroy=
[]},destroyObject:function(a){if(typeof a!=="undefined")this.blocks_to_destroy[this.blocks_to_destroy.length]=a.alias},frameRateTest:function(){var a,b,c;this.frame_rate_test_array[this.frame_rate_test_array.length]=(new Date).getTime()-this.frame_rate_test_start;if(this.clock%this.frame_rate_test_interval===0){b=a=0;for(c=this.frame_rate_test_interval;b<c;b+=1)a+=this.frame_rate_test_array[b];b=a/this.frame_rate_test_interval;a=1E3/(a/this.frame_rate_test_interval);this.frame_rate_test_start!==0&&
(BigBlock.Log.display("/////"),BigBlock.Log.display("Avg frame rate: "+b.toFixed(2)+"ms ("+a.toFixed(2)+" frm/sec)"));this.frame_rate_test_array=[]}},runRateTest:function(){var a,b,c;this.run_rate_test_array[this.run_rate_test_array.length]=(new Date).getTime()-this.frame_rate_test_start;if(this.clock%this.frame_rate_test_interval===0){b=a=0;for(c=this.run_rate_test_array.length;b<c;b+=1)a+=this.run_rate_test_array[b];a/=this.run_rate_test_array.length;this.frame_rate_test_start!==0&&BigBlock.Log.display("Run rate: "+
a.toFixed(2)+"ms Total blocks: "+BigBlock.BlocksKeys.length);this.run_rate_test_array=[]}}}}();
BigBlock.Word=function(){return{create:function(b){var a,e,c=new (BigBlock.clone(BigBlock.Block));c.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(c[a]=b[a]);e=BigBlock.Color.getPalette();a=0;for(b=e.classes.length;a<b;a++)if(e.classes[a].name===c.color){c.color_max=e.classes[a].val.length-1;break}c.className="Word";c.render=0;if(c.center)e=c.word.length*BigBlock.Grid.blk_dim,c.x=BigBlock.Grid.width/2-e/2;c.destroy=function(a){var b,c,d,e,f,j;c=this.alias;b=document.getElementById(BigBlock.GridText.viewport.id);
if(b.hasChildNodes()){d=b.childNodes;e=[];f=0;for(j=d.length;f<j;f++)e[e.length]=d[f];f=0;for(j=e.length;f<j;f++)e[f].getAttribute("name")===c&&b.removeChild(e[f])}if(typeof a==="function")this.after_destroy=a;this.render=0;BigBlock.Timer.destroyObject(this)};BigBlock.Blocks[c.alias]=c;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=c.alias;try{if(typeof BigBlock.CharPresets.getChar==="undefined")throw Error("BigBlock.Word.create(): BigBlock.CharPresets = BigBlock.CharPresets.install() must be run before creating Words.");
else if(BigBlock.CharPresets.getChar(c.word))BigBlock.Character.create({word_id:c.alias,character:c.word,x:c.x,y:c.y,color:c.color,font:c.font,glass:c.glass});else{var d=new String(c.word);a=0;for(b=d.length;a<b;a++)BigBlock.Character.create({word_id:c.alias,character:d.substr(a,1),x:c.x+a*BigBlock.Grid.blk_dim,y:c.y,color:c.color,font:c.font,glass:c.glass})}}catch(f){BigBlock.Log.display(f.name+": "+f.message)}}}}();