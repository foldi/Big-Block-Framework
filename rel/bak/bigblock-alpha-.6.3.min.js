/**
 Big Block Framework
 Copyright (C) 2011 Foldi, LLC 
 */
var BigBlock={};BigBlock.Blocks={};BigBlock.BlocksKeys=[];BigBlock.curentFrame=0;BigBlock.inputBlock=!1;BigBlock.URL_ittybitty8bit="http://www.ittybitty8bit.com";BigBlock.URL_Facebook="http://www.facebook.com/pages/ittybitty8bit/124916544219794";BigBlock.URL_Twitter="http://www.twitter.com/ittybitty8bit";BigBlock.CSSid_core="core";BigBlock.CSSid_color="color";BigBlock.CSSid_position="i";BigBlock.CSSid_char="ch";BigBlock.CSSid_char_pos="ch_p";BigBlock.CSSid_text_bg="txt_bg";
BigBlock.CSSid_grid_pos="grid_p";BigBlock.user_agent=navigator.userAgent.toLowerCase();if(BigBlock.user_agent.search("iphone")>-1)BigBlock.is_iphone=!0;if(BigBlock.user_agent.search("ipad")>-1)BigBlock.is_ipad=!0;if(window.navigator.standalone)BigBlock.standalone=!0;BigBlock.ready=function(){BigBlock.Timer.play()};Math.degreesToRadians=function(b){return Math.PI/180*b};Math.radiansToDegrees=function(b){return 180/Math.PI*b};
Math.getRandomNumber=function(b,a){return Math.floor(Math.random()*(a-(b-1)))+b};Math.getDistanceBwTwoPts=function(b,a,e,d){return Math.sqrt(Math.pow(e-b,2)+Math.pow(d-a,2))};BigBlock.clone=function(b){function a(){}a.prototype=b;return a};BigBlock.getPixIndex=function(b,a){b>=BigBlock.Grid.width/2&&(b-=BigBlock.Grid.width/2);a>=BigBlock.Grid.height/2&&(a-=BigBlock.Grid.height/2);return Math.floor(b/BigBlock.Grid.blk_dim)+BigBlock.Grid.total_quad_cols*Math.floor(a/BigBlock.Grid.blk_dim)};
BigBlock.getPixLoc=function(b,a,e){var d;b==="x"&&(e%=BigBlock.Grid.total_global_cols,d=a+e*BigBlock.Grid.blk_dim);b==="y"&&(d=a+(e>0?Math.floor(e/BigBlock.Grid.total_global_cols):Math.ceil(e/BigBlock.Grid.total_global_cols))*BigBlock.Grid.blk_dim);return d};BigBlock.getColIndex=function(b,a){var e=BigBlock.Grid.width/BigBlock.Grid.blk_dim;return BigBlock.getFullGridIndex(b,a)%e};
BigBlock.getFullGridIndex=function(b,a){return BigBlock.Grid.blk_dim!==0?Math.floor(b/BigBlock.Grid.blk_dim)+Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim)*Math.floor(a/BigBlock.Grid.blk_dim):1};BigBlock.getBlock=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a++)if(BigBlock.Blocks[a].alias===b)return a;return!1};BigBlock.getWord=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a++)if(BigBlock.Blocks[a].word_id===b)return a;return!1};
BigBlock.removeStaticBlock=function(b,a){var e,d,c,f,g,h,i;try{if(typeof b==="undefined")throw Error("BigBlock.removeStatic(alias): requires an alias.");if(typeof b!=="string")throw Error("utility: removeStatic(): arguement 'alias' must be a string.");if(typeof a!=="undefined"&&typeof a!=="function")throw Error("utility: removeStatic(): arguement 'callback' must be a function.");}catch(j){BigBlock.Log.display(j.name+": "+j.message)}e=0;for(d=BigBlock.GridStatic.quads.length;e<d;e++)if(g=document.getElementById(BigBlock.GridStatic.quads[e].id),
g.hasChildNodes()){h=g.childNodes;i=[];c=0;for(f=h.length;c<f;c++)i[i.length]=h[c];c=0;for(f=i.length;c<f;c++)b===i[c].getAttribute("name")&&g.removeChild(i[c])}typeof a==="function"&&a()};BigBlock.Log=function(){return{display:function(b){try{typeof console!=="undefined"?console.log(b):typeof opera!=="undefined"&&typeof opera.wiiremote!=="undefined"?alert(b):typeof opera!=="undefined"&&opera.postError(b)}catch(a){}}}}();
BigBlock.getUniqueId=function(){return(new Date).getTime()+Math.getRandomNumber(0,1E9)};BigBlock.ptInsideRect=function(b,a,e,d,c,f){if(b>=e&&b<d&&a>=c&&a<f)return!0;return!1};BigBlock.getBigBlockCSS=function(b){var a,e,d,c,f,g;d=document.styleSheets;a=0;for(e=d.length;a<e;a++)if(d[a].cssRules){c=d[a].cssRules;f=0;for(g=c.length;f<g;f++)if(c[f].selectorText===b)return d[a]}else if(d[a].rules){c=d[a].rules;f=0;for(g=c.length;f<g;f++)if(c[f].selectorText===b)return d[a]}return!1};
BigBlock.getWindowDim=function(){var b={width:!1,height:!1};if(typeof window.innerWidth!=="undefined")b.width=window.innerWidth;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientWidth!=="undefined")b.width=document.documentElement.clientWidth;else if(typeof document.body!=="undefined")b.width=document.body.clientWidth;if(typeof window.innerHeight!=="undefined")b.height=window.innerHeight;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientHeight!==
"undefined")b.height=document.documentElement.clientHeight;else if(typeof document.body!=="undefined")b.height=document.body.clientHeight;return b};BigBlock.inArray=function(b,a){var e,d,c;c=!1;e=0;for(d=a.length;e<d;e++)typeof b===typeof a[e]&&b===a[e]&&(c=!0);return c};BigBlock.getFileExtension=function(b){var a,e;try{if(typeof b==="undefined")throw Error("BigBlock.getFileExtension(path): A path is required.");else e=b.split("."),a=e[e.length-1]}catch(d){BigBlock.Log.display(d.name+": "+d.message)}return a};
BigBlock.getMimeTypeFromFileExt=function(b){try{if(typeof b==="undefined")throw Error("BigBlock.getMimeTypeFromFileExt(ext): An extension is required.");else switch(b){case "aif":return["audio/x-aiff","audio/x-aiff"];case "au":case "snd":return["audio/basic"];case "ogg":return["audio/ogg"];case "mp3":return["audio/mpeg","audio/x-mpeg"];case "wav":return["audio/wav","audio/x-wav"];default:return!1}}catch(a){BigBlock.Log.display(a.name+": "+a.message)}};
BigBlock.checkHasDupes=function(b){var a,e,d;a=[];d=b.pix.length;for(a=0;a<d;a++)for(e=a+1;e<d;e++)if(b.pix.i.i===b.pix.j.i)return a=[b.pix.i,b.pix.j];return!1};BigBlock.getMySqlDateTime=function(){var b,a,e,d,c,f;b=new Date;a=b.getFullYear();e=b.getMonth();e<10&&(e="0"+e);d=b.getDate();d<10&&(d="0"+d);c=b.getHours();c<10&&(c="0"+c);f=b.getMinutes();f<10&&(f="0"+f);b=b.getSeconds();b<10&&(b="0"+b);return a+"-"+e+"-"+d+" "+c+":"+f+":"+b};
BigBlock.windowOpen=function(b,a){try{if(typeof b==="undefined")return!1;else typeof a==="undefined"&&(a=""),BigBlock.standalone?confirm("Leaving app. Continue?")&&window.open(b,a):window.open(b,a)}catch(e){BigBlock.Log.display(e.name+": "+e.message)}};
BigBlock.checkCollision=function(b,a,e,d,c){var f,g,h,i,j,l;for(f in BigBlock.Blocks)if(BigBlock.Blocks.hasOwnProperty(f)&&BigBlock.Blocks[f].anim!==!1&&BigBlock.Blocks[f].render_static===!1&&BigBlock.Blocks[f].alias.indexOf(c)!==-1&&d===!1)for(h in g=BigBlock.Blocks[f].anim_frame,BigBlock.Blocks[f].anim[g].frm.pix)if(BigBlock.Blocks[f].anim[g].frm.pix.hasOwnProperty(h)&&(i=BigBlock.getFullGridIndex(BigBlock.Blocks[f].x,BigBlock.Blocks[f].y),i+=BigBlock.Blocks[f].anim[g].frm.pix[h].i,j=BigBlock.getPixLoc("x",
BigBlock.Blocks[f].x,BigBlock.Blocks[f].anim[g].frm.pix[h].i),l=BigBlock.getPixLoc("y",BigBlock.Blocks[f].y,BigBlock.Blocks[f].anim[g].frm.pix[h].i),l=BigBlock.RenderMgr.getQuad("active",j,l),j=BigBlock.RenderMgr.getQuad("active",a,e),j===l&&i===BigBlock.getFullGridIndex(a,e))){BigBlock.Blocks[b].is_hit=!0;BigBlock.Blocks[b].render=2;typeof BigBlock.Blocks[b].action_collide==="function"&&BigBlock.Blocks[b].action_collide();typeof BigBlock.Blocks[f].action_collide==="function"&&BigBlock.Blocks[f].action_collide();
break}};BigBlock.getTransform=function(b,a,e,d){var c,f;c={};f=b*Math.cos(Math.degreesToRadians(a));b*=Math.sin(Math.degreesToRadians(a));c.x=e+f;c.y=d+b;return c};
BigBlock.getParticleTransform=function(b,a,e,d,c,f,g,h,i,j,l){var m,k;m={};k=Math.round(Math.cos(f)*j*BigBlock.Grid.blk_dim);j=b*BigBlock.Grid.blk_dim*Math.cos(a)+k;k=Math.round(Math.cos(f)*l*BigBlock.Grid.blk_dim);b=b*BigBlock.Grid.blk_dim*Math.sin(a)+k;if(!(e+j>=BigBlock.Grid.width))m.x=e+j,m.y=d+b+c*BigBlock.Grid.blk_dim;m.color_index=h+Math.round(i*(f/g));return m};BigBlock.getAngle=function(b,a,e,d){return Math.atan2(b-a,e-d)*180/Math.PI};
BigBlock.Audio=function(){var b=!0;typeof window.Audio==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support HTML5 audio."));return{alias:"audio",supported:b,playlist:{},pause_timeout:null,debug:!1,is_single_channel:!1,single_channel_id:null,last_play:(new Date).getTime(),last_play_delay:500,muted:!1,format:["wav","mp3","ogg"],loading_list:[],loading_complete:!1,add:function(a,e,d,c){var f,g,h,i,j,l,m;if(b){try{if(typeof a==="undefined")throw Error("An id is required");if(typeof e===
"undefined")throw Error("Path to audio file required");}catch(k){BigBlock.Log.display(k.name+": "+k.message)}f=0;for(g=this.format.length;f<g;f++){j=BigBlock.getMimeTypeFromFileExt(this.format[f]);m=new Audio(e+a+"."+this.format[f]);if(d)m.loop=d;l="";h=0;for(i=j.length;h<i;h++)if(l=this.canPlayType(m,j[h]),l!==""){this.debug&&BigBlock.Log.display("This browser will try to play "+a+" audio file in "+j[h]+" format.");break}if(l!=="")break}if(l!=="")m.id=a,this.playlist[a]=m,h=this.playlist[a],h.addEventListener?
(h.addEventListener("canplay",function(a){BigBlock.Audio.playlist[a.target.id].removeEventListener("canplay",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("progress",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("suspend",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("abort",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("error",
this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("stalled",this.eventHandler,!1);BigBlock.Audio.eventHandler(a,c)},!1),h.addEventListener("loadstart",this.eventHandler,!1),h.addEventListener("progress",this.eventHandler,!1),h.addEventListener("suspend",this.eventHandler,!1),h.addEventListener("abort",this.eventHandler,!1),h.addEventListener("error",this.eventHandler,!1),h.addEventListener("emptied",
this.eventHandler,!1),h.addEventListener("stalled",this.eventHandler,!1)):h.attachEvent&&(h.attachEvent("canplay",function(a){BigBlock.Audio.eventHandler(a,c)},!1),h.attachEvent("loadstart",this.eventHandler,!1),h.attachEvent("progress",this.eventHandler,!1),h.attachEvent("suspend",this.eventHandler,!1),h.attachEvent("abort",this.eventHandler,!1),h.attachEvent("error",this.eventHandler,!1),h.attachEvent("emptied",this.eventHandler,!1),h.attachEvent("stalled",this.eventHandler,!1)),h.load?(this.loading_list.push(a),
h.load()):(this.supported=!1,this.playlist=[],BigBlock.Log.display("This browser does not support HTML5 audio."));else if(BigBlock.Log.display("Audio mime-type "+j+" not supported. "+this.format+" files will not be played."),BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[]}},eventHandler:function(a,e){var b,c,f;f="An audio event for "+a.target.id+" just fired.";switch(a.type){case "loadstart":f="Audio: eventHandler: Audio file "+a.target.id+" has started loading.";
break;case "progress":f="Audio: eventHandler: Audio file "+a.target.id+" is loading.";break;case "suspend":f="Audio: eventHandler: The user agent is intentionally not currently fetching "+a.target.id+", but does not have the entire media resource downloaded.";break;case "abort":f="Audio: eventHandler: The user agent stopped fetching "+a.target.id+" before it was completely downloaded, but not due to an error.";break;case "error":f="Audio: eventHandler: An error occurred while fetching "+a.target.id+
".";if(BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[];break;case "emptied":f="Audio: eventHandler: "+a.target.id+"'s network state just switched to NETWORK_EMPTY.";break;case "stalled":f="Audio: eventHandler: The user agent is trying to fetch "+a.target.id+", but data is unexpectedly not forthcoming.";break;case "canplay":f="Audio: eventHandler: Audio file "+a.target.id+" is ready to play.",typeof e!=="undefined"&&setTimeout(function(){e()},0)}if(a.type!==
"loadstart"&&a.type!=="progress"&&a.type!=="suspend"&&a.type!=="emptied"&&a.type!=="stalled"){b=0;for(c=BigBlock.Audio.loading_list.length;b<c;b++)if(BigBlock.Audio.loading_list[b]===a.target.id){BigBlock.Audio.loading_list.splice(b,1);if(BigBlock.Audio.loading_list.length<1)BigBlock.Audio.loading_complete=!0;break}BigBlock.Audio.playlist[a.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("progress",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("suspend",
this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("abort",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("error",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[a.target.id].removeEventListener("stalled",this.eventHandler,!1)}try{if(BigBlock.Audio.debug===!0)throw Error(f);}catch(g){BigBlock.Log.display(g.name+": "+g.message)}},canPlayType:function(a,
e){try{if(typeof e==="undefined")throw Error("A type is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return a.canPlayType?a.canPlayType(e):"maybe"}catch(c){BigBlock.Log.display(c.name+": "+c.message)}return!1},load:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{this.playlist[a].load()}catch(b){BigBlock.Log.display(b.name+": "+b.message)}}},
play:function(a,b,d){var c,f,g,h;if(this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}try{if(this.is_single_channel){if(typeof this.playlist[this.single_channel_id]!=="undefined"&&(h=(new Date).getTime(),h-this.last_play>this.last_play_delay))f=this.getReadyState(this.single_channel_id,!0),f.state>=2&&this.muted===!1?(g=this.track_labels[a].start_time,c=this.track_labels[a].duration,this.pause(this.single_channel_id),
this.setCurrentTime(this.single_channel_id,g),this.playlist[this.single_channel_id].play(),this.last_play=h,this.pause_timeout=setTimeout(function(){BigBlock.Audio.pause(BigBlock.Audio.single_channel_id)},c)):this.debug&&BigBlock.Log.display("Audio: State: "+f.state+" Message: "+f.message)}else typeof this.playlist[a]!=="undefined"&&(f=this.getReadyState(a,!0),f.state>=2&&this.muted===!1&&(typeof b!=="undefined"&&b(),typeof d!=="undefined"&&(c=this.getDuration(a)*1E3,setTimeout(function(){d()},c)),
this.playlist[a].pause(),this.playlist[a].play()))}catch(j){BigBlock.Log.display(j.name+": "+j.message)}}},pause:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}var c=this.getReadyState(a,!0);if(c.state>2)if(typeof b!=="undefined")if(this.isPaused(a)===!1)try{this.playlist[a].pause()}catch(f){BigBlock.Log.display(f.name+": "+f.message)}else{c=this.getPlayed(a);
var g=this.isEnded(a);if(c.length>0&&g!==!0)try{this.playlist[a].play()}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}else try{this.playlist[a].pause()}catch(i){BigBlock.Log.display(i.name+": "+i.message)}else BigBlock.Log.display("Audio: "+c.message)}},isPaused:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].paused}catch(d){BigBlock.Log.display(d.name+
": "+d.message)}}},getPlayed:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].played}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},isEnded:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].ended}catch(d){BigBlock.Log.display(d.name+
": "+d.message)}}},getPlaybackRate:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].playbackRate}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},getReadyState:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(d){BigBlock.Log.display(d.name+
": "+d.message)}var c=this.playlist[a].readyState;if(typeof b!=="undefined"){var f;switch(c){case 0:f="HAVE_NOTHING: No data for the current playback position is available.";break;case 1:f="HAVE_METADATA : Enough of the resource has been obtained that the duration of the resource is available. No media data is available for the immediate current playback position.";break;case 2:f="HAVE_CURRENT_DATA: Data for the immediate current playback position is available, but not enough data is available to successfully advance the current playback position in the direction of playback.";
break;case 3:f="HAVE_FUTURE_DATA: Data for the immediate current playback position is available. However, not enough data is avaialble to determine if playback will out-pace the data stream.";break;case 4:f="HAVE_ENOUGH_DATA: All data for the immediate current playback position is available."}c={state:c,message:f}}return c}},getNetworkState:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(d){BigBlock.Log.display(d.name+
": "+d.message)}var c=this.playlist[a].networkState;if(typeof b!=="undefined"){var f;switch(c){case 0:f="NETWORK_EMPTY: The element has not yet been initialized. All attributes are in their initial states.";break;case 1:f="NETWORK_IDLE: The element's resource selection algorithm is active and has selected a resource, but it is not actually using the network at this time.";break;case 2:f="NETWORK_LOADING: The user agent is actively trying to download data.";break;case 3:f="NETWORK_NO_SOURCE: The element's resource selection algorithm is active, but it has so not yet found a resource to use."}c=
{state:c,message:f}}return c}},getDuration:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].duration}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},getCurrentTime:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+
": "+b.message)}try{return this.playlist[a].currentTime}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},setCurrentTime:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}try{this.playlist[a].currentTime=b}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},getVolume:function(a){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a===
"undefined")throw Error("An id is required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}try{return this.playlist[a].volume}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},setVolume:function(a,b){if(typeof this.playlist[a]!=="undefined"&&this.supported){try{if(typeof a==="undefined")throw Error("An id is required");if(typeof b==="undefined")throw Error("A volume value between 0.0 and 1.0 is required");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}try{this.playlist[a].volume=
b}catch(c){BigBlock.Log.display(c.name+": "+c.message)}}},mute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!0}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.muted=!0}},unmute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!1}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.muted=!1}}}}();
BigBlock.Block=function(){return{configure:function(){this.pix_index=this.last_y=this.last_x=!1;this.clock=0;this.color_index=this.color+"0";this.color_max=0;this.anim=!1;this.anim_frame=0;this.last_anim_frame=!1;this.is_position_updated=!0;this.is_anim_updated=!1;this.className="Block";this.alias=BigBlock.getUniqueId();this.color="white";this.y=this.x=0;this.render=-1;this.angle=Math.degreesToRadians(0);this.pulse_rate=this.life=this.vel=0;this.action_input=this.action_render=this.render_static=
this.after_destroy=!1},getAnim_delete:function(b){return[{frm:{duration:1,pix:[{c:b,i:0}]}}]},getBlocks:function(){var b=this.anim[0];if(typeof b.frm.pix[0]!=="undefined")b.frm.pix[0].c=this.color_index;return b.frm},run:function(){typeof this.action_render==="function"&&this.action_render(this);if(this.last_x===this.x&&this.last_y===this.y)this.is_position_updated=!1;else{this.pix_index=!1;if(BigBlock.ptInsideRect(this.x,this.y,0,BigBlock.Grid.width,0,BigBlock.Grid.height))this.pix_index=BigBlock.getPixIndex(this.x,
this.y);this.last_x=this.x;this.last_y=this.y;this.is_position_updated=!0}this.img=this.anim===!1?!1:this.getBlocks();this.last_anim_frame===this.anim_frame?this.is_anim_updated=!1:(this.last_anim_frame=this.anim_frame,this.is_anim_updated=!0);this.is_color_updated=!1;if(this.life!==0){if(this.color_index=this.color+Math.round(this.color_max*(this.clock/this.life)),this.color_max>0)this.is_color_updated=!0}else if(this.pulse_rate!==0){if(this.color_index=this.color+(this.color_max-Math.round(this.color_max*
Math.abs(Math.cos(this.clock/this.pulse_rate)))),this.color_max>0)this.is_color_updated=!0}else this.color_index=this.color+"0";this.clock++;this.clock>=this.life&&this.life!==0&&this.destroy()},destroy:function(b){if(typeof b==="function")this.after_destroy=b;this.render=0;BigBlock.Timer.destroyObject(this)}}}();
BigBlock.BlockAnim=function(){return{create:function(b){var a,e=new (BigBlock.clone(BigBlock.Block));e.configure();e.anim_frame_duration=0;e.anim_loop=!1;e.anim_state="stop";e.anim=[{frm:{duration:1,pix:[{c:"white0",i:0}]}}];if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(e[a]=b[a]);var d=BigBlock.Color.getPalette();a=0;for(b=d.classes.length;a<b;a++)if(d.classes[a].name===e.color){e.color_max=d.classes[a].val.length-1;break}e.getBlocks=function(){try{if(typeof this.anim==="undefined")throw Error("BigBlock.SpriteAdvanced.getPix(): getPix() requires an anim json object.");
}catch(a){BigBlock.Log.display(a.name+": "+a.message)}switch(this.anim_state){case "stop":var b=this.anim[this.anim_frame];break;case "play":if(typeof this.anim[this.anim_frame]!=="undefined")if(b=this.anim[this.anim_frame],this.anim_frame_duration<b.frm.duration)this.anim_frame_duration===0&&(b=this.anim[this.anim_frame],typeof b.frm.enter_frame==="function"&&b.frm.enter_frame.call(this)),this.anim_frame_duration++;else{typeof b.frm.exit_frame==="function"&&b.frm.exit_frame.call(this);this.anim_frame_duration=
0;this.anim_frame++;if(typeof this.anim[this.anim_frame]==="undefined")this.anim_loop?this.anim_frame=0:this.anim_frame--;b=this.anim[this.anim_frame]}}if(typeof b!=="undefined")return b.frm};e.play=function(){this.anim_state="play"};e.stop=function(){this.anim_state="stop"};e.goToAndPlay=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndPlay(): goToAndPlay(arg) requires a frame number, label or keyword(nextFrame, lastFrame).");}catch(b){BigBlock.Log.display(b.name+
": "+b.message)}this.anim_frame_duration=0;this.anim_frame=this.goToFrame(a);this.anim_state="play"};e.goToAndStop=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndStop(): goToAndStop(arg) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.anim_frame=this.goToFrame(a);if(typeof a==="number")this.anim_frame_duration=0;this.anim_state="stop"};e.goToFrame=function(a){var b;try{if(typeof a===
"undefined")throw Error("BigBlock.Sprite.goToFrame(): goToFrame(arg, anim_frame, anim) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}b=this.anim_frame;switch(typeof a){case "number":try{if(a-1<0||a-1>=this.anim.length)throw Error("BigBlock.Sprite.goToFrame(): Frame number does not exist.");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.anim_frame=a-1;break;case "string":switch(a){case "next_frame":a=this.anim_frame;
this.anim_loop===!0?a++:this.anim_frame+1<this.anim.length&&a++;this.anim_frame=a;break;case "previous_frame":a=this.anim_frame;this.anim_loop===!0?a--:this.anim_frame-1>=0&&a--;this.anim_frame=a;break;default:this.anim_frame=this.getFrameIndexByLabel(a)}}if(typeof this.anim[this.anim_frame]==="undefined")this.anim_frame=this.anim_frame>0?0:this.anim.length-1;b!==this.anim_frame&&(typeof this.anim[b].frm.exit_frame!=="undefined"&&typeof this.anim[b].frm.exit_frame==="function"&&this.anim[b].frm.exit_frame.call(this),
typeof this.anim[this.anim_frame].frm.enter_frame!=="undefined"&&typeof this.anim[this.anim_frame].frm.enter_frame==="function"&&this.anim[this.anim_frame].frm.enter_frame.call(this));return this.anim_frame};e.getFrameIndexByLabel=function(a){var b,e;try{if(typeof a==="undefined")throw Error("BigBlock.Sprite.getFrameIndexByLabel(): getFrameIndexByLabel(arg) requires a label");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}e=0;for(b in this.anim)if(this.anim.hasOwnProperty(b)){if(a===this.anim[b].frm.label)return b;
e++}try{if(e!==0)throw Error("BigBlock.Sprite.getFrameIndexByLabel(): Frame label does not exist.");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}};BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias}}}();
BigBlock.BlockBig=function(){return{create:function(b){var a,e,d,c,f;if(typeof b.width==="undefined")b.width=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof b.height==="undefined")b.height=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof b.color==="undefined")b.color="white";var g=new (BigBlock.clone(BigBlock.Block));g.configure();g.anim=[{frm:{duration:1,pix:[]}}];e=a=0;for(d=Math.floor(b.height/BigBlock.Grid.blk_dim);e<d;e++){c=0;for(f=Math.floor(b.width/BigBlock.Grid.blk_dim);c<f;c++)g.anim[0].frm.pix[a]=
{c:b.color+"0",i:BigBlock.Grid.width/BigBlock.Grid.blk_dim*e+c},a++}if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(g[a]=b[a]);g.color_index=g.color+"0";g.img=g.getBlocks();g.render_static=!0;BigBlock.Blocks[g.alias]=g;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=g.alias}}}();
BigBlock.BlockSmall=function(){return{create:function(b){var a,e=new (BigBlock.clone(BigBlock.Block));e.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(e[a]=b[a]);var d=BigBlock.Color.getPalette();a=0;for(b=d.classes.length;a<b;a++)if(d.classes[a].name===e.color){e.color_max=d.classes[a].val.length-1;break}e.color_index=e.color+"0";BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias}}}();
BigBlock.Button=function(){return{alias:"button",map:[],create:function(b){try{if(typeof b==="undefined")throw Error("Button.create(): params argument required");if(typeof b.x==="undefined")throw Error("Button.create(): params.x argument required");if(typeof b.y==="undefined")throw Error("Button.create(): params.y argument required");if(typeof b.width==="undefined")throw Error("Button.create(): params.width argument required");if(typeof b.height==="undefined")throw Error("Button.create(): params.height argument required");
if(typeof b.alias==="undefined")b.alias="button"+BigBlock.getUniqueId();if(typeof b.action_input==="undefined")b.action_input=!1}catch(a){BigBlock.Log.display(a.name+": "+a.message)}this.map[this.map.length]={alias:b.alias,x:b.x,y:b.y,width:b.width,height:b.height,url:b.url,action_input:b.action_input};b.render_static=!0;b.className="Button";b.after_destroy=!1;typeof b.anim==="undefined"?BigBlock.BlockBig.create(b):BigBlock.BlockAnim.create(b)},deleteFromMap:function(b){var a,e;a=0;for(e=BigBlock.Button.map.length;a<
e;a++)if(BigBlock.Button.map[a].alias===b)return BigBlock.Button.map.splice(a,1),!0;return!1},destroy:function(b){this.deleteFromMap(b);BigBlock.removeStaticBlock(b)}}}();
BigBlock.Character=function(){return{create:function(b){var a,e,d=new (BigBlock.clone(BigBlock.Block));d.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);d.className="Character";e=BigBlock.Color.getPalette();a=0;for(b=e.classes.length;a<b;a++)if(e.classes[a].name===d.color){d.color_max=e.classes[a].val.length-1;break}d.color_index=d.color+"0";d.char_pos=BigBlock.CharPresets.getChar(d.character,d.font);d.render_static=!0;BigBlock.Blocks[d.alias]=d;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=
d.alias}}}();
BigBlock.Color=function(){function b(){var b,e,d;b=d=0;for(e=a.classes.length;b<e;b++)d+=a.classes[b].val.length;return d}var a,e,d;a={classes:[{name:"white",val:["rgb(255,255,255)"]},{name:"black",val:["rgb(0,0,0)"]},{name:"black0_glass",val:["rgb(102,102,102)"]},{name:"grey_dark",val:["rgb(90,90,90)"]},{name:"grey_dark0_glass",val:["rgb(140,140,140)"]},{name:"grey",val:["rgb(150,150,150)"]},{name:"grey0_glass",val:["rgb(200,200,200)"]},{name:"grey_light",val:["rgb(200,200,200)"]},{name:"grey_light0_glass",val:["rgb(255,255,255)"]},
{name:"red",val:["rgb(255,0,0)"]},{name:"magenta",val:["rgb(255,0,255)"]},{name:"blue",val:["rgb(0,0,255)"]},{name:"cyan",val:["rgb(0,255,255)"]},{name:"green",val:["rgb(0,255,0)"]},{name:"yellow",val:["rgb(255,255,0)"]},{name:"orange",val:["rgb(255,126,0)"]},{name:"brown",val:["rgb(160,82,45)"]},{name:"pink",val:["rgb(238,130,238)"]}]};a.classes[a.classes.length]={name:{},val:[]};e="";for(d=255;d>-1;d-=50)e+=d-50>-1?"rgb("+d+", "+d+", "+d+");":"rgb("+d+", "+d+", "+d+")";e=e.split(";");a.classes[a.classes.length-
1].name="white_black";a.classes[a.classes.length-1].val=[];for(d in e)e.hasOwnProperty(d)&&(a.classes[a.classes.length-1].val[d]=e[d]);return{current_class:0,build:function(){var c,e,d,h;c=a;e=document.styleSheets[document.styleSheets.length-1];for(d in c.classes[this.current_class].val)if(c.classes[this.current_class].val.hasOwnProperty(d))try{if(e.insertRule)c.classes[this.current_class].val.hasOwnProperty(d)&&e.insertRule("div."+BigBlock.CSSid_color+c.classes[this.current_class].name+d+" {background-color:"+
c.classes[this.current_class].val[d]+";}",0);else if(e.addRule)c.classes[this.current_class].val.hasOwnProperty(d)&&e.addRule("div."+BigBlock.CSSid_color+c.classes[this.current_class].name+d,"background-color:"+c.classes[this.current_class].val[d]+";color:"+c.classes[this.current_class].val[d]);else throw Error("BigBlock.Color.build(): document.styleSheets insertion failed. Browser does not support insertRule() or addRule().");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}this.current_class++;
try{if(e.cssRules)BigBlock.Loader.update({total:Math.round(e.cssRules.length/b()*100)}),h=e.cssRules.length;else if(e.rules)BigBlock.Loader.update({total:Math.round(e.rules.length/b()*100)}),h=e.rules.length;else throw Error("BigBlock.Color.build(): document.styleSheets rule count failed. Browser does not support cssRules.length() or rules.length().");}catch(j){BigBlock.Log.display(j.name+": "+j.message)}if(h<b())return!1;else{d=0;for(e=c.classes.length;d<e;d++)delete BigBlock[c.classes[d].name];
return!0}},add:function(b){var e,d;try{if(typeof b==="undefined")throw Error("BigBlock.Color.add(): params are required.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}e=0;for(d=b.classes.length;e<d;e++)a.classes[a.classes.length]=b.classes[e]},getPalette:function(){return a}}}();
BigBlock.Database=function(){var b=!0;typeof window.openDatabase==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support a local database."));return{supported:b,alias:"database",my_results:null,open:function(a){try{if(typeof a==="undefined")throw Error("Database.open(): shortName argument required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{if(b===!0)this.shortName=a,this.version="1.0",this.displayName="Database: "+a,this.maxSize=65536,this.db=openDatabase(this.shortName,
this.version,this.displayName,this.maxSize)}catch(d){BigBlock.Log.display(d.name+": "+d.message)}},createTable:function(a){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.createTable(): sql argument required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}typeof this.db!=="undefined"&&this.db.transaction(function(b){b.executeSql(a,[],BigBlock.Database.nullDataHandler,BigBlock.Database.errorHandler)})}},executeSql:function(a){if(this.supported===!0){try{if(typeof a===
"undefined")throw Error("Database.executeSql(): sql argument required");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}typeof this.db!=="undefined"&&this.db.transaction(function(b){b.executeSql(a,[],BigBlock.Database.dataHandler,BigBlock.Database.errorHandler)})}},executeSqlInsert:function(a,b,d){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.executeSqlInsert(): table argument required");if(typeof b==="undefined")throw Error("Database.executeSqlInsert(): fields argument required");
if(typeof d==="undefined")throw Error("Database.executeSqlInsert(): values argument required");if(typeof this.db==="undefined")throw Error("Database.executeSqlInsert(): database does not exist");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}this.db.transaction(function(c){var g,h,i;if(b.indexOf(",")!==-1){i="";g=0;for(h=b.split(",").length;g<h;g++)i+=g===b.split(",").length-1?"?":"?,"}else i="?";c.executeSql("INSERT into "+a+" ("+b+") VALUES ( "+i+" );",d,BigBlock.Database.nullDataHandler,
BigBlock.Database.errorHandler)})}},dataHandler:function(a,b){BigBlock.Database.results=b},nullDataHandler:function(){},errorHandler:function(a,b){BigBlock.Log.display(b.code+": "+b.message)}}}();
BigBlock.Emitter=function(){var b=function(a,b,d,c,f,g,h,i,j,l,m){var k={};c=Math.ceil(Math.random()*(100-c*100+1));k.life=Math.ceil(d*((100-c)/100));c=Math.ceil(Math.random()*(100-g*100+1));k.vel=f*((100-c)/100);d=[1,-1];k.angle_var=Math.ceil(Math.random()*(h+1))*d[Math.getRandomNumber(0,1)];f=d[Math.getRandomNumber(0,1)];h=0;i!==0&&(h=Math.ceil(Math.random()*i*BigBlock.Grid.blk_dim)*f);if(j===1)i=Math.abs(h)/(i*BigBlock.Grid.blk_dim),k.life=Math.ceil(k.life*(1-i))>0?Math.ceil(k.life*(1-i)):1;j=
Math.floor(Math.random()*l*BigBlock.Grid.blk_dim)*d[Math.getRandomNumber(0,1)];if(m===1)i=Math.abs(j)/(l*BigBlock.Grid.blk_dim),k.life=Math.ceil(k.life*(1-i))>0?Math.ceil(k.life*(1-i)):1;k.x=a+h;k.y=b+j;return k};return{create:function(a){var e,d=new (BigBlock.clone(BigBlock.Block));d.configure();d.x=BigBlock.Grid.width/2;d.y=BigBlock.Grid.height/2+BigBlock.Grid.height/3;d.state="start";d.render=0;d.emission_rate=3;d.p_count=0;d.p_burst=3;d.p_velocity=3;d.p_velocity_spread=1;d.p_angle=270;d.p_angle_spread=
20;d.p_life=100;d.p_life_spread=0.5;d.p_life_offset_x=0;d.p_life_offset_y=0;d.p_gravity=0;d.p_init_pos_spread_x=0;d.p_init_pos_spread_y=0;d.p_spiral_vel_x=0;d.p_spiral_vel_y=0;d.action_render=function(){};if(typeof a!=="undefined")for(e in a)a.hasOwnProperty(e)&&(d[e]=a[e]);var c=BigBlock.Color.getPalette();e=0;for(a=c.classes.length;e<a;e++)if(c.classes[e].name===d.color){d.color_max=c.classes[e].val.length-1;break}d.action_render=function(){var a;switch(this.state){case "start":if(this.clock%this.emission_rate===
0)this.state="emit";break;case "emit":var d,c;c=function(){var a=BigBlock.getParticleTransform(this.vel,this.angle,this.x,this.y,this.gravity,this.clock,this.life,this.color,this.color_max,this.p_spiral_vel_x,this.p_spiral_vel_y);this.x=a.x;this.y=a.y;this.color_index=a.color_index;this.gravity*=1.08};for(a=0;a<this.p_burst;a++)d=b(this.x,this.y,this.p_life,this.p_life_spread,this.p_velocity,this.p_velocity_spread,this.p_angle_spread,this.p_init_pos_spread_x,this.p_life_offset_x,this.p_init_pos_spread_y,
this.p_life_offset_y),BigBlock.BlockSmall.create({color:this.color,x:d.x,y:d.y,life:d.life,gravity:this.p_gravity,angle:Math.degreesToRadians(this.p_angle+d.angle_var),vel:d.vel,color_max:this.color_max,p_spiral_vel_x:this.p_spiral_vel_x,p_spiral_vel_y:this.p_spiral_vel_y,action_render:c}),this.p_count++;this.state="start"}};d.start=function(){this.state="start"};d.stop=function(){this.state="stop"};BigBlock.Blocks[d.alias]=d;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=d.alias}}}();
BigBlock.Grid=function(){return{alias:"Grid",blk_dim:8,width:320,height:368,x:0,y:0,total_global_cols:!1,total_quad_cols:!1,build_start_time:(new Date).getTime(),build_end_time:(new Date).getTime(),build_offset:0,build_section_count:0,build_rowNum:0,char_width:8,char_height:8,styles:{},configure:function(b){var a;if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(this[a]=b[a])},setProps:function(b){var a;if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(this[a]=b[a])},setStyle:function(b,
a){var e,d;try{if(typeof b==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style key.");if(typeof a==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style value.");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}e=0;for(d=this.quads.length;e<d;e++)document.getElementById(this.quads[e].id).style[b]=a;this.styles[b]=a},add:function(){var b,a,e,d,c;this.build_start_time=(new Date).getTime();b=BigBlock.getWindowDim();
try{if(b.width===!1||b.height===!1)throw b.width=800,b.height=600,Error("BigBlock.Grid.setStyle(): Detecting window size failed. Browser does not support window.innerWidth or document.documentElement.clientWidth. Using 800 x 600.");}catch(f){BigBlock.Log.display(f.name+": "+f.message)}a=document.styleSheets[document.styleSheets.length-1];e=0;for(c=this.quads.length;e<c;e++)try{if(a.insertRule)a.insertRule("div#"+this.quads[e].id+" {background-color:transparent;width: "+this.quads[e].width+"px;height: "+
this.quads[e].height+"px;position: absolute;left: "+(b.width/2+this.quads[e].left-this.width/2)+"px;top: "+(b.height/2+this.quads[e].top-this.height/2)+"px;z-index: "+this.quads[e].zIndex+"}",0);else if(a.addRule)a.addRule("div#"+this.quads[e].id,"background-color:transparent;width: "+this.quads[e].width+"px;height: "+this.quads[e].height+"px;position: absolute;left: "+(b.width/2+this.quads[e].left-this.width/2)+"px;top: "+(b.height/2+this.quads[e].top-this.height/2)+"px;z-index: "+this.quads[e].zIndex);
else throw Error("Err: GA002");}catch(g){BigBlock.Log.display(g.name+": "+g.message)}this.x=b.width/2-this.width/2;this.y=b.height/2-this.height/2;e=0;for(c=this.quads.length;e<c;e++){b=document.createElement("div");b.setAttribute("id",this.quads[e].id);for(d in this.styles)this.styles.hasOwnProperty(d)&&(b.style[d]=this.styles[d]);document.body.appendChild(b)}},build:function(){var b,a,e,d,c,f,g;b=0;a=BigBlock.Grid.width/2;e=BigBlock.Grid.height/2;d=Math.round(e/BigBlock.Grid.blk_dim)/2;c=document.styleSheets[document.styleSheets.length-
1];f=0;for(d=Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim)/d;f<d;f++)b<Math.round(a/BigBlock.Grid.blk_dim)?b++:b=1,f%Math.round(a/BigBlock.Grid.blk_dim)===0&&this.build_rowNum++,c.insertRule?c.insertRule("."+BigBlock.CSSid_position+(f+this.build_offset)+" {left:"+(b-1)*this.blk_dim+"px;top:"+(this.build_rowNum-1)*this.blk_dim+"px;}",0):c.addRule&&c.addRule("."+BigBlock.CSSid_position+(f+this.build_offset)," left:"+(b-1)*this.blk_dim+"px;top:"+(this.build_rowNum-1)*this.blk_dim+
"px");try{if(c.cssRules)g=c.cssRules.length;else if(c.rules)g=c.rules.length;else throw Error("BigBlock.Grid.build(): document.styleSheets rule count failed. Browser does not support cssRules.length() or rules.length().");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}this.build_offset=g;BigBlock.Loader.update({total:Math.round(g/(Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim))*100)});return g<Math.round(a/BigBlock.Grid.blk_dim)*Math.round(e/BigBlock.Grid.blk_dim)?
!1:!0},buildCharStyles:function(){var b,a,e,d;b=document.styleSheets[document.styleSheets.length-1];b.insertRule?(b.insertRule("."+BigBlock.CSSid_text_bg+"{background-color: transparent;}",0),b.insertRule("."+BigBlock.CSSid_char+"{width : 1px;height : 1px;position: absolute;float: left;line-height:0px;font-size:1%;}",0)):b.addRule&&(b.addRule("."+BigBlock.CSSid_text_bg,"background-color: transparent"),b.addRule("."+BigBlock.CSSid_char,"width : 1px;height : 1px;position: absolute;float: left;line-height:0px;font-size:1%;"));
e=1;a=0;for(d=this.char_width*this.char_height;a<d;a++)b.insertRule?b.insertRule("."+BigBlock.CSSid_char_pos+(a+1)+"{left:"+e+"px;top:"+(Math.floor(a/8)+1)+"px;}",0):b.addRule&&b.addRule("."+BigBlock.CSSid_char_pos+(a+1),"left:"+e+"px;top:"+(Math.floor(a/8)+1)+"px;"),e+1<=this.char_width?e++:e=1;return!0}}}();
BigBlock.BehaviorPresets=function(){function b(){return{getPreset:function(a){switch(a){case "getRandomGraphic":return function(){if(this.idleTimeout===0){var a=this.alias;this.idleTimeout=setTimeout(function(){var b=BigBlock.Blocks[BigBlock.getBlock(a)];if(typeof b!=="undefined"&&typeof b.poses!=="undefined")b.goToAndStop(b.poses[Math.getRandomNumber(0,b.poses.length-1)]),b.idleTimeout=0},Math.getRandomNumber(500,1E3))}};case "move_wallCollide":return function(){var a=this.vel*BigBlock.Grid.blk_dim*
Math.cos(this.angle),b=this.vel*BigBlock.Grid.blk_dim*Math.sin(this.angle);this.x+a>0&&this.x+a<BigBlock.Grid.width?this.x+=a:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));this.y+b>0&&this.y+b<BigBlock.Grid.height?this.y+=b:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));Math.floor(this.vel--)>0?this.vel--:this.vel=0};case "move":return function(){this.x+=BigBlock.Grid.blk_dim}}}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.CharPresets=function(){function b(){return{getChar:function(a,b){typeof b==="undefined"&&(b="bigblock_bold");var c=!1;switch(b){case "bigblock_plain":switch(a){case " ":c=[];break;case "A":case "a":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "B":case "b":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "C":case "c":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},
{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "D":case "d":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "E":case "e":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "F":case "f":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33}];break;case "G":case "g":c=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:20},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "H":case "h":c=
[{p:1},{p:5},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "I":case "i":c=[{p:2},{p:3},{p:4},{p:11},{p:19},{p:27},{p:34},{p:35},{p:36}];break;case "J":case "j":c=[{p:5},{p:13},{p:21},{p:25},{p:29},{p:26},{p:34},{p:35},{p:36}];break;case "K":case "k":c=[{p:1},{p:5},{p:9},{p:12},{p:17},{p:18},{p:19},{p:25},{p:28},{p:33},{p:37}];break;case "L":case "l":c=[{p:1},{p:9},{p:17},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "M":case "m":c=[{p:1},{p:5},{p:9},{p:10},
{p:12},{p:13},{p:17},{p:19},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "N":case "n":c=[{p:1},{p:5},{p:9},{p:10},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:33},{p:37}];break;case "O":case "o":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "P":case "p":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:33}];break;case "Q":case "q":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:34},
{p:35},{p:36},{p:37}];break;case "R":case "r":c=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:37}];break;case "S":case "s":c=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "T":case "t":c=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:11},{p:19},{p:27},{p:35}];break;case "U":case "u":c=[{p:1},{p:5},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "V":case "v":c=[{p:1},{p:5},{p:9},{p:13},{p:17},
{p:21},{p:26},{p:28},{p:35}];break;case "W":case "w":c=[{p:1},{p:4},{p:7},{p:9},{p:12},{p:15},{p:17},{p:20},{p:23},{p:25},{p:28},{p:31},{p:34},{p:35},{p:37},{p:38}];break;case "X":case "x":c=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:26},{p:28},{p:33},{p:37}];break;case "Y":case "y":c=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:27},{p:35}];break;case "Z":case "z":c=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:12},{p:19},{p:26},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "1":c=[{p:3},{p:10},{p:11},{p:19},{p:27},{p:35}];
break;case "2":c=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:25},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "3":c=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "4":c=[{p:3},{p:4},{p:10},{p:12},{p:17},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:36}];break;case "5":c=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "6":c=[{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},
{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "7":c=[{p:2},{p:3},{p:4},{p:5},{p:13},{p:20},{p:27},{p:35}];break;case "8":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "9":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:21},{p:28},{p:34},{p:35},{p:36}];break;case "0":c=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "arrow_down":c=[{p:3},{p:11},{p:17},{p:19},{p:21},{p:26},{p:27},{p:28},
{p:35}];break;case "arrow_up":c=[{p:3},{p:10},{p:11},{p:12},{p:17},{p:19},{p:21},{p:27},{p:35}];break;case "arrow_left":c=[{p:3},{p:10},{p:17},{p:18},{p:19},{p:20},{p:21},{p:26},{p:35}];break;case "arrow_right":c=[{p:3},{p:12},{p:17},{p:18},{p:19},{p:20},{p:21},{p:28},{p:35}];break;case "!":c=[{p:3},{p:11},{p:19},{p:35}];break;case "@":c=[{p:2},{p:3},{p:4},{p:9},{p:11},{p:13},{p:17},{p:19},{p:20},{p:21},{p:25},{p:34},{p:35},{p:36}];break;case "#":c=[{p:2},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:18},
{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:34},{p:36}];break;case "$":c=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:11},{p:18},{p:19},{p:20},{p:27},{p:29},{p:33},{p:34},{p:35},{p:36},{p:43}];break;case "%":c=[{p:1},{p:2},{p:4},{p:9},{p:10},{p:12},{p:19},{p:26},{p:28},{p:29},{p:34},{p:36},{p:37}];break;case "^":c=[{p:3},{p:10},{p:12}];break;case "&":c=[{p:2},{p:3},{p:9},{p:12},{p:18},{p:19},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "*":c=[{p:3},{p:9},{p:11},{p:13},{p:18},{p:19},{p:20},{p:25},{p:27},
{p:29},{p:35}];break;case "(":c=[{p:3},{p:10},{p:18},{p:26},{p:35}];break;case ")":c=[{p:3},{p:12},{p:20},{p:28},{p:35}];break;case "-":c=[{p:18},{p:19},{p:20}];break;case "_":c=[{p:34},{p:35},{p:36},{p:37}];break;case "=":c=[{p:10},{p:11},{p:12},{p:13},{p:26},{p:27},{p:28},{p:29}];break;case "+":c=[{p:3},{p:11},{p:17},{p:18},{p:19},{p:20},{p:21},{p:27},{p:35}];break;case ";":c=[{p:3},{p:27},{p:34}];break;case ":":c=[{p:11},{p:35}];break;case "'":c=[{p:3},{p:10},{p:18}];break;case ",":c=[{p:34},{p:41}];
break;case ".":c=[{p:33}];break;case "<":c=[{p:3},{p:10},{p:17},{p:26},{p:35}];break;case ">":c=[{p:3},{p:12},{p:21},{p:28},{p:35}];break;case "/":c=[{p:4},{p:12},{p:19},{p:26},{p:34}];break;case "?":c=[{p:1},{p:2},{p:3},{p:12},{p:18},{p:19},{p:34}];break;case "{":c=[{p:3},{p:4},{p:11},{p:18},{p:27},{p:35},{p:36}];break;case "}":c=[{p:2},{p:3},{p:11},{p:20},{p:27},{p:34},{p:35}];break;case "[":c=[{p:3},{p:4},{p:11},{p:19},{p:27},{p:35},{p:36}];break;case "]":c=[{p:2},{p:3},{p:11},{p:19},{p:27},{p:34},
{p:35}];break;case "|":c=[{p:3},{p:11},{p:19},{p:27},{p:35}];break;case "currency_cents":c=[{p:2},{p:9},{p:10},{p:11},{p:17},{p:25},{p:26},{p:27},{p:34}]}break;case "bigblock_bold":switch(a){case " ":c=[];break;case "A":case "a":c=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "B":case "b":c=[{p:2},{p:3},{p:10},
{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "C":case "c":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "D":case "d":c=
[{p:2},{p:3},{p:4},{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:58},{p:59},{p:60},{p:61}];break;case "E":case "e":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "F":case "f":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case "G":case "g":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "H":case "h":c=
[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "I":case "i":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "J":case "j":c=[{p:6},{p:7},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "K":case "k":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "L":case "l":c=[{p:2},{p:3},
{p:10},{p:11},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "M":case "m":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "N":case "n":c=[{p:2},{p:3},{p:4},
{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "O":case "o":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];
break;case "P":case "p":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:58},{p:59}];break;case "Q":case "q":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},
{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "R":case "r":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "S":case "s":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},
{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "T":case "t":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "U":case "u":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "V":case "v":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "W":case "w":c=[{p:1},{p:2},{p:7},{p:8},{p:9},{p:10},{p:15},{p:16},{p:17},{p:18},{p:23},{p:24},{p:25},{p:26},{p:31},{p:32},{p:33},{p:34},{p:37},{p:38},{p:39},{p:40},{p:41},{p:42},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},
{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:57},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63},{p:64}];break;case "X":case "x":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "Y":case "y":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},
{p:61}];break;case "Z":case "z":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "1":c=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},
{p:61},{p:62},{p:63}];break;case "2":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "3":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "4":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "5":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:52},
{p:53},{p:54},{p:55},{p:60},{p:61},{p:62},{p:63}];break;case "6":c=[{p:2},{p:3},{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "7":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;
case "8":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "9":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},
{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "0":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "arrow_down":c=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},
{p:40},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "arrow_up":c=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "arrow_left":c=[{p:4},{p:11},{p:12},{p:18},{p:19},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:42},{p:43},
{p:44},{p:51},{p:52},{p:60}];break;case "arrow_right":c=[{p:5},{p:13},{p:14},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:45},{p:46},{p:47},{p:53},{p:54},{p:61}];break;case "!":c=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:52},{p:53},{p:60},{p:61}];break;case "@":c=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:21},{p:22},{p:23},{p:24},{p:25},{p:26},{p:29},{p:30},{p:31},
{p:32},{p:33},{p:34},{p:41},{p:42},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "#":c=[{p:2},{p:3},{p:6},{p:7},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:16},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:24},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:58},{p:59},{p:62},{p:63}];break;case "$":c=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:15},
{p:18},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:36},{p:37},{p:38},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "%":c=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "^":c=[{p:4},{p:5},{p:12},{p:13},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:30},{p:34},{p:35},{p:38},{p:39},
{p:42},{p:43},{p:46},{p:47}];break;case "&":c=[{p:3},{p:4},{p:11},{p:12},{p:17},{p:18},{p:21},{p:22},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:35},{p:36},{p:41},{p:42},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:59},{p:60},{p:61},{p:62}];break;case "*":c=[{p:4},{p:10},{p:12},{p:14},{p:20},{p:21},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:35},{p:36},{p:37},{p:42},{p:44},{p:46},{p:52}];break;case "(":c=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:26},{p:27},{p:34},
{p:35},{p:42},{p:43},{p:52},{p:53},{p:60},{p:61}];break;case ")":c=[{p:4},{p:5},{p:12},{p:13},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "-":c=[{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39}];break;case "_":c=[{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "=":c=[{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:42},{p:43},
{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55}];break;case "+":c=[{p:12},{p:13},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:52},{p:53}];break;case ";":c=[{p:12},{p:13},{p:20},{p:21},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case ":":c=[{p:12},{p:13},{p:20},{p:21},{p:44},{p:45},{p:52},{p:53}];break;case "'":c=[{p:6},{p:7},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29}];break;case ",":c=[{p:37},
{p:38},{p:45},{p:46},{p:51},{p:52},{p:59},{p:60}];break;case ".":c=[{p:52},{p:53},{p:60},{p:61}];break;case "<":c=[{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:34},{p:35},{p:36},{p:37},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55}];break;case ">":c=[{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:28},{p:29},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51}];break;case "/":c=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:28},{p:29},{p:35},{p:36},
{p:43},{p:44},{p:50},{p:51},{p:58},{p:59}];break;case "?":c=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:60},{p:61}];break;case "{":c=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:27},{p:28},{p:29},{p:35},{p:36},{p:37},{p:44},{p:45},{p:53},{p:54},{p:61},{p:62}];break;case "}":c=[{p:3},{p:4},{p:11},{p:12},{p:20},{p:21},{p:28},{p:29},{p:30},{p:36},{p:37},{p:38},{p:44},{p:45},{p:51},{p:52},{p:59},{p:60}];break;
case "[":c=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:19},{p:20},{p:27},{p:28},{p:35},{p:36},{p:43},{p:44},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "]":c=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:21},{p:22},{p:29},{p:30},{p:37},{p:38},{p:45},{p:46},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "|":c=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "currency_cents":c=
[{p:3},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:25},{p:26},{p:33},{p:34},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60}]}}return c}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.EmitterPresets=function(){function b(){return{getPreset:function(a,b){var c,f=BigBlock.Grid,g={};switch(a){case "fire":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:1,p_burst:16,p_velocity:1.5,p_velocity_spread:0.1,p_angle:270,p_angle_spread:0,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "spark":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:50,
p_burst:1,p_velocity:1.5,p_velocity_spread:1,p_angle:270,p_angle_spread:0,p_life:25,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:1,p_spiral_vel_y:0};break;case "speak":g={color:"speak",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.75,p_angle:0,p_angle_spread:15,p_life:12,p_life_spread:1,p_life_offset_x:0,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:0,p_init_pos_spread_y:0,
p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_red":g={color:"red_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_white":g={color:"white_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,
p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;default:try{throw Error("BigBlock.EmitterPresets.getPreset(): BigBlock.EmitterPresets: preset does not exist.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}if(typeof b!=="undefined")for(c in b)b.hasOwnProperty(c)&&(g[c]=b[c]);return g}}}var a;return{install:function(){a||(a=b());return a}}}();
BigBlock.Loader=function(){return{id:"loader",class_name:"loader_container",style:{position:"absolute",backgroundColor:"transparent",border:"1px solid #aaa",padding:"2px",textAlign:"center",color:"#aaa"},style_bar:{fontSize:"1%",position:"absolute",top:"2px",left:"2px",backgroundColor:"#999",color:"#999",height:"10px",cssFloat:"left"},width:100,height:10,format:"percentage",total:0,msg:"&nbsp;",bar_color:"#999",add:function(){var b;try{if(window.innerWidth)this.style.left=window.innerWidth/2-this.width/
2+"px",this.style.top=window.innerHeight/2-this.height/2+"px";else if(document.documentElement.clientWidth)this.style.left=document.documentElement.clientWidth/2-this.width/2+"px",this.style.top=document.documentElement.clientHeight/2-this.height/2+"px";else throw this.style.left="350px",this.style.top="195px",Error("Err: LA001");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}this.style.width=this.width+"px";this.style.height=this.height+"px";var e=document.createElement("div");e.setAttribute("id",
this.id);e.setAttribute("class",this.class_name);typeof document.addEventListener!=="function"&&e.setAttribute("className",this.class_name);document.getElementsByTagName("body").item(0).appendChild(e);e=document.createElement("div");e.setAttribute("id",this.id+"_bar");e.setAttribute("class",this.class_name+"_bar");typeof document.addEventListener!=="function"&&e.setAttribute("className",this.class_name+"_bar");document.getElementById(this.id).appendChild(e);for(b in this.style)this.style.hasOwnProperty(b)&&
(document.getElementById(this.id).style[b]=this.style[b]);for(b in this.style_bar)this.style_bar.hasOwnProperty(b)&&(document.getElementById(this.id+"_bar").style[b]=this.style_bar[b]);document.getElementById(this.id+"_bar").style.cssFloat="left"},update:function(b){if(typeof b!=="undefined"&&typeof b.total!=="undefined")this.total=b.total;b=this.total/100*100;document.getElementById(this.id+"_bar").style.width=b+"px"}}}();
BigBlock.LocalStorage=function(){var b=!0;typeof window.localStorage==="undefined"&&(b=!1,BigBlock.Log.display("This browser does not support localStorage."));return{supported:b,alias:"local_storage",getItem:function(a){if(this.supported===!0)try{return localStorage.getItem(a)}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},setItem:function(a,b){if(this.supported===!0)try{return localStorage.setItem(a,b)}catch(d){BigBlock.Log.display(d.name+": "+d.message)}},removeItem:function(a){if(this.supported===
!0)try{return localStorage.removeItem(a)}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},clear:function(){if(this.supported===!0)try{return localStorage.clear()}catch(a){BigBlock.Log.display(a.name+": "+a.message)}}}}();
BigBlock.RenderMgr=function(){return{render_rate_test_array:[],is_cleaned:!1,renderCleanUp:function(){var b,a,e,d,c,f,g,h;BigBlock.Timer.debug_frame_rate&&(b=(new Date).getTime());a=BigBlock.GridActive.quads;e=0;for(d=a.length;e<d;e++)if(c=document.getElementById(a[e].id),c.hasChildNodes()){c=c.childNodes;f=[];g=0;for(h=c.length;g<h;g++)f[f.length]=c[g];g=0;for(h=f.length;g<h;g++)f[g].setAttribute("class","pix "+BigBlock.CSSid_color),document.addEventListener||f[g].setAttribute("className","pix "+
BigBlock.CSSid_color),f[g].onmouseup=null,f[g].ontouchstart=null}this.is_cleaned=!0;BigBlock.Timer.debug_frame_rate&&this.runRateTest(b)},renderBlocks:function(b){var a,e,d,c,f,g,h,i;BigBlock.Timer.debug_frame_rate&&(d=(new Date).getTime());a=c=0;for(e=b.length;a<e;a++){f=b[a];if(f.img===!1){if(f.pix_index!==!1)if(f.render_static)switch(f.className){case "Character":this.renderChar(c,f,f.color_index,0);break;default:this.renderStaticBlock(f,f.color_index,0)}else this.renderActiveBlock(c,f,f.color_index,
0),c++}else{h=0;for(i=f.img.pix.length;h<i;h++)g=f.img.pix[h],f.render_static?this.renderStaticBlock(f,g.c,g.i):(this.renderActiveBlock(c,f,g.c,g.i),c++)}if(f.render_static&&typeof f.img!=="undefined")f.render_static=!1,f.destroy()}BigBlock.Timer.debug_frame_rate&&this.runRateTest(d)},renderActiveBlock:function(b,a,e,d){var c,f,g;(a.img!==!1&&a.is_position_updated)!==!1||a.is_anim_updated!==!1||this.is_cleaned?(c=BigBlock.getPixLoc("x",a.x,d),d=BigBlock.getPixLoc("y",a.y,d),f=BigBlock.getPixIndex(c,
d)):(c=a.x,d=a.y,f=a.pix_index);if(BigBlock.ptInsideRect(c,d,0,BigBlock.Grid.width,0,BigBlock.Grid.height))if(g=document.getElementById(b)){if(this.is_cleaned||a.is_position_updated||a.is_anim_updated||a.is_color_updated)this.setBlockAttribute(g,"class","pix "+BigBlock.CSSid_color+e+" "+BigBlock.CSSid_position+f),b=g.parentNode.getAttribute("id"),c=BigBlock.RenderMgr.getQuad("active",c,d),b!==c&&document.getElementById(c).appendChild(g)}else g=document.createElement("div"),this.setBlockAttribute(g,
"id",b),this.setBlockAttribute(g,"class","pix "+BigBlock.CSSid_color+e+" "+BigBlock.CSSid_position+f),document.getElementById(BigBlock.RenderMgr.getQuad("active",c,d)).appendChild(g);else return!1},renderStaticBlock:function(b,a,e){var d,c,f;d=BigBlock.getPixLoc("x",b.x,e);e=BigBlock.getPixLoc("y",b.y,e);if(BigBlock.ptInsideRect(d,e,0,BigBlock.Grid.width,0,BigBlock.Grid.height))c=BigBlock.getPixIndex(d,e),f=document.createElement("div"),this.setBlockAttribute(f,"id","_static"),this.setBlockAttribute(f,
"name",b.alias),this.setBlockAttribute(f,"class","pix "+BigBlock.CSSid_color+a+" "+BigBlock.CSSid_position+c),document.getElementById(BigBlock.RenderMgr.getQuad("static",d,e)).appendChild(f);else return!1},renderChar:function(b,a,e,d){var c,f,g,h,i,j;b=BigBlock.getPixLoc("x",a.x,d);d=BigBlock.getPixLoc("y",a.y,d);if(BigBlock.ptInsideRect(b,d,0,BigBlock.Grid.width,0,BigBlock.Grid.height)&&d<BigBlock.GridStatic.height){c=BigBlock.getPixIndex(b,d);f=document.createElement("div");this.setBlockAttribute(f,
"id",BigBlock.getUniqueId());this.setBlockAttribute(f,"name",a.word_id);this.setBlockAttribute(f,"class","pix "+BigBlock.CSSid_text_bg+" "+BigBlock.CSSid_position+c);c=a.char_pos;g=0;for(h=c.length;g<h;g++)i=document.createElement("div"),j=BigBlock.Grid.blk_dim*4,c[g].p<j&&a.glass===!0?this.setBlockAttribute(i,"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+c[g].p+" "+BigBlock.CSSid_color+e+"_glass0"):this.setBlockAttribute(i,"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+c[g].p+
" "+BigBlock.CSSid_color+e),f.appendChild(i);document.getElementById(BigBlock.RenderMgr.getQuad("text",b,d)).appendChild(f)}},setBlockAttribute:function(b,a,e){if(typeof b==="undefined")return!1;else if(b.setAttribute(a,e),typeof document.addEventListener!=="function"&&a==="class")b.setAttribute("className",e),b.innerHTML="."},getQuad:function(b,a,e){var d;switch(b){case "active":d=BigBlock.GridActive;break;case "static":d=BigBlock.GridStatic;break;case "text":d=BigBlock.GridText}if(a<BigBlock.Grid.width/
2&&e<BigBlock.Grid.height/2)return d.quads[0].id;if(a>=BigBlock.Grid.width/2&&e<BigBlock.Grid.height/2)return d.quads[1].id;if(a<BigBlock.Grid.width/2&&e>=BigBlock.Grid.height/2)return d.quads[2].id;if(a>=BigBlock.Grid.width/2&&e>=BigBlock.Grid.height/2)return d.quads[3].id},clearScene:function(b,a){var e,d,c,f;BigBlock.inputBlock=!0;try{if(typeof b!=="undefined"&&b!==null)if(typeof b!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): beforeClear must be a function");
else b()}catch(g){BigBlock.Log.display(g.name+": "+g.message)}if(typeof BigBlock.GridStatic!=="undefined"){e=BigBlock.GridStatic.quads;d=0;for(c=e.length;d<c;d++)if(f=document.getElementById(e[d].id),f.hasChildNodes())for(;f.firstChild;)f.removeChild(f.firstChild);BigBlock.GridStatic.setStyle("backgroundColor","transparent")}if(typeof BigBlock.GridText!=="undefined"){e=BigBlock.GridText.quads;d=0;for(c=e.length;d<c;d++)if(f=document.getElementById(e[d].id),f.hasChildNodes())for(;f.firstChild;)f.removeChild(f.firstChild);
BigBlock.GridText.setStyle("backgroundColor","transparent")}if(typeof BigBlock.GridActive!=="undefined"){e=BigBlock.GridActive.quads;d=0;for(c=e.length;d<c;d++)if(f=document.getElementById(e[d].id),f.hasChildNodes())for(;f.firstChild;)f.removeChild(f.firstChild);BigBlock.GridActive.setStyle("backgroundColor","transparent")}if(typeof BigBlock.Blocks!=="undefined")BigBlock.Blocks={};if(typeof BigBlock.BlocksKeys!=="undefined")BigBlock.BlocksKeys=[];if(typeof BigBlock.Button.map!=="undefined")BigBlock.Button.map=
[];try{if(typeof a!=="undefined"&&a!==null)if(typeof a!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): afterClear must be a function.");else a()}catch(h){BigBlock.Log.display(h.name+": "+h.message)}BigBlock.inputBlock=!1},runRateTest:function(b){var a,e;a=(new Date).getTime()-b;b=BigBlock.Timer.frame_rate_test_interval;this.render_rate_test_array[this.render_rate_test_array.length]=a;if(BigBlock.Timer.clock%b===0){for(e=a=0;e<b;e++)a+=this.render_rate_test_array[e];
BigBlock.Log.display("Avg render: "+(a/b).toFixed(2)+"ms");this.render_rate_test_array=[]}}}}();
BigBlock.ScreenEvent=function(){var b,a,e,d,c,f,g,h;b=function(a,b){BigBlock.Timer.input_feedback===!0&&BigBlock.BlockSmall.create({x:a,y:b,life:10,color:"white_black"})};a=function(a,b){var d,c,e;d=0;for(c=BigBlock.GridActive.quads.length;d<c;d++)e=document.getElementById(BigBlock.GridActive.quads[d].id),e.removeEventListener&&e.removeEventListener(a,b,!1)};e=function(a){var b={x:!1,y:!1};if(typeof BigBlock.GridActive!=="undefined")b.x=a.clientX-BigBlock.GridActive.x,b.y=a.clientY-BigBlock.GridActive.y;
return b};d=function(a,b,d){var c,e,f,g,h,o;if(typeof BigBlock.Button!=="undefined"&&typeof BigBlock.Button.map!=="undefined"){c=0;for(e=BigBlock.Button.map.length;c<e;c++)if(f=BigBlock.Button.map[c].x,g=BigBlock.Button.map[c].y,h=f+BigBlock.Button.map[c].width,o=g+BigBlock.Button.map[c].height,BigBlock.ptInsideRect(a,b,f,h,g,o)&&BigBlock.Button.map[c].action_input!==!1)return BigBlock.Button.map[c].action_input(d,BigBlock.Button.map[c]),!1}return!0};c=function(a,b,d){var c,e,f,g,h,o;c=0;for(e=BigBlock.BlocksKeys.length;c<
e;c++)if(typeof BigBlock.Blocks[BigBlock.BlocksKeys[c]]!=="undefined"&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[c]].action_input!=="undefined"&&BigBlock.Blocks[BigBlock.BlocksKeys[c]].action_input!==!1&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[c]].action_input==="function"){f=BigBlock.Blocks[BigBlock.BlocksKeys[c]].x;g=BigBlock.Blocks[BigBlock.BlocksKeys[c]].y;h=BigBlock.Blocks[BigBlock.BlocksKeys[c]].width;o=BigBlock.Blocks[BigBlock.BlocksKeys[c]].height;if(typeof h==="undefined")h=BigBlock.Grid.blk_dim;
if(typeof o==="undefined")o=BigBlock.Grid.blk_dim;if(BigBlock.ptInsideRect(a,b,f,f+h,g,g+o))return BigBlock.Blocks[BigBlock.BlocksKeys[c]].action_input(d),!1}return!0};f=function(){if(BigBlock.inputBlock===!0)return!1;return!0};g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};h=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};return{current_frame:0,resetCurrentFrame:function(){this.current_frame=0},screen_mouseup:!1,screen_mousedown:!1,screen_mousemove:!1,screen_touchstart:!1,
screen_touchmove:!1,screen_touchend:!1,screen_click:!1,frameAdvance:function(){},create:function(i){this.alias="ScreenEvent";this.evtListener=[];this.screen_mouseup=BigBlock.ScreenEvent.screen_mouseup;this.screen_mousedown=BigBlock.ScreenEvent.screen_mousedown;this.screen_mousemove=BigBlock.ScreenEvent.screen_mousemove;this.screen_touchstart=BigBlock.ScreenEvent.screen_touchstart;this.screen_touchmove=BigBlock.ScreenEvent.screen_touchmove;this.screen_touchend=BigBlock.ScreenEvent.screen_touchend;
this.screen_click=BigBlock.ScreenEvent.screen_click;this.frameAdvance=BigBlock.ScreenEvent.frameAdvance;this.inputFeedback=b;this.removeListensers=a;this.getEventLocation=e;this.checkButtonAction=d;this.checkBlockAction=c;this.checkInputBlock=f;this.preventDefault=g;this.stopPropagation=h;this.event_start=(new Date).getTime();this.event_time=this.event_end=0;this.event_buffer=i.event_buffer?i.event_buffer:200;this.mouseup_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);
if(!BigBlock.ScreenEvent.checkInputBlock())return!1;BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;BigBlock.ScreenEvent.removeListensers("touchstart",BigBlock.ScreenEvent.touchstart_event);if(BigBlock.ScreenEvent.event_time>BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(a);if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,
b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_mouseup!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mouseup==="function"&&BigBlock.ScreenEvent.screen_mouseup(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};this.mousemove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);
if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousemove!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mousemove==="function"&&BigBlock.ScreenEvent.screen_mousemove(b.x,b.y,a)};this.mousedown_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousedown!==
"undefined"&&typeof BigBlock.ScreenEvent.screen_mousedown==="function"&&BigBlock.ScreenEvent.screen_mousedown(b.x,b.y,a)};this.touchstart_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;this.touch=a.touches[0];BigBlock.ScreenEvent.removeListensers("mouseup",
BigBlock.ScreenEvent.mouseup_event);if(BigBlock.ScreenEvent.event_time>BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(this.touch);if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_touchstart!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchstart==="function"&&BigBlock.ScreenEvent.screen_touchstart(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,
BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};this.touchmove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchmove!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchmove==="function"&&BigBlock.ScreenEvent.screen_touchmove(b.x,
b.y,a)};this.touchend_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchend!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchend==="function"&&BigBlock.ScreenEvent.screen_touchend(b.x,b.y,a)};this.click_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);
if(!BigBlock.ScreenEvent.checkInputBlock())return!1}}}}();
BigBlock.Timer=function(){var b=(new Date).getTime();return{frame_rate_test_array:[],frame_rate_test_start:!1,frame_rate_test_end:!1,run_rate_test_array:[],run_interval:!1,app_footer:!1,app_footer_styles:!1,app_header:!1,app_header_styles:!1,before_play:!1,debug_frame_rate:!1,document_body_style:{backgroundColor:"#000"},event_buffer:!1,force_max_frame_rate:!0,frame_rate:33,frame_rate_test_interval:100,grid_active_styles:!1,grid_text_styles:!1,grid_static_styles:!1,grid_bg_styles:{backgroundColor:"#333"},
input_feedback:!0,is_paused:!1,alias:"Timer",F:!1,build_timeout:!1,time:0,clock:0,errors:[],build_start:(new Date).getTime(),blocks_to_destroy:[],play:function(a){var b,d;if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);b=document.getElementsByTagName("body").item(0);for(d in this.document_body_style)this.document_body_style.hasOwnProperty(d)&&(b.style[d]=this.document_body_style[d]);a=document.createElement("style");a.setAttribute("type","text/css");b=document.getElementsByTagName("head").item(0);
b.appendChild(a);a=document.styleSheets[document.styleSheets.length-1];d={body:"margin: 0;padding: 0;background-color:#ccc;","div.color":"background-color : transparent;","div.pix":"float:left;width:"+BigBlock.Grid.blk_dim+"px;height:"+BigBlock.Grid.blk_dim+"px;position:absolute;line-height:0px;font-size:1%;"};try{if(a.insertRule)for(b in d)d.hasOwnProperty(b)&&a.insertRule(b+" {"+d[b]+"}",0);else if(a.addRule)for(b in d)d.hasOwnProperty(b)&&a.addRule(b,d[b],0);else throw Error("BigBlock.Timer.play(): document.styleSheets insertion failed. Browser does not support insertRule() or addRule().");
}catch(c){BigBlock.Log.display(c.name+": "+c.message)}this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridInit=new this.F;BigBlock.GridInit.configure({quads:[{id:"qI_tl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:0,zIndex:-100},{id:"qI_tr",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:0,zIndex:-100},{id:"qI_bl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:BigBlock.Grid.height/2,zIndex:-100},{id:"qI_br",width:BigBlock.Grid.width/
2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:BigBlock.Grid.height/2,zIndex:-100}]});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridActive=new this.F;BigBlock.GridActive.configure({quads:[{id:"qA_tl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:0,zIndex:10},{id:"qA_tr",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:0,zIndex:10},{id:"qA_bl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:BigBlock.Grid.height/
2,zIndex:10},{id:"qA_br",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:BigBlock.Grid.height/2,zIndex:10}],styles:document.attachEvent?{backgroundImage:"url('trans.gif')"}:this.grid_active_styles});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridStatic=new this.F;BigBlock.GridStatic.configure({quads:[{id:"qS_tl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:0,zIndex:-10},{id:"qS_tr",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/
2,left:BigBlock.Grid.width/2,top:0,zIndex:-10},{id:"qS_bl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:BigBlock.Grid.height/2,zIndex:-10},{id:"qS_br",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:BigBlock.Grid.height/2,zIndex:-10}],styles:this.grid_static_styles});this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridText=new this.F;BigBlock.GridText.configure({quads:[{id:"qT_tl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/
2,left:0,top:0,zIndex:1},{id:"qT_tr",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:0,zIndex:1},{id:"qT_bl",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:0,top:BigBlock.Grid.height/2,zIndex:1},{id:"qT_br",width:BigBlock.Grid.width/2,height:BigBlock.Grid.height/2,left:BigBlock.Grid.width/2,top:BigBlock.Grid.height/2,zIndex:1}],styles:this.grid_text_styles});BigBlock.Grid.total_global_cols=Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim);
BigBlock.Grid.total_quad_cols=Math.round(BigBlock.Grid.width/2/BigBlock.Grid.blk_dim);this.F=BigBlock.clone(BigBlock.Grid);BigBlock.GridBG=new this.F;BigBlock.GridBG.configure({quads:[{id:"GBG",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-20}],styles:this.grid_bg_styles});delete this.F.prototype.configure;this.add_char_loader()},add_char_loader:function(){var a;BigBlock.Loader.add();BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");
document.getElementsByTagName("head").item(0).appendChild(a);this.build_char()},build_char:function(){BigBlock.GridActive.buildCharStyles()?(clearTimeout(this.build_timeout),this.add_color_loader()):this.build_timeout=setTimeout(this.build_char,1)},add_color_loader:function(){var a;BigBlock.Loader.add();BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(a);this.build_color()},build_color:function(){BigBlock.Color.build()?
(clearTimeout(this.build_timeout),BigBlock.Timer.add_grid_loader()):this.build_timeout=setTimeout(BigBlock.Timer.build_color,1)},add_grid_loader:function(){var a;BigBlock.Loader.add();BigBlock.Loader.update();a=document.createElement("style");a.setAttribute("type","text/css");document.getElementsByTagName("head").item(0).appendChild(a);BigBlock.Timer.build_grid()},build_grid:function(){var a,e,d,c;if(BigBlock.GridActive.build()){for(a=document.getElementsByTagName("body").item(0);document.getElementById("loader");)e=
document.getElementById("loader"),a.removeChild(e);BigBlock.GridInit.add();BigBlock.GridActive.add();BigBlock.GridStatic.add();BigBlock.GridText.add();BigBlock.GridBG.add();BigBlock.Log.display((new Date).getTime()-b+"ms");delete BigBlock.Loader;delete BigBlock.Timer.add_color_loader;delete BigBlock.Timer.build_color;delete BigBlock.Timer.add_grid_loader;delete BigBlock.Timer.build_grid;delete BigBlock.Timer.play;delete BigBlock.Timer.F.prototype.add;delete BigBlock.Timer.F.prototype.build;delete BigBlock.Timer.F.prototype.buildCharStyles;
delete BigBlock.Timer.F;if(BigBlock.Timer.app_header!==!1)a=BigBlock.GridActive.x,e=BigBlock.GridActive.y,d=typeof BigBlock.Timer.app_header_styles.backgroundColor==="undefined"?BigBlock.Timer.document_body_style.backgroundColor:BigBlock.Timer.app_header_styles.backgroundColor,BigBlock.Header.add(a,e,d);if(BigBlock.Timer.app_footer!==!1)a=BigBlock.GridActive.x,e=BigBlock.GridActive.y+BigBlock.GridActive.height,d=typeof BigBlock.Timer.app_footer_styles.backgroundColor==="undefined"?BigBlock.Timer.document_body_style.backgroundColor:
BigBlock.Timer.app_footer_styles.backgroundColor,BigBlock.Footer.add(a,e,d);typeof BigBlock.ScreenEvent.alias==="undefined"&&BigBlock.ScreenEvent.create({event_buffer:BigBlock.Timer.event_buffer});a=0;for(e=BigBlock.GridActive.quads.length;a<e;a++)for(c in d=document.getElementById(BigBlock.GridActive.quads[a].id),BigBlock.ScreenEvent.evtListener[a]={},BigBlock.ScreenEvent.evtListener[a].click=BigBlock.ScreenEvent.click_event,BigBlock.ScreenEvent.evtListener[a].mouseup=BigBlock.ScreenEvent.mouseup_event,
BigBlock.ScreenEvent.evtListener[a].mousemove=BigBlock.ScreenEvent.mousemove_event,BigBlock.ScreenEvent.evtListener[a].mousedown=BigBlock.ScreenEvent.mousedown_event,BigBlock.ScreenEvent.evtListener[a].touchstart=BigBlock.ScreenEvent.touchstart_event,BigBlock.ScreenEvent.evtListener[a].touchmove=BigBlock.ScreenEvent.touchmove_event,BigBlock.ScreenEvent.evtListener[a].touchend=BigBlock.ScreenEvent.touchend_event,BigBlock.ScreenEvent.evtListener[a])BigBlock.ScreenEvent.evtListener[a].hasOwnProperty(c)&&
(d.addEventListener?d.addEventListener(c,BigBlock.ScreenEvent.evtListener[a][c],!1):d.attachEvent&&d.attachEvent("on"+c,BigBlock.ScreenEvent.evtListener[a][c]));BigBlock.Timer.before_play!==!1&&typeof BigBlock.Timer.before_play==="function"&&BigBlock.Timer.before_play();clearTimeout(BigBlock.Timer.build_timeout);BigBlock.Timer.run_interval=setInterval(function(){BigBlock.Timer.run()},10)}else this.build_timeout=setTimeout(BigBlock.Timer.build_grid,1)},run:function(){var a,b;if(!this.is_paused){this.frame_rate_test_end=
(new Date).getTime();a=this.frame_rate_test_end-this.frame_rate_test_start;if(this.force_max_frame_rate&&this.frame_rate_test_start!==!1&&this.frame_rate_test_end!==!1)for(a=this.frame_rate-a;(new Date).getTime()<this.frame_rate_test_end+a;);this.debug_frame_rate&&this.frameRateTest();this.frame_rate_test_start=(new Date).getTime();var d=[];a=0;for(b=BigBlock.BlocksKeys.length;a<b;a++)if(typeof BigBlock.Blocks[BigBlock.BlocksKeys[a]]!=="undefined"){var c=BigBlock.Blocks[BigBlock.BlocksKeys[a]];c.run();
typeof c.img!=="undefined"&&c.render!==0&&(d[d.length]=c,c.render--)}this.debug_frame_rate&&this.runRateTest();BigBlock.RenderMgr.is_cleaned=!1;BigBlock.RenderMgr.renderCleanUp();this.blocks_to_destroy.length>0&&this.cleanUpBlocks();BigBlock.BlocksKeys.length>0&&BigBlock.RenderMgr.renderBlocks(d);this.clock++}},cleanUpBlocks:function(){var a,b,d,c;a=0;for(b=this.blocks_to_destroy.length;a<b;a++){typeof BigBlock.Blocks[this.blocks_to_destroy[a]]!=="undefined"&&typeof BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy===
"function"&&BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy();delete BigBlock.Blocks[this.blocks_to_destroy[a]];d=0;for(c=BigBlock.BlocksKeys.length;d<c;d++)if(BigBlock.BlocksKeys[d]===this.blocks_to_destroy[a]){BigBlock.BlocksKeys.splice(d,1);break}}this.blocks_to_destroy=[]},destroyObject:function(a){if(typeof a!=="undefined")this.blocks_to_destroy[this.blocks_to_destroy.length]=a.alias},frameRateTest:function(){var a,b,d;this.frame_rate_test_array[this.frame_rate_test_array.length]=(new Date).getTime()-
this.frame_rate_test_start;if(this.clock%this.frame_rate_test_interval===0){b=a=0;for(d=this.frame_rate_test_interval;b<d;b++)a+=this.frame_rate_test_array[b];b=a/this.frame_rate_test_interval;a=1E3/(a/this.frame_rate_test_interval);this.frame_rate_test_start!==0&&(BigBlock.Log.display("/////"),BigBlock.Log.display("Avg frame rate: "+b.toFixed(2)+"ms ("+a.toFixed(2)+" frm/sec)"));this.frame_rate_test_array=[]}},runRateTest:function(){var a,b,d;this.run_rate_test_array[this.run_rate_test_array.length]=
(new Date).getTime()-this.frame_rate_test_start;if(this.clock%this.frame_rate_test_interval===0){b=a=0;for(d=this.run_rate_test_array.length;b<d;b++)a+=this.run_rate_test_array[b];a/=this.run_rate_test_array.length;this.frame_rate_test_start!==0&&BigBlock.Log.display("Run rate: "+a.toFixed(2)+"ms Total blocks: "+BigBlock.BlocksKeys.length);this.run_rate_test_array=[]}}}}();Math.degreesToRadians=function(b){return Math.PI/180*b};Math.radiansToDegrees=function(b){return 180/Math.PI*b};
Math.getRandomNumber=function(b,a){return Math.floor(Math.random()*(a-(b-1)))+b};Math.getDistanceBwTwoPts=function(b,a,e,d){return Math.sqrt(Math.pow(e-b,2)+Math.pow(d-a,2))};BigBlock.clone=function(b){function a(){}a.prototype=b;return a};BigBlock.getPixIndex=function(b,a){b>=BigBlock.Grid.width/2&&(b-=BigBlock.Grid.width/2);a>=BigBlock.Grid.height/2&&(a-=BigBlock.Grid.height/2);return Math.floor(b/BigBlock.Grid.blk_dim)+BigBlock.Grid.total_quad_cols*Math.floor(a/BigBlock.Grid.blk_dim)};
BigBlock.getPixLoc=function(b,a,e){var d;b==="x"&&(e%=BigBlock.Grid.total_global_cols,d=a+e*BigBlock.Grid.blk_dim);b==="y"&&(d=a+(e>0?Math.floor(e/BigBlock.Grid.total_global_cols):Math.ceil(e/BigBlock.Grid.total_global_cols))*BigBlock.Grid.blk_dim);return d};BigBlock.getColIndex=function(b,a){var e=BigBlock.Grid.width/BigBlock.Grid.blk_dim;return BigBlock.getFullGridIndex(b,a)%e};
BigBlock.getFullGridIndex=function(b,a){return BigBlock.Grid.blk_dim!==0?Math.floor(b/BigBlock.Grid.blk_dim)+Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim)*Math.floor(a/BigBlock.Grid.blk_dim):1};BigBlock.getBlock=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a++)if(BigBlock.Blocks[a].alias===b)return a;return!1};BigBlock.getWord=function(b){var a,e;a=0;for(e=BigBlock.Blocks.length;a<e;a++)if(BigBlock.Blocks[a].word_id===b)return a;return!1};
BigBlock.removeStaticBlock=function(b,a){var e,d,c,f,g,h,i;try{if(typeof b==="undefined")throw Error("BigBlock.removeStatic(alias): requires an alias.");if(typeof b!=="string")throw Error("utility: removeStatic(): arguement 'alias' must be a string.");if(typeof a!=="undefined"&&typeof a!=="function")throw Error("utility: removeStatic(): arguement 'callback' must be a function.");}catch(j){BigBlock.Log.display(j.name+": "+j.message)}e=0;for(d=BigBlock.GridStatic.quads.length;e<d;e++)if(g=document.getElementById(BigBlock.GridStatic.quads[e].id),
g.hasChildNodes()){h=g.childNodes;i=[];c=0;for(f=h.length;c<f;c++)i[i.length]=h[c];c=0;for(f=i.length;c<f;c++)b===i[c].getAttribute("name")&&g.removeChild(i[c])}typeof a==="function"&&a()};BigBlock.Log=function(){return{display:function(b){try{typeof console!=="undefined"?console.log(b):typeof opera!=="undefined"&&typeof opera.wiiremote!=="undefined"?alert(b):typeof opera!=="undefined"&&opera.postError(b)}catch(a){}}}}();
BigBlock.getUniqueId=function(){return(new Date).getTime()+Math.getRandomNumber(0,1E9)};BigBlock.ptInsideRect=function(b,a,e,d,c,f){if(b>=e&&b<d&&a>=c&&a<f)return!0;return!1};BigBlock.getBigBlockCSS=function(b){var a,e,d,c,f,g;d=document.styleSheets;a=0;for(e=d.length;a<e;a++)if(d[a].cssRules){c=d[a].cssRules;f=0;for(g=c.length;f<g;f++)if(c[f].selectorText===b)return d[a]}else if(d[a].rules){c=d[a].rules;f=0;for(g=c.length;f<g;f++)if(c[f].selectorText===b)return d[a]}return!1};
BigBlock.getWindowDim=function(){var b={width:!1,height:!1};if(typeof window.innerWidth!=="undefined")b.width=window.innerWidth;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientWidth!=="undefined")b.width=document.documentElement.clientWidth;else if(typeof document.body!=="undefined")b.width=document.body.clientWidth;if(typeof window.innerHeight!=="undefined")b.height=window.innerHeight;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientHeight!==
"undefined")b.height=document.documentElement.clientHeight;else if(typeof document.body!=="undefined")b.height=document.body.clientHeight;return b};BigBlock.inArray=function(b,a){var e,d,c;c=!1;e=0;for(d=a.length;e<d;e++)typeof b===typeof a[e]&&b===a[e]&&(c=!0);return c};BigBlock.getFileExtension=function(b){var a,e;try{if(typeof b==="undefined")throw Error("BigBlock.getFileExtension(path): A path is required.");else e=b.split("."),a=e[e.length-1]}catch(d){BigBlock.Log.display(d.name+": "+d.message)}return a};
BigBlock.getMimeTypeFromFileExt=function(b){try{if(typeof b==="undefined")throw Error("BigBlock.getMimeTypeFromFileExt(ext): An extension is required.");else switch(b){case "aif":return["audio/x-aiff","audio/x-aiff"];case "au":case "snd":return["audio/basic"];case "ogg":return["audio/ogg"];case "mp3":return["audio/mpeg","audio/x-mpeg"];case "wav":return["audio/wav","audio/x-wav"];default:return!1}}catch(a){BigBlock.Log.display(a.name+": "+a.message)}};
BigBlock.checkHasDupes=function(b){var a,e,d;a=[];d=b.pix.length;for(a=0;a<d;a++)for(e=a+1;e<d;e++)if(b.pix.i.i===b.pix.j.i)return a=[b.pix.i,b.pix.j];return!1};BigBlock.getMySqlDateTime=function(){var b,a,e,d,c,f;b=new Date;a=b.getFullYear();e=b.getMonth();e<10&&(e="0"+e);d=b.getDate();d<10&&(d="0"+d);c=b.getHours();c<10&&(c="0"+c);f=b.getMinutes();f<10&&(f="0"+f);b=b.getSeconds();b<10&&(b="0"+b);return a+"-"+e+"-"+d+" "+c+":"+f+":"+b};
BigBlock.windowOpen=function(b,a){try{if(typeof b==="undefined")return!1;else typeof a==="undefined"&&(a=""),BigBlock.standalone?confirm("Leaving app. Continue?")&&window.open(b,a):window.open(b,a)}catch(e){BigBlock.Log.display(e.name+": "+e.message)}};
BigBlock.checkCollision=function(b,a,e,d,c){var f,g,h,i,j,l;for(f in BigBlock.Blocks)if(BigBlock.Blocks.hasOwnProperty(f)&&BigBlock.Blocks[f].anim!==!1&&BigBlock.Blocks[f].render_static===!1&&BigBlock.Blocks[f].alias.indexOf(c)!==-1&&d===!1)for(h in g=BigBlock.Blocks[f].anim_frame,BigBlock.Blocks[f].anim[g].frm.pix)if(BigBlock.Blocks[f].anim[g].frm.pix.hasOwnProperty(h)&&(i=BigBlock.getFullGridIndex(BigBlock.Blocks[f].x,BigBlock.Blocks[f].y),i+=BigBlock.Blocks[f].anim[g].frm.pix[h].i,j=BigBlock.getPixLoc("x",
BigBlock.Blocks[f].x,BigBlock.Blocks[f].anim[g].frm.pix[h].i),l=BigBlock.getPixLoc("y",BigBlock.Blocks[f].y,BigBlock.Blocks[f].anim[g].frm.pix[h].i),l=BigBlock.RenderMgr.getQuad("active",j,l),j=BigBlock.RenderMgr.getQuad("active",a,e),j===l&&i===BigBlock.getFullGridIndex(a,e))){BigBlock.Blocks[b].is_hit=!0;BigBlock.Blocks[b].render=2;typeof BigBlock.Blocks[b].action_collide==="function"&&BigBlock.Blocks[b].action_collide();typeof BigBlock.Blocks[f].action_collide==="function"&&BigBlock.Blocks[f].action_collide();
break}};BigBlock.getTransform=function(b,a,e,d){var c,f;c={};f=b*Math.cos(Math.degreesToRadians(a));b*=Math.sin(Math.degreesToRadians(a));c.x=e+f;c.y=d+b;return c};
BigBlock.getParticleTransform=function(b,a,e,d,c,f,g,h,i,j,l){var m,k;m={};k=Math.round(Math.cos(f)*j*BigBlock.Grid.blk_dim);j=b*BigBlock.Grid.blk_dim*Math.cos(a)+k;k=Math.round(Math.cos(f)*l*BigBlock.Grid.blk_dim);b=b*BigBlock.Grid.blk_dim*Math.sin(a)+k;if(!(e+j>=BigBlock.Grid.width))m.x=e+j,m.y=d+b+c*BigBlock.Grid.blk_dim;m.color_index=h+Math.round(i*(f/g));return m};BigBlock.getAngle=function(b,a,e,d){return Math.atan2(b-a,e-d)*180/Math.PI};
BigBlock.Word=function(){return{create:function(b){var a,e,d=new (BigBlock.clone(BigBlock.Block));d.configure();if(typeof b!=="undefined")for(a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e=BigBlock.Color.getPalette();a=0;for(b=e.classes.length;a<b;a++)if(e.classes[a].name===d.color){d.color_max=e.classes[a].val.length-1;break}d.className="Word";d.render=0;if(d.center)e=d.word.length*BigBlock.Grid.blk_dim,d.x=BigBlock.Grid.width/2-e/2;d.destroy=function(a){var b,c,d,e,f,k,p,n,q;e=this.alias;f=BigBlock.GridText.quads;
b=0;for(c=f.length;b<c;b++)if(d=document.getElementById(f[b].id),d.hasChildNodes()){k=d.childNodes;p=[];n=0;for(q=k.length;n<q;n++)p[p.length]=k[n];n=0;for(q=p.length;n<q;n++)p[n].getAttribute("name")===e&&d.removeChild(p[n])}if(typeof a==="function")this.after_destroy=a;this.render=0;BigBlock.Timer.destroyObject(this)};BigBlock.Blocks[d.alias]=d;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=d.alias;try{if(typeof BigBlock.CharPresets.getChar==="undefined")throw Error("BigBlock.Word.create(): BigBlock.CharPresets = BigBlock.CharPresets.install() must be run before creating Words.");
else if(BigBlock.CharPresets.getChar(d.word))BigBlock.Character.create({word_id:d.alias,character:d.word,x:d.x,y:d.y,color:d.color,font:d.font,glass:d.glass});else{var c=new String(d.word);a=0;for(b=c.length;a<b;a++)BigBlock.Character.create({word_id:d.alias,character:c.substr(a,1),x:d.x+a*BigBlock.Grid.blk_dim,y:d.y,color:d.color,font:d.font,glass:d.glass})}}catch(f){BigBlock.Log.display(f.name+": "+f.message)}}}}();