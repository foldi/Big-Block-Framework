var BigBlock={Blocks:{},BlocksKeys:[],curentFrame:0,inputBlock:!1,URL_ittybitty8bit:"http://www.ittybitty8bit.com",URL_Facebook:"http://www.facebook.com/pages/ittybitty8bit/124916544219794",URL_Twitter:"http://www.twitter.com/ittybitty8bit",CSSid_core:"core",CSSid_color:"color",CSSid_position:"i",CSSid_char:"ch",CSSid_char_pos:"ch_p",CSSid_text_bg:"txt_bg",CSSid_grid_pos:"grid_p"};BigBlock.user_agent=navigator.userAgent.toLowerCase();if(BigBlock.user_agent.search("iphone")>-1)BigBlock.is_iphone=!0;
if(BigBlock.user_agent.search("ipad")>-1)BigBlock.is_ipad=!0;if(window.navigator.standalone)BigBlock.standalone=!0;BigBlock.ready=function(){BigBlock.Timer.play()};
BigBlock.Log=function(){var a;a=typeof console!=="undefined"&&typeof console.log!=="undefined"?function(b){console.log(b)}:function(){};typeof window.opera!=="undefined"&&(a=function(b){window.opera.postError(b)});return{timer_enabled:!1,count_enabled:!1,display:a,time:typeof console!=="undefined"&&typeof console.time!=="undefined"?function(b){this.timer_enabled&&console.time(b)}:function(){},timeEnd:typeof console!=="undefined"&&typeof console.timeEnd!=="undefined"?function(b){this.timer_enabled&&
console.timeEnd(b)}:function(){},count:typeof console!=="undefined"&&typeof console.count!=="undefined"?function(b){this.count_enabled&&console.count(b)}:function(){},table:typeof console!=="undefined"&&typeof console.table!=="undefined"?function(b,a){console.table(b,a)}:function(){},error:function(b){return BigBlock.Log.display(b.name.toUpperCase()+" line: "+b.lineNumber+" "+b.message)}}}();Math.degreesToRadians=function(a){return Math.PI/180*a};
Math.radiansToDegrees=function(a){return 180/Math.PI*a};Math.getRandomNumber=function(a,b){return Math.floor(Math.random()*(b-(a-1)))+a};Math.getDistanceBwTwoPts=function(a,b,c,e){return Math.sqrt(Math.pow(c-a,2)+Math.pow(e-b,2))};
BigBlock.Utils=function(){return{clone:function(a){function b(){}b.prototype=a;return b},getPixIndex:function(a,b){a>=BigBlock.Grid.width&&(a-=BigBlock.Grid.width);b>=BigBlock.Grid.height&&(b-=BigBlock.Grid.height);return Math.floor(a/BigBlock.Grid.blk_dim)+BigBlock.Grid.total_viewport_cols*Math.floor(b/BigBlock.Grid.blk_dim)},getPixLoc:function(a,b,c){var e;a==="x"&&(c%=BigBlock.Grid.total_viewport_cols,e=b+c*BigBlock.Grid.blk_dim);a==="y"&&(a=c>0?Math.floor(c/BigBlock.Grid.total_viewport_cols):
Math.ceil(c/BigBlock.Grid.total_viewport_cols),e=b+a*BigBlock.Grid.blk_dim);return e},getColIndex:function(a,b){var c=BigBlock.Grid.width/BigBlock.Grid.blk_dim;return BigBlock.getFullGridIndex(a,b)%c},getBlock:function(a){var b,c;b=0;for(c=BigBlock.Blocks.length;b<c;b+=1)if(BigBlock.Blocks[b].alias===a)return b;return!1},getWord:function(a){var b,c;b=0;for(c=BigBlock.Blocks.length;b<c;b+=1)if(BigBlock.Blocks[b].word_id===a)return b;return!1},removeStaticBlock:function(a,b){var c,e,d,f,g;try{if(typeof a===
"undefined")throw Error("BigBlock.removeStatic(alias): requires an alias.");if(typeof a!=="string")throw Error("utility: removeStatic(): arguement 'alias' must be a string.");if(typeof b!=="undefined"&&typeof b!=="function")throw Error("utility: removeStatic(): arguement 'callback' must be a function.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}d=BigBlock.GridStatic.viewport.dom_ref;if(d.hasChildNodes()){f=d.childNodes;g=[];c=0;for(e=f.length;c<e;c+=1)g[g.length]=f[c];c=0;for(e=g.length;c<
e;c+=1)a===g[c].getAttribute("name")&&d.removeChild(g[c])}typeof b==="function"&&b()},getUniqueId:function(){return(new Date).getTime()+Math.getRandomNumber(0,1E9)},ptInsideRect:function(a,b,c,e,d,f){if(a>=c&&a<e&&b>=d&&b<f)return!0;return!1},getCSSLength:function(a){if(a.cssRules)this.getCSSLength=function(){return a.cssRules.length};else if(a.rules)this.getCSSLength=function(){return a.rules.length};return this.getCSSLength(a)},appendCSSRule:function(a,b,c){if(a.insertRule)this.appendCSSRule=function(b,
a,c){b.insertRule(a+" {"+c+"}",0)};else if(a.addRule)this.appendCSSRule=function(b,a,c){b.addRule(a+" "+c)};this.appendCSSRule(a,b,c)},addEventHandler:function(a,b,c){if(a.addEventListener)this.addEventHandler=function(b,a,c){b.addEventListener(a,c,!1)};else if(a.attachEvent)this.addEventHandler=function(b,a,c){b.attachEvent("on"+a,c)};this.addEventHandler(a,b,c)},removeEventHandler:function(a,b,c){if(a.removeEventListener)this.removeEventHandler=function(b,a,c){b.removeEventListener(a,c,!1)};else if(a.detachEvent)this.removeEventHandler=
function(b,a,c){b.detachEvent("on"+a,c)};this.removeEventHandler(a,b,c)},getWindowDim:function(){var a={width:!1,height:!1};if(typeof window.innerWidth!=="undefined")a.width=window.innerWidth;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientWidth!=="undefined")a.width=document.documentElement.clientWidth;else if(typeof document.body!=="undefined")a.width=document.body.clientWidth;if(typeof window.innerHeight!=="undefined")a.height=window.innerHeight;else if(typeof document.documentElement!==
"undefined"&&typeof document.documentElement.clientHeight!=="undefined")a.height=document.documentElement.clientHeight;else if(typeof document.body!=="undefined")a.height=document.body.clientHeight;return a},inArray:function(a,b){var c,e,d;d=!1;c=0;for(e=b.length;c<e;c+=1)typeof a===typeof b[c]&&a===b[c]&&(d=!0);return d},getFileExtension:function(a){var b,c;try{if(typeof a==="undefined")throw Error("BigBlock.getFileExtension(path): A path is required.");else c=a.split("."),b=c[c.length-1]}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}return b},getMimeTypeFromFileExt:function(a){try{if(typeof a==="undefined")throw Error("BigBlock.getMimeTypeFromFileExt(ext): An extension is required.");else switch(a){case "aif":return["audio/x-aiff","audio/x-aiff"];case "au":case "snd":return["audio/basic"];case "ogg":return["audio/ogg"];case "mp3":return["audio/mpeg","audio/x-mpeg"];case "wav":return["audio/wav","audio/x-wav"];default:return!1}}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},getMySqlDateTime:function(){var a,
b,c,e,d,f;a=new Date;b=a.getFullYear();c=a.getMonth();c<10&&(c="0"+c);e=a.getDate();e<10&&(e="0"+e);d=a.getHours();d<10&&(d="0"+d);f=a.getMinutes();f<10&&(f="0"+f);a=a.getSeconds();a<10&&(a="0"+a);return b+"-"+c+"-"+e+" "+d+":"+f+":"+a},windowOpen:function(a,b){try{if(typeof a==="undefined")return!1;else typeof b==="undefined"&&(b=""),BigBlock.standalone?confirm("Leaving app. Continue?")&&window.open(a,b):window.open(a,b)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},getTransform:function(a,
b,c,e){var d,f;d={};f=a*Math.cos(Math.degreesToRadians(b));a*=Math.sin(Math.degreesToRadians(b));d.x=c+f;d.y=e+a;return d},getParticleTransform:function(a,b,c,e,d,f,g,h,i,k,m){var l,j;l={};j=Math.round(Math.cos(f)*k*BigBlock.Grid.blk_dim);k=a*BigBlock.Grid.blk_dim*Math.cos(b)+j;j=Math.round(Math.cos(f)*m*BigBlock.Grid.blk_dim);a=a*BigBlock.Grid.blk_dim*Math.sin(b)+j;if(!(c+k>=BigBlock.Grid.width))l.x=c+k,l.y=e+a+d*BigBlock.Grid.blk_dim;l.color_index=h+Math.round(i*(f/g));return l},getAngle:function(a,
b,c,e){return Math.atan2(a-b,c-e)*180/Math.PI},checkCollision:function(a,b,c,e,d){var f,g,h,i;for(f in BigBlock.Blocks)if(BigBlock.Blocks.hasOwnProperty(f)&&BigBlock.Blocks[f].anim!==!1&&BigBlock.Blocks[f].render_static===!1&&BigBlock.Blocks[f].alias.indexOf(d)!==-1&&e===!1)for(h in g=BigBlock.Blocks[f].anim_frame,BigBlock.Blocks[f].anim[g].frm.pix)if(BigBlock.Blocks[f].anim[g].frm.pix.hasOwnProperty(h)&&(i=BigBlock.getFullGridIndex(BigBlock.Blocks[f].x,BigBlock.Blocks[f].y),i+=BigBlock.Blocks[f].anim[g].frm.pix[h].i,
BigBlock.getPixLoc("x",BigBlock.Blocks[f].x,BigBlock.Blocks[f].anim[g].frm.pix[h].i),BigBlock.getPixLoc("y",BigBlock.Blocks[f].y,BigBlock.Blocks[f].anim[g].frm.pix[h].i),i===BigBlock.getFullGridIndex(b,c))){BigBlock.Blocks[a].is_hit=!0;BigBlock.Blocks[a].render=2;typeof BigBlock.Blocks[a].action_collide==="function"&&BigBlock.Blocks[a].action_collide();typeof BigBlock.Blocks[f].action_collide==="function"&&BigBlock.Blocks[f].action_collide();break}}}}();
BigBlock.Audio=function(){var a=!0;typeof window.Audio==="undefined"&&(a=!1,BigBlock.Log.display("This browser does not support HTML5 audio."));return{alias:"audio",supported:a,playlist:{},pause_timeout:null,debug:!1,is_single_channel:!1,single_channel_id:null,last_play:(new Date).getTime(),last_play_delay:500,muted:!1,format:["wav","mp3","ogg"],loading_list:[],loading_complete:!1,add:function(b,c,e,d){var f,g,h,i,k,m,l;if(a){try{if(typeof b==="undefined")throw Error("An id is required");if(typeof c===
"undefined")throw Error("Path to audio file required");}catch(j){BigBlock.Log.display(j.name+": "+j.message)}f=0;for(g=this.format.length;f<g;f++){k=BigBlock.Utils.getMimeTypeFromFileExt(this.format[f]);l=new Audio(c+b+"."+this.format[f]);if(e)l.loop=e;m="";h=0;for(i=k.length;h<i;h++)if(m=this.canPlayType(l,k[h]),m!==""){this.debug&&BigBlock.Log.display("This browser will try to play "+b+" audio file in "+k[h]+" format.");break}if(m!=="")break}if(m!=="")l.id=b,this.playlist[b]=l,h=this.playlist[b],
h.addEventListener?(h.addEventListener("canplay",function(b){BigBlock.Audio.playlist[b.target.id].removeEventListener("canplay",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("progress",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("suspend",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("abort",this.eventHandler,
!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("error",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("stalled",this.eventHandler,!1);BigBlock.Audio.eventHandler(b,d)},!1),h.addEventListener("loadstart",this.eventHandler,!1),h.addEventListener("progress",this.eventHandler,!1),h.addEventListener("suspend",this.eventHandler,!1),h.addEventListener("abort",this.eventHandler,
!1),h.addEventListener("error",this.eventHandler,!1),h.addEventListener("emptied",this.eventHandler,!1),h.addEventListener("stalled",this.eventHandler,!1)):h.attachEvent&&(h.attachEvent("canplay",function(b){BigBlock.Audio.eventHandler(b,d)},!1),h.attachEvent("loadstart",this.eventHandler,!1),h.attachEvent("progress",this.eventHandler,!1),h.attachEvent("suspend",this.eventHandler,!1),h.attachEvent("abort",this.eventHandler,!1),h.attachEvent("error",this.eventHandler,!1),h.attachEvent("emptied",this.eventHandler,
!1),h.attachEvent("stalled",this.eventHandler,!1)),h.load?(this.loading_list.push(b),h.load()):(this.supported=!1,this.playlist=[],BigBlock.Log.display("This browser does not support HTML5 audio."));else if(BigBlock.Log.display("Audio mime-type "+k+" not supported. "+this.format+" files will not be played."),BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[]}},eventHandler:function(b,a){var e,d,f;f="An audio event for "+b.target.id+" just fired.";switch(b.type){case "loadstart":f=
"Audio: eventHandler: Audio file "+b.target.id+" has started loading.";break;case "progress":f="Audio: eventHandler: Audio file "+b.target.id+" is loading.";break;case "suspend":f="Audio: eventHandler: The user agent is intentionally not currently fetching "+b.target.id+", but does not have the entire media resource downloaded.";break;case "abort":f="Audio: eventHandler: The user agent stopped fetching "+b.target.id+" before it was completely downloaded, but not due to an error.";break;case "error":f=
"Audio: eventHandler: An error occurred while fetching "+b.target.id+".";if(BigBlock.Audio.is_single_channel)BigBlock.Audio.supported=!1,BigBlock.Audio.playlist=[];break;case "emptied":f="Audio: eventHandler: "+b.target.id+"'s network state just switched to NETWORK_EMPTY.";break;case "stalled":f="Audio: eventHandler: The user agent is trying to fetch "+b.target.id+", but data is unexpectedly not forthcoming.";break;case "canplay":f="Audio: eventHandler: Audio file "+b.target.id+" is ready to play.",
typeof a!=="undefined"&&setTimeout(function(){a()},0)}if(b.type!=="loadstart"&&b.type!=="progress"&&b.type!=="suspend"&&b.type!=="emptied"&&b.type!=="stalled"){e=0;for(d=BigBlock.Audio.loading_list.length;e<d;e++)if(BigBlock.Audio.loading_list[e]===b.target.id){BigBlock.Audio.loading_list.splice(e,1);if(BigBlock.Audio.loading_list.length<1)BigBlock.Audio.loading_complete=!0;break}BigBlock.Audio.playlist[b.target.id].removeEventListener("loadstart",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("progress",
this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("suspend",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("abort",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("error",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("emptied",this.eventHandler,!1);BigBlock.Audio.playlist[b.target.id].removeEventListener("stalled",this.eventHandler,!1)}try{if(BigBlock.Audio.debug===!0)throw Error(f);
}catch(g){BigBlock.Log.display(g.name+": "+g.message)}},canPlayType:function(b,a){try{if(typeof a==="undefined")throw Error("A type is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{return b.canPlayType?b.canPlayType(a):"maybe"}catch(d){BigBlock.Log.display(d.name+": "+d.message)}return!1},load:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{this.playlist[b].load()}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}}},play:function(b,a,e){var d,f,g,h;if(this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}try{if(this.is_single_channel){if(typeof this.playlist[this.single_channel_id]!=="undefined"&&(h=(new Date).getTime(),h-this.last_play>this.last_play_delay))f=this.getReadyState(this.single_channel_id,!0),f.state>=2&&this.muted===!1?(g=this.track_labels[b].start_time,d=this.track_labels[b].duration,this.pause(this.single_channel_id),
this.setCurrentTime(this.single_channel_id,g),this.playlist[this.single_channel_id].play(),this.last_play=h,this.pause_timeout=setTimeout(function(){BigBlock.Audio.pause(BigBlock.Audio.single_channel_id)},d)):this.debug&&BigBlock.Log.display("Audio: State: "+f.state+" Message: "+f.message)}else typeof this.playlist[b]!=="undefined"&&(f=this.getReadyState(b,!0),f.state>=2&&this.muted===!1&&(typeof a!=="undefined"&&a(),typeof e!=="undefined"&&(d=this.getDuration(b)*1E3,setTimeout(function(){e()},d)),
this.playlist[b].pause(),this.playlist[b].play()))}catch(k){BigBlock.Log.display(k.name+": "+k.message)}}},pause:function(b,a){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}var d=this.getReadyState(b,!0);if(d.state>2)if(typeof a!=="undefined")if(this.isPaused(b)===!1)try{this.playlist[b].pause()}catch(f){BigBlock.Log.display(f.name+": "+f.message)}else{var d=this.getPlayed(b),
g=this.isEnded(b);if(d.length>0&&g!==!0)try{this.playlist[b].play()}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}else try{this.playlist[b].pause()}catch(i){BigBlock.Log.display(i.name+": "+i.message)}else BigBlock.Log.display("Audio: "+d.message)}},isPaused:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].paused}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}}},getPlayed:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].played}catch(e){BigBlock.Log.display(e.name+": "+e.message)}}},isEnded:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].ended}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}}},getPlaybackRate:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].playbackRate}catch(e){BigBlock.Log.display(e.name+": "+e.message)}}},getReadyState:function(b,a){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}var d=this.playlist[b].readyState;if(typeof a!=="undefined"){var f;switch(d){case 0:f="HAVE_NOTHING: No data for the current playback position is available.";break;case 1:f="HAVE_METADATA : Enough of the resource has been obtained that the duration of the resource is available. No media data is available for the immediate current playback position.";break;case 2:f="HAVE_CURRENT_DATA: Data for the immediate current playback position is available, but not enough data is available to successfully advance the current playback position in the direction of playback.";
break;case 3:f="HAVE_FUTURE_DATA: Data for the immediate current playback position is available. However, not enough data is avaialble to determine if playback will out-pace the data stream.";break;case 4:f="HAVE_ENOUGH_DATA: All data for the immediate current playback position is available."}d={state:d,message:f}}return d}},getNetworkState:function(b,a){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}var d=this.playlist[b].networkState;if(typeof a!=="undefined"){var f;switch(d){case 0:f="NETWORK_EMPTY: The element has not yet been initialized. All attributes are in their initial states.";break;case 1:f="NETWORK_IDLE: The element's resource selection algorithm is active and has selected a resource, but it is not actually using the network at this time.";break;case 2:f="NETWORK_LOADING: The user agent is actively trying to download data.";break;case 3:f="NETWORK_NO_SOURCE: The element's resource selection algorithm is active, but it has so not yet found a resource to use."}d=
{state:d,message:f}}return d}},getDuration:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].duration}catch(e){BigBlock.Log.display(e.name+": "+e.message)}}},getCurrentTime:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+
": "+a.message)}try{return this.playlist[b].currentTime}catch(e){BigBlock.Log.display(e.name+": "+e.message)}}},setCurrentTime:function(b,a){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{this.playlist[b].currentTime=a}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},getVolume:function(b){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b===
"undefined")throw Error("An id is required");}catch(a){BigBlock.Log.display(a.name+": "+a.message)}try{return this.playlist[b].volume}catch(e){BigBlock.Log.display(e.name+": "+e.message)}}},setVolume:function(b,a){if(typeof this.playlist[b]!=="undefined"&&this.supported){try{if(typeof b==="undefined")throw Error("An id is required");if(typeof a==="undefined")throw Error("A volume value between 0.0 and 1.0 is required");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}try{this.playlist[b].volume=
a}catch(d){BigBlock.Log.display(d.name+": "+d.message)}}},mute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!0}catch(c){BigBlock.Log.display(c.name+": "+c.message)}this.muted=!0}},unmute:function(){var a;if(this.supported){for(a in this.playlist)if(this.playlist.hasOwnProperty(a))try{this.playlist[a].muted=!1}catch(c){BigBlock.Log.display(c.name+": "+c.message)}this.muted=!1}}}}();
BigBlock.Block=function(){return{configure:function(){this.pix_index=this.last_y=this.last_x=!1;this.clock=0;this.color_index=this.color+"0";this.color_max=0;this.anim=!1;this.anim_frame=0;this.last_anim_frame=!1;this.is_position_updated=!0;this.is_anim_updated=!1;this.className="Block";this.alias=BigBlock.Utils.getUniqueId();this.color="white";this.y=this.x=0;this.render=-1;this.angle=Math.degreesToRadians(0);this.pulse_rate=this.life=this.vel=0;this.action_input=this.action_render=this.render_static=
this.after_destroy=!1},getAnim_delete:function(a){return[{frm:{duration:1,pix:[{c:a,i:0}]}}]},getBlocks:function(){var a=this.anim[0];if(typeof a.frm.pix[0]!=="undefined")a.frm.pix[0].c=this.color_index;return a.frm},run:function(){typeof this.action_render==="function"&&this.action_render(this);if(!(this.last_x===this.x&&this.last_y===this.y)){this.pix_index=!1;if(BigBlock.Utils.ptInsideRect(this.x,this.y,0,BigBlock.Grid.width,0,BigBlock.Grid.height))this.pix_index=BigBlock.Utils.getPixIndex(this.x,
this.y);this.last_x=this.x;this.last_y=this.y}this.is_position_updated=!0;this.img=this.anim===!1?!1:this.getBlocks();this.last_anim_frame===this.anim_frame?this.is_anim_updated=!1:(this.last_anim_frame=this.anim_frame,this.is_anim_updated=!0);this.is_color_updated=!1;if(this.life!==0){if(this.color_index=this.color+Math.round(this.color_max*(this.clock/this.life)),this.color_max>0)this.is_color_updated=!0}else if(this.pulse_rate!==0){if(this.color_index=this.color+(this.color_max-Math.round(this.color_max*
Math.abs(Math.cos(this.clock/this.pulse_rate)))),this.color_max>0)this.is_color_updated=!0}else this.color_index=this.color+"0";this.clock++;this.clock>=this.life&&this.life!==0&&this.destroy()},destroy:function(a){if(typeof a==="function")this.after_destroy=a;this.render=0;BigBlock.Timer.destroyObject(this)}}}();
BigBlock.BlockAnim=function(){return{create:function(a){var b,c=new (BigBlock.Utils.clone(BigBlock.Block));c.configure();c.anim_frame_duration=0;c.anim_loop=!1;c.anim_state="stop";c.anim=[{frm:{duration:1,pix:[{c:"white0",i:0}]}}];if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);var e=BigBlock.Color.getPalette();b=0;for(a=e.classes.length;b<a;b++)if(e.classes[b].name===c.color){c.color_max=e.classes[b].val.length-1;break}c.getBlocks=function(){try{if(typeof this.anim==="undefined")throw Error("BigBlock.SpriteAdvanced.getPix(): getPix() requires an anim json object.");
}catch(a){BigBlock.Log.display(a.name+": "+a.message)}switch(this.anim_state){case "stop":var b=this.anim[this.anim_frame];break;case "play":if(typeof this.anim[this.anim_frame]!=="undefined")if(b=this.anim[this.anim_frame],this.anim_frame_duration<b.frm.duration)this.anim_frame_duration===0&&(b=this.anim[this.anim_frame],typeof b.frm.enter_frame==="function"&&b.frm.enter_frame.call(this)),this.anim_frame_duration++;else{typeof b.frm.exit_frame==="function"&&b.frm.exit_frame.call(this);this.anim_frame_duration=
0;this.anim_frame++;if(typeof this.anim[this.anim_frame]==="undefined")this.anim_loop?this.anim_frame=0:this.anim_frame--;b=this.anim[this.anim_frame]}}if(typeof b!=="undefined")return b.frm};c.play=function(){this.anim_state="play"};c.stop=function(){this.anim_state="stop"};c.goToAndPlay=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndPlay(): goToAndPlay(arg) requires a frame number, label or keyword(nextFrame, lastFrame).");}catch(b){BigBlock.Log.display(b.name+
": "+b.message)}this.anim_frame_duration=0;this.anim_frame=this.goToFrame(a);this.anim_state="play"};c.goToAndStop=function(a){try{if(typeof a==="undefined")throw Error("BigBlock.SpriteAdvanced.goToAndStop(): goToAndStop(arg) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.anim_frame=this.goToFrame(a);if(typeof a==="number")this.anim_frame_duration=0;this.anim_state="stop"};c.goToFrame=function(a){var b;try{if(typeof a===
"undefined")throw Error("BigBlock.Sprite.goToFrame(): goToFrame(arg, anim_frame, anim) requires a frame number, label or keyword(nextFrame, lastFrame)");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}b=this.anim_frame;switch(typeof a){case "number":try{if(a-1<0||a-1>=this.anim.length)throw Error("BigBlock.Sprite.goToFrame(): Frame number does not exist.");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}this.anim_frame=a-1;break;case "string":switch(a){case "next_frame":a=this.anim_frame;
this.anim_loop===!0?a++:this.anim_frame+1<this.anim.length&&a++;this.anim_frame=a;break;case "previous_frame":a=this.anim_frame;this.anim_loop===!0?a--:this.anim_frame-1>=0&&a--;this.anim_frame=a;break;default:this.anim_frame=this.getFrameIndexByLabel(a)}}if(typeof this.anim[this.anim_frame]==="undefined")this.anim_frame=this.anim_frame>0?0:this.anim.length-1;b!==this.anim_frame&&(typeof this.anim[b].frm.exit_frame!=="undefined"&&typeof this.anim[b].frm.exit_frame==="function"&&this.anim[b].frm.exit_frame.call(this),
typeof this.anim[this.anim_frame].frm.enter_frame!=="undefined"&&typeof this.anim[this.anim_frame].frm.enter_frame==="function"&&this.anim[this.anim_frame].frm.enter_frame.call(this));return this.anim_frame};c.getFrameIndexByLabel=function(a){var b,c;try{if(typeof a==="undefined")throw Error("BigBlock.Sprite.getFrameIndexByLabel(): getFrameIndexByLabel(arg) requires a label");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}c=0;for(b in this.anim)if(this.anim.hasOwnProperty(b)){if(a===this.anim[b].frm.label)return b;
c++}try{if(c!==0)throw Error("BigBlock.Sprite.getFrameIndexByLabel(): Frame label does not exist.");}catch(i){BigBlock.Log.display(i.name+": "+i.message)}};BigBlock.Blocks[c.alias]=c;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=c.alias}}}();
BigBlock.BlockBig=function(){return{create:function(a){var b,c,e,d,f;if(typeof a.width==="undefined")a.width=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof a.height==="undefined")a.height=Math.pow(BigBlock.Grid.blk_dim,2);if(typeof a.color==="undefined")a.color="white";var g=new (BigBlock.Utils.clone(BigBlock.Block));g.configure();g.anim=[{frm:{duration:1,pix:[]}}];c=b=0;for(e=Math.floor(a.height/BigBlock.Grid.blk_dim);c<e;c++){d=0;for(f=Math.floor(a.width/BigBlock.Grid.blk_dim);d<f;d++)g.anim[0].frm.pix[b]=
{c:a.color+"0",i:BigBlock.Grid.width/BigBlock.Grid.blk_dim*c+d},b++}if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(g[b]=a[b]);g.color_index=g.color+"0";g.img=g.getBlocks();g.render_static=!0;BigBlock.Blocks[g.alias]=g;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=g.alias}}}();
BigBlock.BlockSmall=function(){return{create:function(a){var b,c=new (BigBlock.Utils.clone(BigBlock.Block));c.configure();if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);var e=BigBlock.Color.getPalette();b=0;for(a=e.classes.length;b<a;b++)if(e.classes[b].name===c.color){c.color_max=e.classes[b].val.length-1;break}c.color_index=c.color+"0";BigBlock.Blocks[c.alias]=c;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=c.alias}}}();
BigBlock.Button=function(){return{alias:"button",map:[],create:function(a){try{if(typeof a==="undefined")throw Error("Button.create(): params argument required");if(typeof a.x==="undefined")throw Error("Button.create(): params.x argument required");if(typeof a.y==="undefined")throw Error("Button.create(): params.y argument required");if(typeof a.width==="undefined")throw Error("Button.create(): params.width argument required");if(typeof a.height==="undefined")throw Error("Button.create(): params.height argument required");
if(typeof a.alias==="undefined")a.alias="button"+BigBlock.Utils.getUniqueId();if(typeof a.action_input==="undefined")a.action_input=!1}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.map[this.map.length]={alias:a.alias,x:a.x,y:a.y,width:a.width,height:a.height,url:a.url,action_input:a.action_input};a.render_static=!0;a.className="Button";a.after_destroy=!1;typeof a.anim==="undefined"?BigBlock.BlockBig.create(a):BigBlock.BlockAnim.create(a)},deleteFromMap:function(a){var b,c;b=0;for(c=BigBlock.Button.map.length;b<
c;b++)if(BigBlock.Button.map[b].alias===a)return BigBlock.Button.map.splice(b,1),!0;return!1},destroy:function(a){this.deleteFromMap(a);BigBlock.removeStaticBlock(a)}}}();
BigBlock.Character=function(){return{create:function(a){var b,c,e=new (BigBlock.Utils.clone(BigBlock.Block));e.configure();if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);e.className="Character";c=BigBlock.Color.getPalette();b=0;for(a=c.classes.length;b<a;b++)if(c.classes[b].name===e.color){e.color_max=c.classes[b].val.length-1;break}e.color_index=e.color+"0";e.char_pos=BigBlock.CharPresets.getChar(e.character,e.font);e.render_static=!0;BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=
e.alias}}}();
BigBlock.Color=function(){return{palette:null,current_class:0,rules_loaded:0,build:function(){var a,b=this.palette.classes,c=this.current_class,e=document.styleSheets[document.styleSheets.length-1];for(a in b[c].val)b[c].val[a]||BigBlock.Log.display("Error: BigBlock.Color.build: invalid style rule. Check that class objects do not have empty values."),b[c].val.hasOwnProperty(a)&&(BigBlock.Utils.appendCSSRule(e,"."+BigBlock.CSSid_color+b[c].name+a,"background-color:"+b[c].val[a]+";"),this.rules_loaded+=1);
this.current_class+=1;a=this.getTotalColors();BigBlock.Loader.update({total:Math.round(this.rules_loaded/a*100)});return this.rules_loaded<a?!1:!0},add:function(a){var b,c;try{if(typeof a==="undefined")throw Error("BigBlock.Color.add(): params are required.");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}b=0;for(c=a.classes.length;b<c;b++)this.palette.classes[this.palette.classes.length]=a.classes[b]},getPalette:function(){return this.palette},getTotalColors:function(){var a,b,c;a=c=0;for(b=
this.palette.classes.length;a<b;a++)c+=this.palette.classes[a].val.length;return c},reset:function(){var a,b;this.palette={classes:[{name:"white",val:["rgb(255,255,255)"]},{name:"black",val:["rgb(0,0,0)"]},{name:"black0_glass",val:["rgb(102,102,102)"]},{name:"grey_dark",val:["rgb(90,90,90)"]},{name:"grey_dark0_glass",val:["rgb(140,140,140)"]},{name:"grey",val:["rgb(150,150,150)"]},{name:"grey0_glass",val:["rgb(200,200,200)"]},{name:"grey_light",val:["rgb(200,200,200)"]},{name:"grey_light0_glass",
val:["rgb(255,255,255)"]},{name:"red",val:["rgb(255,0,0)"]},{name:"magenta",val:["rgb(255,0,255)"]},{name:"blue",val:["rgb(0,0,255)"]},{name:"cyan",val:["rgb(0,255,255)"]},{name:"green",val:["rgb(0,255,0)"]},{name:"yellow",val:["rgb(255,255,0)"]},{name:"orange",val:["rgb(255,126,0)"]},{name:"brown",val:["rgb(160,82,45)"]},{name:"pink",val:["rgb(238,130,238)"]}]};this.palette.classes[this.palette.classes.length]={name:{},val:[]};a="";for(b=255;b>-1;b-=50)a+=b-50>-1?"rgb("+b+", "+b+", "+b+");":"rgb("+
b+", "+b+", "+b+")";a=a.split(";");this.palette.classes[this.palette.classes.length-1].name="white_black";this.palette.classes[this.palette.classes.length-1].val=[];for(b in a)a.hasOwnProperty(b)&&(this.palette.classes[this.palette.classes.length-1].val[b]=a[b]);this.rules_loaded=this.current_class=0}}}();BigBlock.Color.reset();
BigBlock.Database=function(){var a=!0;typeof window.openDatabase==="undefined"&&(a=!1,BigBlock.Log&&BigBlock.Log.display("This browser does not support a local database."));return{supported:a,alias:"database",my_results:null,open:function(b){try{if(typeof b==="undefined")throw Error("Database.open(): shortName argument required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}try{if(a===!0)this.shortName=b,this.version="1.0",this.displayName="Database: "+b,this.maxSize=65536,this.db=openDatabase(this.shortName,
this.version,this.displayName,this.maxSize)}catch(e){BigBlock.Log.display(e.name+": "+e.message)}},createTable:function(a){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.createTable(): sql argument required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}typeof this.db!=="undefined"&&this.db.transaction(function(c){c.executeSql(a,[],BigBlock.Database.nullDataHandler,BigBlock.Database.errorHandler)})}},executeSql:function(a){if(this.supported===!0){try{if(typeof a===
"undefined")throw Error("Database.executeSql(): sql argument required");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}typeof this.db!=="undefined"&&this.db.transaction(function(c){c.executeSql(a,[],BigBlock.Database.dataHandler,BigBlock.Database.errorHandler)})}},executeSqlInsert:function(a,c,e){if(this.supported===!0){try{if(typeof a==="undefined")throw Error("Database.executeSqlInsert(): table argument required");if(typeof c==="undefined")throw Error("Database.executeSqlInsert(): fields argument required");
if(typeof e==="undefined")throw Error("Database.executeSqlInsert(): values argument required");if(typeof this.db==="undefined")throw Error("Database.executeSqlInsert(): database does not exist");}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.db.transaction(function(d){var g,h,i;if(c.indexOf(",")!==-1){i="";g=0;for(h=c.split(",").length;g<h;g++)i+=g===c.split(",").length-1?"?":"?,"}else i="?";d.executeSql("INSERT into "+a+" ("+c+") VALUES ( "+i+" );",e,BigBlock.Database.nullDataHandler,
BigBlock.Database.errorHandler)})}},dataHandler:function(a,c){BigBlock.Database.results=c},nullDataHandler:function(){},errorHandler:function(a,c){BigBlock.Log.display(c.code+": "+c.message)}}}();
BigBlock.Emitter=function(){var a=function(a,c,e,d,f,g,h,i,k,m,l){var j={},d=Math.ceil(Math.random()*(100-d*100+1));j.life=Math.ceil(e*((100-d)/100));d=Math.ceil(Math.random()*(100-g*100+1));j.vel=f*((100-d)/100);e=[1,-1];j.angle_var=Math.ceil(Math.random()*(h+1))*e[Math.getRandomNumber(0,1)];f=e[Math.getRandomNumber(0,1)];h=0;i!==0&&(h=Math.ceil(Math.random()*i*BigBlock.Grid.blk_dim)*f);if(k===1)i=Math.abs(h)/(i*BigBlock.Grid.blk_dim),j.life=Math.ceil(j.life*(1-i))>0?Math.ceil(j.life*(1-i)):1;k=
Math.floor(Math.random()*m*BigBlock.Grid.blk_dim)*e[Math.getRandomNumber(0,1)];if(l===1)i=Math.abs(k)/(m*BigBlock.Grid.blk_dim),j.life=Math.ceil(j.life*(1-i))>0?Math.ceil(j.life*(1-i)):1;j.x=a+h;j.y=c+k;return j};return{create:function(b){var c,e=new (BigBlock.Utils.clone(BigBlock.Block));e.configure();e.x=BigBlock.Grid.width/2;e.y=BigBlock.Grid.height/2+BigBlock.Grid.height/3;e.state="start";e.render=0;e.emission_rate=3;e.p_count=0;e.p_burst=3;e.p_velocity=3;e.p_velocity_spread=1;e.p_angle=270;e.p_angle_spread=
20;e.p_life=100;e.p_life_spread=0.5;e.p_life_offset_x=0;e.p_life_offset_y=0;e.p_gravity=0;e.p_init_pos_spread_x=0;e.p_init_pos_spread_y=0;e.p_spiral_vel_x=0;e.p_spiral_vel_y=0;e.action_render=function(){};if(typeof b!=="undefined")for(c in b)b.hasOwnProperty(c)&&(e[c]=b[c]);var d=BigBlock.Color.getPalette();c=0;for(b=d.classes.length;c<b;c++)if(d.classes[c].name===e.color){e.color_max=d.classes[c].val.length-1;break}e.action_render=function(){var b;switch(this.state){case "start":if(this.clock%this.emission_rate===
0)this.state="emit";break;case "emit":var c,d;d=function(){var a=BigBlock.Utils.getParticleTransform(this.vel,this.angle,this.x,this.y,this.gravity,this.clock,this.life,this.color,this.color_max,this.p_spiral_vel_x,this.p_spiral_vel_y);this.x=a.x;this.y=a.y;this.color_index=a.color_index;this.gravity*=1.08};for(b=0;b<this.p_burst;b++)c=a(this.x,this.y,this.p_life,this.p_life_spread,this.p_velocity,this.p_velocity_spread,this.p_angle_spread,this.p_init_pos_spread_x,this.p_life_offset_x,this.p_init_pos_spread_y,
this.p_life_offset_y),BigBlock.BlockSmall.create({color:this.color,x:c.x,y:c.y,life:c.life,gravity:this.p_gravity,angle:Math.degreesToRadians(this.p_angle+c.angle_var),vel:c.vel,color_max:this.color_max,p_spiral_vel_x:this.p_spiral_vel_x,p_spiral_vel_y:this.p_spiral_vel_y,action_render:d}),this.p_count++;this.state="start"}};e.start=function(){this.state="start"};e.stop=function(){this.state="stop"};BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias}}}();
BigBlock.Grid=function(){return{alias:"Grid",blk_dim:8,width:320,height:368,x:0,y:0,total_viewport_cols:!1,build_start_time:(new Date).getTime(),build_end_time:(new Date).getTime(),build_offset:0,build_section_count:0,build_rowNum:0,char_width:8,char_height:8,styles:{},div:null,total_rules:0,count_timer:0,configure:function(a){var b;if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.div=document.createElement("div")},setProps:function(a){var b;if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&
(this[b]=a[b])},setStyle:function(a,b){try{if(typeof a==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style key.");if(typeof b==="undefined")throw Error("BigBlock.Grid.setStyle(): BigBlock.Grid.setStyle(key, value) requires a style value.");}catch(c){BigBlock.Log.display(c.name+": "+c.message)}document.getElementById(this.viewport.id).style[a]=b;this.styles[a]=b},add:function(){var a,b,c;this.build_start_time=(new Date).getTime();a=BigBlock.Utils.getWindowDim();
try{if(a.width===!1||a.height===!1)throw a.width=800,a.height=600,Error("BigBlock.Grid.setStyle(): Detecting window size failed. Browser does not support window.innerWidth or document.documentElement.clientWidth. Using 800 x 600.");}catch(e){BigBlock.Log.display(e.name+": "+e.message)}b=document.styleSheets[document.styleSheets.length-1];try{if(b.insertRule)b.insertRule("div#"+this.viewport.id+" {background-color:transparent;width: "+this.viewport.width+"px;height: "+this.viewport.height+"px;position: absolute;left: "+
(a.width/2+this.viewport.left-this.width/2)+"px;top: "+(a.height/2+this.viewport.top-this.height/2)+"px;z-index: "+this.viewport.zIndex+"}",0);else if(b.addRule)b.addRule("div#"+this.viewport.id,"background-color:transparent;width: "+this.viewport.width+"px;height: "+this.viewport.height+"px;position: absolute;left: "+(a.width/2+this.viewport.left-this.width/2)+"px;top: "+(a.height/2+this.viewport.top-this.height/2)+"px;z-index: "+this.viewport.zIndex);else throw Error("Cannot add grid styles: BigBlock.Grid");
}catch(d){BigBlock.Log.display(d.name+": "+d.message)}this.x=a.width/2-this.width/2;this.y=a.height/2-this.height/2;a=document.createElement("div");a.setAttribute("id",this.viewport.id);for(c in this.styles)this.styles.hasOwnProperty(c)&&(a.style[c]=this.styles[c]);document.body.appendChild(a);this.viewport.dom_ref=document.getElementById(this.viewport.id)},build:function(){this.count_timer++;BigBlock.Log.time("build"+this.count_timer);var a,b,c=document.styleSheets[document.styleSheets.length-1],
e=BigBlock.Grid.blk_dim,d=0;a=this.viewport.height;var f=Math.round(this.viewport.width/e);b=Math.round(a/e);var g=Math.round(a/e),h=f*b;a=0;for(b=f*b/g*4;a<b;a+=1)d<f?d+=1:d=1,a%f===0&&(this.build_rowNum+=1),BigBlock.Utils.appendCSSRule(c,"."+BigBlock.CSSid_position+(a+this.build_offset),"left:"+(d-1)*e+"px;top:"+(this.build_rowNum-1)*e+"px;");this.total_rules+=b;this.build_offset=this.total_rules;BigBlock.Loader.update({total:Math.round(this.total_rules/h*100)});BigBlock.Log.timeEnd("build"+this.count_timer);
return this.total_rules<h?!1:!0},buildCharStyles:function(){var a,b,c,e=this.char_width;b=this.char_height;var d=document.styleSheets[document.styleSheets.length-1];BigBlock.Utils.appendCSSRule(d,"."+BigBlock.CSSid_text_bg,"background-color: transparent;");BigBlock.Utils.appendCSSRule(d,"."+BigBlock.CSSid_char,"width: 1px;height: 1px;position: absolute;float: left;line-height: 0px;font-size: 1%;");c=1;a=0;for(b*=e;a<b;a+=1)BigBlock.Utils.appendCSSRule(d,"."+BigBlock.CSSid_char_pos+(a+1),"left:"+c+
"px;top:"+(Math.floor(a/8)+1)+"px;"),c+1<=e?c+=1:c=1;return!0}}}();
BigBlock.ImagePreloader=function(){return{state:"static",images:{},fetch:function(a){var b,c,e,d,f,g,h;d={name:"string",extension:"string"};f=function(){BigBlock.ImagePreloader.images[this.name].state="loaded";BigBlock.ImagePreloader.images[this.name].loaded=!0;BigBlock.ImagePreloader.checkPreloaderState()};g=function(){BigBlock.ImagePreloader.images[this.name].state="error";BigBlock.ImagePreloader.checkPreloaderState()};h=function(){BigBlock.ImagePreloader.images[this.name].state="aborted";BigBlock.ImagePreloader.checkPreloaderState()};
b=0;for(c=a.length;b<c;b+=1)BigBlock.Interface.checkRequiredParams(a[b],d,!0,"BigBlock.ImagePreloader")?(e=a[b].name,this.images[e]={},this.images[e].my_image=new Image,this.images[e].my_image.name=a[b].name,this.images[e].state="loading",this.images[e].loaded=!1,this.images[e].my_image.onload=f,this.images[e].my_image.onerror=g,this.images[e].my_image.onabort=h,this.images[e].my_image.src=a[b].path+a[b].name+a[b].extension):this.state="error"},checkPreloaderState:function(){for(var a in this.images)if(this.images.hasOwnProperty(a)&&
this.images[a].state!=="loaded")return!1;this.state="loaded"}}}();
BigBlock.Interface=function(){return{checkRequiredParams:function(a,b,c,e){var d,f;for(d in b)if(b.hasOwnProperty(d))try{if(typeof a[d]!==b[d]||a[d]==="")throw f=a[d]===""?"BigBlock.Interface.checkRequiredParams: required param '"+d+"' is empty.":typeof a[d]==="undefined"?"BigBlock.Interface.checkRequiredParams: required param '"+d+"' is missing from passed params.":"BigBlock.Interface.checkRequiredParams: passed param '"+d+"' must be type "+b[d]+". Passed as "+typeof a[d]+".",e&&(f=f+" from: "+e),
Error(f);}catch(g){return c&&BigBlock.Log.error(g),!1}return!0}}}();
BigBlock.BehaviorPresets=function(){function a(){return{getPreset:function(a){switch(a){case "getRandomGraphic":return function(){if(this.idleTimeout===0){var a=this.alias;this.idleTimeout=setTimeout(function(){var b=BigBlock.Blocks[BigBlock.getBlock(a)];if(typeof b!=="undefined"&&typeof b.poses!=="undefined")b.goToAndStop(b.poses[Math.getRandomNumber(0,b.poses.length-1)]),b.idleTimeout=0},Math.getRandomNumber(500,1E3))}};case "move_wallCollide":return function(){var a=this.vel*BigBlock.Grid.blk_dim*
Math.cos(this.angle),b=this.vel*BigBlock.Grid.blk_dim*Math.sin(this.angle);this.x+a>0&&this.x+a<BigBlock.Grid.width?this.x+=a:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));this.y+b>0&&this.y+b<BigBlock.Grid.height?this.y+=b:(this.vel*=1.5,this.angle+=Math.degreesToRadians(180));Math.floor(this.vel--)>0?this.vel--:this.vel=0};case "move":return function(){this.x+=BigBlock.Grid.blk_dim}}}}}var b;return{install:function(){b||(b=a());return b}}}();
BigBlock.CharPresets=function(){function a(){return{getChar:function(a,b){typeof b==="undefined"&&(b="bigblock_bold");var d=!1;switch(b){case "bigblock_plain":switch(a){case " ":d=[];break;case "A":case "a":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "B":case "b":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "C":case "c":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},
{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "D":case "d":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "E":case "e":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "F":case "f":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},{p:25},{p:33}];break;case "G":case "g":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:20},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "H":case "h":d=
[{p:1},{p:5},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "I":case "i":d=[{p:2},{p:3},{p:4},{p:11},{p:19},{p:27},{p:34},{p:35},{p:36}];break;case "J":case "j":d=[{p:5},{p:13},{p:21},{p:25},{p:29},{p:26},{p:34},{p:35},{p:36}];break;case "K":case "k":d=[{p:1},{p:5},{p:9},{p:12},{p:17},{p:18},{p:19},{p:25},{p:28},{p:33},{p:37}];break;case "L":case "l":d=[{p:1},{p:9},{p:17},{p:25},{p:33},{p:34},{p:35},{p:36}];break;case "M":case "m":d=[{p:1},{p:5},{p:9},{p:10},
{p:12},{p:13},{p:17},{p:19},{p:21},{p:25},{p:29},{p:33},{p:37}];break;case "N":case "n":d=[{p:1},{p:5},{p:9},{p:10},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:33},{p:37}];break;case "O":case "o":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "P":case "p":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:33}];break;case "Q":case "q":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:19},{p:21},{p:25},{p:28},{p:29},{p:34},
{p:35},{p:36},{p:37}];break;case "R":case "r":d=[{p:1},{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:18},{p:19},{p:20},{p:25},{p:29},{p:33},{p:37}];break;case "S":case "s":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "T":case "t":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:11},{p:19},{p:27},{p:35}];break;case "U":case "u":d=[{p:1},{p:5},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "V":case "v":d=[{p:1},{p:5},{p:9},{p:13},{p:17},
{p:21},{p:26},{p:28},{p:35}];break;case "W":case "w":d=[{p:1},{p:4},{p:7},{p:9},{p:12},{p:15},{p:17},{p:20},{p:23},{p:25},{p:28},{p:31},{p:34},{p:35},{p:37},{p:38}];break;case "X":case "x":d=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:26},{p:28},{p:33},{p:37}];break;case "Y":case "y":d=[{p:1},{p:5},{p:10},{p:12},{p:19},{p:27},{p:35}];break;case "Z":case "z":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:12},{p:19},{p:26},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "1":d=[{p:3},{p:10},{p:11},{p:19},{p:27},{p:35}];
break;case "2":d=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:25},{p:33},{p:34},{p:35},{p:36},{p:37}];break;case "3":d=[{p:1},{p:2},{p:3},{p:4},{p:13},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "4":d=[{p:3},{p:4},{p:10},{p:12},{p:17},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:36}];break;case "5":d=[{p:1},{p:2},{p:3},{p:4},{p:5},{p:9},{p:17},{p:18},{p:19},{p:20},{p:29},{p:33},{p:34},{p:35},{p:36}];break;case "6":d=[{p:2},{p:3},{p:4},{p:9},{p:17},{p:18},{p:19},
{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "7":d=[{p:2},{p:3},{p:4},{p:5},{p:13},{p:20},{p:27},{p:35}];break;case "8":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "9":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:18},{p:19},{p:20},{p:21},{p:28},{p:34},{p:35},{p:36}];break;case "0":d=[{p:2},{p:3},{p:4},{p:9},{p:13},{p:17},{p:21},{p:25},{p:29},{p:34},{p:35},{p:36}];break;case "arrow_down":d=[{p:3},{p:11},{p:17},{p:19},{p:21},{p:26},{p:27},{p:28},
{p:35}];break;case "arrow_up":d=[{p:3},{p:10},{p:11},{p:12},{p:17},{p:19},{p:21},{p:27},{p:35}];break;case "arrow_left":d=[{p:3},{p:10},{p:17},{p:18},{p:19},{p:20},{p:21},{p:26},{p:35}];break;case "arrow_right":d=[{p:3},{p:12},{p:17},{p:18},{p:19},{p:20},{p:21},{p:28},{p:35}];break;case "!":d=[{p:3},{p:11},{p:19},{p:35}];break;case "@":d=[{p:2},{p:3},{p:4},{p:9},{p:11},{p:13},{p:17},{p:19},{p:20},{p:21},{p:25},{p:34},{p:35},{p:36}];break;case "#":d=[{p:2},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:18},
{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:34},{p:36}];break;case "$":d=[{p:2},{p:3},{p:4},{p:5},{p:9},{p:11},{p:18},{p:19},{p:20},{p:27},{p:29},{p:33},{p:34},{p:35},{p:36},{p:43}];break;case "%":d=[{p:1},{p:2},{p:4},{p:9},{p:10},{p:12},{p:19},{p:26},{p:28},{p:29},{p:34},{p:36},{p:37}];break;case "^":d=[{p:3},{p:10},{p:12}];break;case "&":d=[{p:2},{p:3},{p:9},{p:12},{p:18},{p:19},{p:25},{p:29},{p:34},{p:35},{p:36},{p:37}];break;case "*":d=[{p:3},{p:9},{p:11},{p:13},{p:18},{p:19},{p:20},{p:25},{p:27},
{p:29},{p:35}];break;case "(":d=[{p:3},{p:10},{p:18},{p:26},{p:35}];break;case ")":d=[{p:3},{p:12},{p:20},{p:28},{p:35}];break;case "-":d=[{p:18},{p:19},{p:20}];break;case "_":d=[{p:34},{p:35},{p:36},{p:37}];break;case "=":d=[{p:10},{p:11},{p:12},{p:13},{p:26},{p:27},{p:28},{p:29}];break;case "+":d=[{p:3},{p:11},{p:17},{p:18},{p:19},{p:20},{p:21},{p:27},{p:35}];break;case ";":d=[{p:3},{p:27},{p:34}];break;case ":":d=[{p:11},{p:35}];break;case "'":d=[{p:3},{p:10},{p:18}];break;case ",":d=[{p:34},{p:41}];
break;case ".":d=[{p:33}];break;case "<":d=[{p:3},{p:10},{p:17},{p:26},{p:35}];break;case ">":d=[{p:3},{p:12},{p:21},{p:28},{p:35}];break;case "/":d=[{p:4},{p:12},{p:19},{p:26},{p:34}];break;case "?":d=[{p:1},{p:2},{p:3},{p:12},{p:18},{p:19},{p:34}];break;case "{":d=[{p:3},{p:4},{p:11},{p:18},{p:27},{p:35},{p:36}];break;case "}":d=[{p:2},{p:3},{p:11},{p:20},{p:27},{p:34},{p:35}];break;case "[":d=[{p:3},{p:4},{p:11},{p:19},{p:27},{p:35},{p:36}];break;case "]":d=[{p:2},{p:3},{p:11},{p:19},{p:27},{p:34},
{p:35}];break;case "|":d=[{p:3},{p:11},{p:19},{p:27},{p:35}];break;case "currency_cents":d=[{p:2},{p:9},{p:10},{p:11},{p:17},{p:25},{p:26},{p:27},{p:34}]}break;case "bigblock_bold":switch(a){case " ":d=[];break;case "A":case "a":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "B":case "b":d=[{p:2},{p:3},{p:10},
{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "C":case "c":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "D":case "d":d=
[{p:2},{p:3},{p:4},{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:58},{p:59},{p:60},{p:61}];break;case "E":case "e":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "F":case "f":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case "G":case "g":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "H":case "h":d=
[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "I":case "i":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;
case "J":case "j":d=[{p:6},{p:7},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "K":case "k":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "L":case "l":d=[{p:2},{p:3},
{p:10},{p:11},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:42},{p:43},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "M":case "m":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "N":case "n":d=[{p:2},{p:3},{p:4},
{p:5},{p:10},{p:11},{p:12},{p:13},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "O":case "o":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];
break;case "P":case "p":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:58},{p:59}];break;case "Q":case "q":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},
{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "R":case "r":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "S":case "s":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},
{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "T":case "t":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "U":case "u":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "V":case "v":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "W":case "w":d=[{p:1},{p:2},{p:7},{p:8},{p:9},{p:10},{p:15},{p:16},{p:17},{p:18},{p:23},{p:24},{p:25},{p:26},{p:31},{p:32},{p:33},{p:34},{p:37},{p:38},{p:39},{p:40},{p:41},{p:42},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},
{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:57},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63},{p:64}];break;case "X":case "x":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "Y":case "y":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},
{p:61}];break;case "Z":case "z":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "1":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},
{p:61},{p:62},{p:63}];break;case "2":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "3":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},
{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "4":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "5":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:26},{p:27},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:52},
{p:53},{p:54},{p:55},{p:60},{p:61},{p:62},{p:63}];break;case "6":d=[{p:2},{p:3},{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "7":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;
case "8":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "9":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},
{p:39},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55},{p:62},{p:63}];break;case "0":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:22},{p:23},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:42},{p:43},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "arrow_down":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},
{p:40},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "arrow_up":d=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "arrow_left":d=[{p:4},{p:11},{p:12},{p:18},{p:19},{p:20},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:42},{p:43},
{p:44},{p:51},{p:52},{p:60}];break;case "arrow_right":d=[{p:5},{p:13},{p:14},{p:21},{p:22},{p:23},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:32},{p:33},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:40},{p:45},{p:46},{p:47},{p:53},{p:54},{p:61}];break;case "!":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:52},{p:53},{p:60},{p:61}];break;case "@":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:21},{p:22},{p:23},{p:24},{p:25},{p:26},{p:29},{p:30},{p:31},
{p:32},{p:33},{p:34},{p:41},{p:42},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "#":d=[{p:2},{p:3},{p:6},{p:7},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:16},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:24},{p:26},{p:27},{p:30},{p:31},{p:34},{p:35},{p:38},{p:39},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:58},{p:59},{p:62},{p:63}];break;case "$":d=[{p:4},{p:5},{p:11},{p:12},{p:13},{p:14},{p:15},
{p:18},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:36},{p:37},{p:38},{p:43},{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:60},{p:61}];break;case "%":d=[{p:2},{p:3},{p:6},{p:7},{p:10},{p:11},{p:14},{p:15},{p:22},{p:23},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:42},{p:43},{p:50},{p:51},{p:54},{p:55},{p:58},{p:59},{p:62},{p:63}];break;case "^":d=[{p:4},{p:5},{p:12},{p:13},{p:19},{p:20},{p:21},{p:22},{p:27},{p:28},{p:29},{p:30},{p:34},{p:35},{p:38},{p:39},
{p:42},{p:43},{p:46},{p:47}];break;case "&":d=[{p:3},{p:4},{p:11},{p:12},{p:17},{p:18},{p:21},{p:22},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:35},{p:36},{p:41},{p:42},{p:47},{p:48},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:56},{p:59},{p:60},{p:61},{p:62}];break;case "*":d=[{p:4},{p:10},{p:12},{p:14},{p:20},{p:21},{p:25},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:35},{p:36},{p:37},{p:42},{p:44},{p:46},{p:52}];break;case "(":d=[{p:4},{p:5},{p:12},{p:13},{p:18},{p:19},{p:26},{p:27},{p:34},
{p:35},{p:42},{p:43},{p:52},{p:53},{p:60},{p:61}];break;case ")":d=[{p:4},{p:5},{p:12},{p:13},{p:22},{p:23},{p:30},{p:31},{p:38},{p:39},{p:46},{p:47},{p:52},{p:53},{p:60},{p:61}];break;case "-":d=[{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39}];break;case "_":d=[{p:50},{p:51},{p:52},{p:53},{p:54},{p:55},{p:58},{p:59},{p:60},{p:61},{p:62},{p:63}];break;case "=":d=[{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:18},{p:19},{p:20},{p:21},{p:22},{p:23},{p:42},{p:43},
{p:44},{p:45},{p:46},{p:47},{p:50},{p:51},{p:52},{p:53},{p:54},{p:55}];break;case "+":d=[{p:12},{p:13},{p:20},{p:21},{p:26},{p:27},{p:28},{p:29},{p:30},{p:31},{p:34},{p:35},{p:36},{p:37},{p:38},{p:39},{p:44},{p:45},{p:52},{p:53}];break;case ";":d=[{p:12},{p:13},{p:20},{p:21},{p:36},{p:37},{p:44},{p:45},{p:50},{p:51},{p:58},{p:59}];break;case ":":d=[{p:12},{p:13},{p:20},{p:21},{p:44},{p:45},{p:52},{p:53}];break;case "'":d=[{p:6},{p:7},{p:14},{p:15},{p:20},{p:21},{p:28},{p:29}];break;case ",":d=[{p:37},
{p:38},{p:45},{p:46},{p:51},{p:52},{p:59},{p:60}];break;case ".":d=[{p:52},{p:53},{p:60},{p:61}];break;case "<":d=[{p:14},{p:15},{p:20},{p:21},{p:22},{p:23},{p:26},{p:27},{p:28},{p:29},{p:34},{p:35},{p:36},{p:37},{p:44},{p:45},{p:46},{p:47},{p:54},{p:55}];break;case ">":d=[{p:10},{p:11},{p:18},{p:19},{p:20},{p:21},{p:28},{p:29},{p:30},{p:31},{p:36},{p:37},{p:38},{p:39},{p:42},{p:43},{p:44},{p:45},{p:50},{p:51}];break;case "/":d=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:28},{p:29},{p:35},{p:36},
{p:43},{p:44},{p:50},{p:51},{p:58},{p:59}];break;case "?":d=[{p:2},{p:3},{p:4},{p:5},{p:6},{p:7},{p:10},{p:11},{p:12},{p:13},{p:14},{p:15},{p:22},{p:23},{p:30},{p:31},{p:36},{p:37},{p:44},{p:45},{p:60},{p:61}];break;case "{":d=[{p:5},{p:6},{p:13},{p:14},{p:20},{p:21},{p:27},{p:28},{p:29},{p:35},{p:36},{p:37},{p:44},{p:45},{p:53},{p:54},{p:61},{p:62}];break;case "}":d=[{p:3},{p:4},{p:11},{p:12},{p:20},{p:21},{p:28},{p:29},{p:30},{p:36},{p:37},{p:38},{p:44},{p:45},{p:51},{p:52},{p:59},{p:60}];break;
case "[":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:19},{p:20},{p:27},{p:28},{p:35},{p:36},{p:43},{p:44},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "]":d=[{p:3},{p:4},{p:5},{p:6},{p:11},{p:12},{p:13},{p:14},{p:21},{p:22},{p:29},{p:30},{p:37},{p:38},{p:45},{p:46},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60},{p:61},{p:62}];break;case "|":d=[{p:4},{p:5},{p:12},{p:13},{p:20},{p:21},{p:28},{p:29},{p:36},{p:37},{p:44},{p:45},{p:52},{p:53},{p:60},{p:61}];break;case "currency_cents":d=
[{p:3},{p:4},{p:9},{p:10},{p:11},{p:12},{p:13},{p:14},{p:17},{p:18},{p:19},{p:20},{p:21},{p:22},{p:25},{p:26},{p:33},{p:34},{p:41},{p:42},{p:43},{p:44},{p:45},{p:46},{p:49},{p:50},{p:51},{p:52},{p:53},{p:54},{p:59},{p:60}]}}return d}}}var b;return{install:function(){b||(b=a());return b}}}();
BigBlock.EmitterPresets=function(){function a(){return{getPreset:function(a,b){var d,f=BigBlock.Grid,g={};switch(a){case "fire":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:1,p_burst:16,p_velocity:1.5,p_velocity_spread:0.1,p_angle:270,p_angle_spread:0,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "spark":g={color:"fire",x:f.width/2,y:f.height/1.25,life:0,emission_rate:50,
p_burst:1,p_velocity:1.5,p_velocity_spread:1,p_angle:270,p_angle_spread:0,p_life:25,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:1,p_spiral_vel_y:0};break;case "speak":g={color:"speak",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.75,p_angle:0,p_angle_spread:15,p_life:12,p_life_spread:1,p_life_offset_x:0,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:0,p_init_pos_spread_y:0,
p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_red":g={color:"red_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;case "trail_white":g={color:"white_black",x:f.width/2,y:f.height/2,life:10,emission_rate:10,p_burst:3,p_velocity:1.5,p_velocity_spread:0.1,
p_angle:0,p_angle_spread:10,p_life:17,p_life_spread:1,p_life_offset_x:1,p_life_offset_y:0,p_gravity:0,p_init_pos_spread_x:4,p_init_pos_spread_y:0,p_spiral_vel_x:0,p_spiral_vel_y:0};break;default:try{throw Error("BigBlock.EmitterPresets.getPreset(): BigBlock.EmitterPresets: preset does not exist.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}}if(typeof b!=="undefined")for(d in b)b.hasOwnProperty(d)&&(g[d]=b[d]);return g}}}var b;return{install:function(){b||(b=a());return b}}}();
BigBlock.Loader=function(){return{id:"loader",class_name:"loader_container",style:{position:"absolute",backgroundColor:"transparent",border:"1px solid #aaa",padding:"2px",textAlign:"center",color:"#aaa"},style_bar:{fontSize:"1%",position:"absolute",top:"2px",left:"2px",backgroundColor:"#999",color:"#999",height:"10px",cssFloat:"left"},width:100,height:10,format:"percentage",total:0,msg:"&nbsp;",bar_color:"#999",add:function(){var a;try{if(window.innerWidth)this.style.left=window.innerWidth/2-this.width/
2+"px",this.style.top=window.innerHeight/2-this.height/2+"px";else if(document.documentElement.clientWidth)this.style.left=document.documentElement.clientWidth/2-this.width/2+"px",this.style.top=document.documentElement.clientHeight/2-this.height/2+"px";else throw this.style.left="350px",this.style.top="195px",Error("Err: LA001");}catch(b){BigBlock.Log.display(b.name+": "+b.message)}this.style.width=this.width+"px";this.style.height=this.height+"px";var c=document.createElement("div");c.setAttribute("id",
this.id);c.setAttribute("class",this.class_name);typeof document.addEventListener!=="function"&&c.setAttribute("className",this.class_name);document.getElementsByTagName("body").item(0).appendChild(c);c=document.createElement("div");c.setAttribute("id",this.id+"_bar");c.setAttribute("class",this.class_name+"_bar");typeof document.addEventListener!=="function"&&c.setAttribute("className",this.class_name+"_bar");document.getElementById(this.id).appendChild(c);for(a in this.style)this.style.hasOwnProperty(a)&&
(document.getElementById(this.id).style[a]=this.style[a]);for(a in this.style_bar)this.style_bar.hasOwnProperty(a)&&(document.getElementById(this.id+"_bar").style[a]=this.style_bar[a]);document.getElementById(this.id+"_bar").style.cssFloat="left"},update:function(a){if(typeof a!=="undefined"&&typeof a.total!=="undefined")this.total=a.total;a=this.total/100*100;document.getElementById(this.id+"_bar").style.width=a+"px"}}}();
BigBlock.LocalStorage=function(){var a=!0;typeof window.localStorage==="undefined"&&(a=!1,BigBlock.Log.display("This browser does not support localStorage."));return{supported:a,alias:"local_storage",getItem:function(a){if(this.supported===!0)try{return localStorage.getItem(a)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},setItem:function(a,c){if(this.supported===!0)try{return localStorage.setItem(a,c)}catch(e){BigBlock.Log.display(e.name+": "+e.message)}},removeItem:function(a){if(this.supported===
!0)try{return localStorage.removeItem(a)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},clear:function(){if(this.supported===!0)try{return localStorage.clear()}catch(a){BigBlock.Log.display(a.name+": "+a.message)}}}}();
BigBlock.RenderMgr=function(){return{last_rendered_div:null,grid_static_fragment:null,grid_text_fragment:null,render_rate_test_array:[],renderBlocks:function(a){var b,c,e,d,f,g,h;BigBlock.Timer.debug_frame_rate&&(new Date).getTime();this.grid_static_fragment=document.createDocumentFragment();this.grid_text_fragment=document.createDocumentFragment();b=e=0;for(c=a.length;b<c;b+=1){d=a[b];if(d.img===!1){if(d.pix_index!==!1)if(d.render_static)switch(d.className){case "Character":this.renderChar(e,d,d.color_index,
0);break;default:this.renderStaticBlock(d,d.color_index,0)}else this.renderActiveBlock(e,d,d.color_index,0),e+=1}else{g=0;for(h=d.img.pix.length;g<h;g+=1)f=d.img.pix[g],d.render_static?this.renderStaticBlock(d,f.c,f.i):(this.renderActiveBlock(e,d,f.c,f.i),e+=1)}if(d.render_static&&typeof d.img!=="undefined")d.render_static=!1,d.destroy()}document.getElementById(BigBlock.GridStatic.viewport.id).appendChild(this.grid_static_fragment);document.getElementById(BigBlock.GridText.viewport.id).appendChild(this.grid_text_fragment);
this.last_rendered_div=BigBlock.GridActive.viewport.last_el;BigBlock.GridActive.viewport.last_el=!1;if(this.last_rendered_div)for(;this.last_rendered_div.nextSibling!==null;)b=this.last_rendered_div.nextSibling,this.setBlockAttribute(b,"class","pix color i0"),this.last_rendered_div=b},renderActiveBlock:function(a,b,c,e){var d;(b.img!==!1&&b.is_position_updated)!==!1||b.is_anim_updated!==!1?(a=BigBlock.Utils.getPixLoc("x",b.x,e),d=BigBlock.Utils.getPixLoc("y",b.y,e),e=BigBlock.Utils.getPixIndex(a,
d)):(a=b.x,d=b.y,e=b.pix_index);if(BigBlock.Utils.ptInsideRect(a,d,0,BigBlock.Grid.width,0,BigBlock.Grid.height)){if(b.is_position_updated||b.is_anim_updated||b.is_color_updated)b=BigBlock.GridActive.viewport.last_el?BigBlock.GridActive.viewport.last_el.nextSibling:BigBlock.GridActive.viewport.dom_ref.firstChild,BigBlock.GridActive.viewport.last_el=b,this.setBlockAttribute(b,"class","pix "+BigBlock.CSSid_color+c+" "+BigBlock.CSSid_position+e)}else return!1},renderStaticBlock:function(a,b,c){var e;
e=BigBlock.Utils.getPixLoc("x",a.x,c);c=BigBlock.Utils.getPixLoc("y",a.y,c);if(BigBlock.Utils.ptInsideRect(e,c,0,BigBlock.Grid.width,0,BigBlock.Grid.height))e=BigBlock.Utils.getPixIndex(e,c),c=BigBlock.GridStatic.div.cloneNode(!1),this.setBlockAttribute(c,"id","_static"),this.setBlockAttribute(c,"name",a.alias),this.setBlockAttribute(c,"class","pix "+BigBlock.CSSid_color+b+" "+BigBlock.CSSid_position+e),this.grid_static_fragment.appendChild(c);else return!1},renderChar:function(a,b,c,e){var d,f,g,
h,a=BigBlock.Utils.getPixLoc("x",b.x,e),e=BigBlock.Utils.getPixLoc("y",b.y,e);if(BigBlock.Utils.ptInsideRect(a,e,0,BigBlock.Grid.width,0,BigBlock.Grid.height)&&e<BigBlock.GridStatic.height){a=BigBlock.Utils.getPixIndex(a,e);e=BigBlock.GridText.div.cloneNode(!1);this.setBlockAttribute(e,"name",b.word_id);this.setBlockAttribute(e,"class","pix "+BigBlock.CSSid_text_bg+" "+BigBlock.CSSid_position+a);a=b.char_pos;d=0;for(f=a.length;d<f;d+=1)g=BigBlock.GridText.div.cloneNode(!1),h=BigBlock.Grid.blk_dim*
4,a[d].p<h&&b.glass===!0?this.setBlockAttribute(g,"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+a[d].p+" "+BigBlock.CSSid_color+c+"_glass0"):this.setBlockAttribute(g,"class",BigBlock.CSSid_char+" "+BigBlock.CSSid_char_pos+a[d].p+" "+BigBlock.CSSid_color+c),e.appendChild(g);this.grid_text_fragment.appendChild(e)}},setBlockAttribute:function(a,b,c){if(typeof a!=="object"||a===null)return!1;else if(a.setAttribute(b,c),typeof document.addEventListener!=="function"&&b==="class")a.setAttribute("className",
c),a.innerHTML="."},clearScene:function(a,b){BigBlock.inputBlock=!0;try{if(typeof a!=="undefined"&&a!==null)if(typeof a!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): beforeClear must be a function");else a()}catch(c){BigBlock.Log.display(c.name+": "+c.message)}if(typeof BigBlock.GridStatic!=="undefined")document.getElementById(BigBlock.GridStatic.viewport.id).innerHTML="",BigBlock.GridStatic.setStyle("backgroundColor","transparent");if(typeof BigBlock.GridText!==
"undefined")document.getElementById(BigBlock.GridText.viewport.id).innerHTML="",BigBlock.GridText.setStyle("backgroundColor","transparent");if(typeof BigBlock.Blocks!=="undefined")BigBlock.Blocks={};if(typeof BigBlock.BlocksKeys!=="undefined")BigBlock.BlocksKeys=[];if(typeof BigBlock.Button.map!=="undefined")BigBlock.Button.map=[];try{if(typeof b!=="undefined"&&b!==null)if(typeof b!=="function")throw Error("BigBlock.RenderMgr.clearScene(beforeClear, afterClear): afterClear must be a function.");else b()}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}BigBlock.inputBlock=!1}}}();
BigBlock.ScreenEvent=function(){var a,b,c,e,d,f,g,h;a=function(a,b){BigBlock.Timer.input_feedback===!0&&BigBlock.BlockSmall.create({x:a,y:b,life:10,color:"white_black"})};b=function(a,b){BigBlock.Utils.removeEventHandler(BigBlock.GridActive.viewport.dom_ref,a,b)};c=function(a){var b={x:!1,y:!1};if(typeof BigBlock.GridActive!=="undefined")b.x=a.clientX-BigBlock.GridActive.x,b.y=a.clientY-BigBlock.GridActive.y;return b};e=function(a,b,c){var d,e,f,g,h,n;if(typeof BigBlock.Button!=="undefined"&&typeof BigBlock.Button.map!==
"undefined"){d=0;for(e=BigBlock.Button.map.length;d<e;d++)if(f=BigBlock.Button.map[d].x,g=BigBlock.Button.map[d].y,h=f+BigBlock.Button.map[d].width,n=g+BigBlock.Button.map[d].height,BigBlock.Utils.ptInsideRect(a,b,f,h,g,n)&&BigBlock.Button.map[d].action_input!==!1)return BigBlock.Button.map[d].action_input(c,BigBlock.Button.map[d]),!1}return!0};d=function(a,b,c){var d,e,f,g,h,n;d=0;for(e=BigBlock.BlocksKeys.length;d<e;d++)if(typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]]!=="undefined"&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input!==
"undefined"&&BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input!==!1&&typeof BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input==="function"){f=BigBlock.Blocks[BigBlock.BlocksKeys[d]].x;g=BigBlock.Blocks[BigBlock.BlocksKeys[d]].y;h=BigBlock.Blocks[BigBlock.BlocksKeys[d]].width;n=BigBlock.Blocks[BigBlock.BlocksKeys[d]].height;if(typeof h==="undefined")h=BigBlock.Grid.blk_dim;if(typeof n==="undefined")n=BigBlock.Grid.blk_dim;if(BigBlock.Utils.ptInsideRect(a,b,f,f+h,g,g+n))return BigBlock.Blocks[BigBlock.BlocksKeys[d]].action_input(c),
!1}return!0};f=function(){if(BigBlock.inputBlock===!0)return!1;return!0};g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};h=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};return{current_frame:0,resetCurrentFrame:function(){this.current_frame=0},screen_mouseup:!1,screen_mousedown:!1,screen_mousemove:!1,screen_touchstart:!1,screen_touchmove:!1,screen_touchend:!1,screen_click:!1,frameAdvance:function(){},create:function(i){this.alias="ScreenEvent";this.evtListener=
[];this.screen_mouseup=BigBlock.ScreenEvent.screen_mouseup;this.screen_mousedown=BigBlock.ScreenEvent.screen_mousedown;this.screen_mousemove=BigBlock.ScreenEvent.screen_mousemove;this.screen_touchstart=BigBlock.ScreenEvent.screen_touchstart;this.screen_touchmove=BigBlock.ScreenEvent.screen_touchmove;this.screen_touchend=BigBlock.ScreenEvent.screen_touchend;this.screen_click=BigBlock.ScreenEvent.screen_click;this.frameAdvance=BigBlock.ScreenEvent.frameAdvance;this.inputFeedback=a;this.removeListensers=
b;this.getEventLocation=c;this.checkButtonAction=e;this.checkBlockAction=d;this.checkInputBlock=f;this.preventDefault=g;this.stopPropagation=h;this.event_start=(new Date).getTime();this.event_time=this.event_end=0;this.event_buffer=i.event_buffer?i.event_buffer:200;this.mouseup_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=
BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;BigBlock.ScreenEvent.removeListensers("touchstart",BigBlock.ScreenEvent.touchstart_event);if(BigBlock.ScreenEvent.event_time>BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(a);if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_mouseup!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mouseup==="function"&&
BigBlock.ScreenEvent.screen_mouseup(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};this.mousemove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousemove!==
"undefined"&&typeof BigBlock.ScreenEvent.screen_mousemove==="function"&&BigBlock.ScreenEvent.screen_mousemove(b.x,b.y,a)};this.mousedown_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(a);typeof BigBlock.ScreenEvent.screen_mousedown!=="undefined"&&typeof BigBlock.ScreenEvent.screen_mousedown==="function"&&BigBlock.ScreenEvent.screen_mousedown(b.x,b.y,a)};
this.touchstart_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;BigBlock.ScreenEvent.event_end=(new Date).getTime();BigBlock.ScreenEvent.event_time=BigBlock.ScreenEvent.event_end-BigBlock.ScreenEvent.event_start;this.touch=a.touches[0];BigBlock.ScreenEvent.removeListensers("mouseup",BigBlock.ScreenEvent.mouseup_event);if(BigBlock.ScreenEvent.event_time>BigBlock.ScreenEvent.event_buffer){var b=BigBlock.ScreenEvent.getEventLocation(this.touch);
if(!BigBlock.ScreenEvent.checkButtonAction(b.x,b.y,a))return!1;if(!BigBlock.ScreenEvent.checkBlockAction(b.x,b.y,a))return!1;typeof BigBlock.ScreenEvent.screen_touchstart!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchstart==="function"&&BigBlock.ScreenEvent.screen_touchstart(b.x,b.y,a);BigBlock.Timer.is_paused||(BigBlock.ScreenEvent.current_frame++,BigBlock.ScreenEvent.frameAdvance(a,a.clientX,a.clientY),BigBlock.ScreenEvent.inputFeedback(b.x,b.y));BigBlock.ScreenEvent.event_start=(new Date).getTime()}};
this.touchmove_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchmove!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchmove==="function"&&BigBlock.ScreenEvent.screen_touchmove(b.x,b.y,a)};this.touchend_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1;
var b=BigBlock.ScreenEvent.getEventLocation(this.touch);typeof BigBlock.ScreenEvent.screen_touchend!=="undefined"&&typeof BigBlock.ScreenEvent.screen_touchend==="function"&&BigBlock.ScreenEvent.screen_touchend(b.x,b.y,a)};this.click_event=function(a){BigBlock.ScreenEvent.preventDefault(a);BigBlock.ScreenEvent.stopPropagation(a);if(!BigBlock.ScreenEvent.checkInputBlock())return!1}}}}();
BigBlock.Timer=function(){return{frame_rate_test_start:!1,frame_rate_test_end:!1,run_interval:!1,clock:0,console_timer_name:"frame_rate"+this.clock,mobile_safari_time:(new Date).getTime(),mobile_safari_build_start:(new Date).getTime(),before_play:!1,debug_frame_rate:!0,document_body_style:{backgroundColor:"#000"},event_buffer:!1,force_max_frame_rate:!1,frame_rate:33,frame_rate_test_interval:100,grid_active_styles:!1,grid_text_styles:!1,grid_static_styles:!1,grid_bg_styles:{backgroundColor:"#333"},
input_feedback:!0,is_paused:!1,max_active_blocks:200,alias:"Timer",F:!1,build_timeout:!1,errors:[],blocks_to_destroy:[],dom_sheet:document.createElement("style"),dom_head:document.getElementsByTagName("head").item(0),play:function(a){var b,c;!BigBlock.is_iphone&&!BigBlock.is_ipad&&BigBlock.Log.time("timer_build");this.dom_sheet.setAttribute("type","text/css");if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);b=document.getElementsByTagName("body").item(0);for(c in this.document_body_style)this.document_body_style.hasOwnProperty(c)&&
(b.style[c]=this.document_body_style[c]);this.dom_head.appendChild(this.dom_sheet.cloneNode(!1));a=document.styleSheets[document.styleSheets.length-1];c={body:"margin: 0;padding: 0;background-color:#ccc;",".color":"background-color : transparent;",".pix":"float:left;width:"+BigBlock.Grid.blk_dim+"px;height:"+BigBlock.Grid.blk_dim+"px;position:absolute;line-height:0px;font-size:1%;"};for(b in c)c.hasOwnProperty(b)&&BigBlock.Utils.appendCSSRule(a,b,c[b]);this.F=BigBlock.Utils.clone(BigBlock.Grid);BigBlock.GridInit=
new this.F;BigBlock.GridInit.configure({viewport:{id:"init",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-100,dom_ref:null,last_el:null}});this.F=BigBlock.Utils.clone(BigBlock.Grid);BigBlock.GridActive=new this.F;BigBlock.GridActive.configure({viewport:{id:"active",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:10,dom_ref:null,last_el:!1},styles:document.attachEvent?{backgroundImage:"url('trans.gif')"}:this.grid_active_styles});this.F=BigBlock.Utils.clone(BigBlock.Grid);
BigBlock.GridStatic=new this.F;BigBlock.GridStatic.configure({viewport:{id:"static",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-10,dom_ref:null,last_el:null},styles:this.grid_static_styles});this.F=BigBlock.Utils.clone(BigBlock.Grid);BigBlock.GridText=new this.F;BigBlock.GridText.configure({viewport:{id:"text",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:1,dom_ref:null,last_el:null},styles:this.grid_text_styles});BigBlock.Grid.total_viewport_cols=
Math.round(BigBlock.Grid.width/BigBlock.Grid.blk_dim);this.F=BigBlock.Utils.clone(BigBlock.Grid);BigBlock.GridBG=new this.F;BigBlock.GridBG.configure({viewport:{id:"GBG",width:BigBlock.Grid.width,height:BigBlock.Grid.height,left:0,top:0,zIndex:-20,dom_ref:null,last_el:null},styles:this.grid_bg_styles});this.build_char()},build_char:function(){this.dom_head.appendChild(this.dom_sheet.cloneNode(!1));BigBlock.GridActive.buildCharStyles()?this.add_color_loader():BigBlock.Log.display("BigBlock.Timer.build_char failed.")},
add_color_loader:function(){BigBlock.Loader.add();BigBlock.Loader.update();this.dom_head.appendChild(this.dom_sheet.cloneNode(!1));this.build_color()},build_color:function(){BigBlock.Color.build()?(clearTimeout(this.build_timeout),BigBlock.Timer.add_grid_loader()):this.build_timeout=setTimeout(BigBlock.Timer.build_color,10)},add_grid_loader:function(){BigBlock.Loader.add();BigBlock.Loader.update();this.dom_head.appendChild(this.dom_sheet.cloneNode(!1));BigBlock.Timer.build_grid()},build_grid:function(){var a,
b;if(BigBlock.GridActive.build()){document.getElementsByTagName("body").item(0).removeChild(document.getElementById("loader"));BigBlock.GridInit.add();BigBlock.GridActive.add();for(b=0;b<BigBlock.Timer.max_active_blocks;b+=1)BigBlock.GridActive.viewport.dom_ref.appendChild(BigBlock.GridActive.div.cloneNode(!1));BigBlock.GridStatic.add();BigBlock.GridText.add();BigBlock.GridBG.add();typeof BigBlock.ScreenEvent.alias==="undefined"&&BigBlock.ScreenEvent.create({event_buffer:BigBlock.Timer.event_buffer});
BigBlock.ScreenEvent.evtListener={};BigBlock.ScreenEvent.evtListener.click=BigBlock.ScreenEvent.click_event;BigBlock.ScreenEvent.evtListener.mouseup=BigBlock.ScreenEvent.mouseup_event;BigBlock.ScreenEvent.evtListener.mousemove=BigBlock.ScreenEvent.mousemove_event;BigBlock.ScreenEvent.evtListener.mousedown=BigBlock.ScreenEvent.mousedown_event;BigBlock.ScreenEvent.evtListener.touchstart=BigBlock.ScreenEvent.touchstart_event;BigBlock.ScreenEvent.evtListener.touchmove=BigBlock.ScreenEvent.touchmove_event;
BigBlock.ScreenEvent.evtListener.touchend=BigBlock.ScreenEvent.touchend_event;for(a in BigBlock.ScreenEvent.evtListener)BigBlock.ScreenEvent.evtListener.hasOwnProperty(a)&&BigBlock.Utils.addEventHandler(document.getElementById(BigBlock.GridActive.viewport.id),a,BigBlock.ScreenEvent.evtListener[a]);BigBlock.Timer.before_play!==!1&&typeof BigBlock.Timer.before_play==="function"&&BigBlock.Timer.before_play();clearTimeout(BigBlock.Timer.build_timeout);!BigBlock.is_iphone&&!BigBlock.is_ipad?BigBlock.Log.timeEnd("timer_build"):
(now=(new Date).getTime(),BigBlock.Log.display("build: "+(now-BigBlock.Timer.mobile_safari_build_start)+"ms"));BigBlock.Timer.run_interval=setInterval(function(){BigBlock.Timer.run()},10)}else this.build_timeout=setTimeout(BigBlock.Timer.build_grid,10)},run:function(){var a,b,c=[],e;if(!this.is_paused){this.frame_rate_test_end=(new Date).getTime();a=this.frame_rate_test_end-this.frame_rate_test_start;if(this.force_max_frame_rate&&this.frame_rate_test_start!==!1&&this.frame_rate_test_end!==!1)for(a=
this.frame_rate-a;(new Date).getTime()<this.frame_rate_test_end+a;);this.frame_rate_test_start=(new Date).getTime();this.blocks_to_destroy.length>0&&this.cleanUpBlocks();a=0;for(b=BigBlock.BlocksKeys.length;a<b;a+=1)typeof BigBlock.Blocks[BigBlock.BlocksKeys[a]]!=="undefined"&&(e=BigBlock.Blocks[BigBlock.BlocksKeys[a]],e.run(),typeof e.img!=="undefined"&&e.render!==0&&(c[c.length]=e,e.render-=1));BigBlock.BlocksKeys.length>0&&BigBlock.RenderMgr.renderBlocks(c);BigBlock.BlockSmall.create({alias:"cleaner",
color:"transparent",life:2});this.clock+=1;if(this.clock%this.frame_rate_test_interval===0&&this.debug_frame_rate)BigBlock.is_iphone||BigBlock.is_ipad?(c=(new Date).getTime(),BigBlock.Log.display(this.frame_rate_test_interval+" frames; "+(c-this.mobile_safari_time)+"ms"),this.mobile_safari_time=(new Date).getTime()):(BigBlock.Log.timeEnd(this.console_timer_name),this.console_timer_name="frame_rate"+this.clock,BigBlock.Log.time(this.console_timer_name))}},cleanUpBlocks:function(){var a,b,c,e;a=0;for(b=
this.blocks_to_destroy.length;a<b;a+=1){typeof BigBlock.Blocks[this.blocks_to_destroy[a]]!=="undefined"&&typeof BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy==="function"&&BigBlock.Blocks[this.blocks_to_destroy[a]].after_destroy();delete BigBlock.Blocks[this.blocks_to_destroy[a]];c=0;for(e=BigBlock.BlocksKeys.length;c<e;c+=1)if(BigBlock.BlocksKeys[c]===this.blocks_to_destroy[a]){BigBlock.BlocksKeys.splice(c,1);break}}this.blocks_to_destroy=[]},destroyObject:function(a){if(typeof a!=="undefined")this.blocks_to_destroy[this.blocks_to_destroy.length]=
a.alias}}}();Math.degreesToRadians=function(a){return Math.PI/180*a};Math.radiansToDegrees=function(a){return 180/Math.PI*a};Math.getRandomNumber=function(a,b){return Math.floor(Math.random()*(b-(a-1)))+a};Math.getDistanceBwTwoPts=function(a,b,c,e){return Math.sqrt(Math.pow(c-a,2)+Math.pow(e-b,2))};
BigBlock.Utils=function(){return{clone:function(a){function b(){}b.prototype=a;return b},getPixIndex:function(a,b){a>=BigBlock.Grid.width&&(a-=BigBlock.Grid.width);b>=BigBlock.Grid.height&&(b-=BigBlock.Grid.height);return Math.floor(a/BigBlock.Grid.blk_dim)+BigBlock.Grid.total_viewport_cols*Math.floor(b/BigBlock.Grid.blk_dim)},getPixLoc:function(a,b,c){var e;a==="x"&&(c%=BigBlock.Grid.total_viewport_cols,e=b+c*BigBlock.Grid.blk_dim);a==="y"&&(a=c>0?Math.floor(c/BigBlock.Grid.total_viewport_cols):
Math.ceil(c/BigBlock.Grid.total_viewport_cols),e=b+a*BigBlock.Grid.blk_dim);return e},getColIndex:function(a,b){var c=BigBlock.Grid.width/BigBlock.Grid.blk_dim;return BigBlock.getFullGridIndex(a,b)%c},getBlock:function(a){var b,c;b=0;for(c=BigBlock.Blocks.length;b<c;b+=1)if(BigBlock.Blocks[b].alias===a)return b;return!1},getWord:function(a){var b,c;b=0;for(c=BigBlock.Blocks.length;b<c;b+=1)if(BigBlock.Blocks[b].word_id===a)return b;return!1},removeStaticBlock:function(a,b){var c,e,d,f,g;try{if(typeof a===
"undefined")throw Error("BigBlock.removeStatic(alias): requires an alias.");if(typeof a!=="string")throw Error("utility: removeStatic(): arguement 'alias' must be a string.");if(typeof b!=="undefined"&&typeof b!=="function")throw Error("utility: removeStatic(): arguement 'callback' must be a function.");}catch(h){BigBlock.Log.display(h.name+": "+h.message)}d=BigBlock.GridStatic.viewport.dom_ref;if(d.hasChildNodes()){f=d.childNodes;g=[];c=0;for(e=f.length;c<e;c+=1)g[g.length]=f[c];c=0;for(e=g.length;c<
e;c+=1)a===g[c].getAttribute("name")&&d.removeChild(g[c])}typeof b==="function"&&b()},getUniqueId:function(){return(new Date).getTime()+Math.getRandomNumber(0,1E9)},ptInsideRect:function(a,b,c,e,d,f){if(a>=c&&a<e&&b>=d&&b<f)return!0;return!1},getCSSLength:function(a){if(a.cssRules)this.getCSSLength=function(){return a.cssRules.length};else if(a.rules)this.getCSSLength=function(){return a.rules.length};return this.getCSSLength(a)},appendCSSRule:function(a,b,c){if(a.insertRule)this.appendCSSRule=function(a,
b,c){a.insertRule(b+" {"+c+"}",0)};else if(a.addRule)this.appendCSSRule=function(a,b,c){a.addRule(b,c)};this.appendCSSRule(a,b,c)},addEventHandler:function(a,b,c){if(a.addEventListener)this.addEventHandler=function(a,b,c){a.addEventListener(b,c,!1)};else if(a.attachEvent)this.addEventHandler=function(a,b,c){a.attachEvent("on"+b,c)};this.addEventHandler(a,b,c)},removeEventHandler:function(a,b,c){if(a.removeEventListener)this.removeEventHandler=function(a,b,c){a.removeEventListener(b,c,!1)};else if(a.detachEvent)this.removeEventHandler=
function(a,b,c){a.detachEvent("on"+b,c)};this.removeEventHandler(a,b,c)},getWindowDim:function(){var a={width:!1,height:!1};if(typeof window.innerWidth!=="undefined")a.width=window.innerWidth;else if(typeof document.documentElement!=="undefined"&&typeof document.documentElement.clientWidth!=="undefined")a.width=document.documentElement.clientWidth;else if(typeof document.body!=="undefined")a.width=document.body.clientWidth;if(typeof window.innerHeight!=="undefined")a.height=window.innerHeight;else if(typeof document.documentElement!==
"undefined"&&typeof document.documentElement.clientHeight!=="undefined")a.height=document.documentElement.clientHeight;else if(typeof document.body!=="undefined")a.height=document.body.clientHeight;return a},inArray:function(a,b){var c,e,d;d=!1;c=0;for(e=b.length;c<e;c+=1)typeof a===typeof b[c]&&a===b[c]&&(d=!0);return d},getFileExtension:function(a){var b,c;try{if(typeof a==="undefined")throw Error("BigBlock.getFileExtension(path): A path is required.");else c=a.split("."),b=c[c.length-1]}catch(e){BigBlock.Log.display(e.name+
": "+e.message)}return b},getMimeTypeFromFileExt:function(a){try{if(typeof a==="undefined")throw Error("BigBlock.getMimeTypeFromFileExt(ext): An extension is required.");else switch(a){case "aif":return["audio/x-aiff","audio/x-aiff"];case "au":case "snd":return["audio/basic"];case "ogg":return["audio/ogg"];case "mp3":return["audio/mpeg","audio/x-mpeg"];case "wav":return["audio/wav","audio/x-wav"];default:return!1}}catch(b){BigBlock.Log.display(b.name+": "+b.message)}},getMySqlDateTime:function(){var a,
b,c,e,d,f;a=new Date;b=a.getFullYear();c=a.getMonth();c<10&&(c="0"+c);e=a.getDate();e<10&&(e="0"+e);d=a.getHours();d<10&&(d="0"+d);f=a.getMinutes();f<10&&(f="0"+f);a=a.getSeconds();a<10&&(a="0"+a);return b+"-"+c+"-"+e+" "+d+":"+f+":"+a},windowOpen:function(a,b){try{if(typeof a==="undefined")return!1;else typeof b==="undefined"&&(b=""),BigBlock.standalone?confirm("Leaving app. Continue?")&&window.open(a,b):window.open(a,b)}catch(c){BigBlock.Log.display(c.name+": "+c.message)}},getTransform:function(a,
b,c,e){var d,f;d={};f=a*Math.cos(Math.degreesToRadians(b));a*=Math.sin(Math.degreesToRadians(b));d.x=c+f;d.y=e+a;return d},getParticleTransform:function(a,b,c,e,d,f,g,h,i,k,m){var l,j;l={};j=Math.round(Math.cos(f)*k*BigBlock.Grid.blk_dim);k=a*BigBlock.Grid.blk_dim*Math.cos(b)+j;j=Math.round(Math.cos(f)*m*BigBlock.Grid.blk_dim);a=a*BigBlock.Grid.blk_dim*Math.sin(b)+j;if(!(c+k>=BigBlock.Grid.width))l.x=c+k,l.y=e+a+d*BigBlock.Grid.blk_dim;l.color_index=h+Math.round(i*(f/g));return l},getAngle:function(a,
b,c,e){return Math.atan2(a-b,c-e)*180/Math.PI},checkCollision:function(a,b,c,e,d){var f,g,h,i;for(f in BigBlock.Blocks)if(BigBlock.Blocks.hasOwnProperty(f)&&BigBlock.Blocks[f].anim!==!1&&BigBlock.Blocks[f].render_static===!1&&BigBlock.Blocks[f].alias.indexOf(d)!==-1&&e===!1)for(h in g=BigBlock.Blocks[f].anim_frame,BigBlock.Blocks[f].anim[g].frm.pix)if(BigBlock.Blocks[f].anim[g].frm.pix.hasOwnProperty(h)&&(i=BigBlock.getFullGridIndex(BigBlock.Blocks[f].x,BigBlock.Blocks[f].y),i+=BigBlock.Blocks[f].anim[g].frm.pix[h].i,
BigBlock.getPixLoc("x",BigBlock.Blocks[f].x,BigBlock.Blocks[f].anim[g].frm.pix[h].i),BigBlock.getPixLoc("y",BigBlock.Blocks[f].y,BigBlock.Blocks[f].anim[g].frm.pix[h].i),i===BigBlock.getFullGridIndex(b,c))){BigBlock.Blocks[a].is_hit=!0;BigBlock.Blocks[a].render=2;typeof BigBlock.Blocks[a].action_collide==="function"&&BigBlock.Blocks[a].action_collide();typeof BigBlock.Blocks[f].action_collide==="function"&&BigBlock.Blocks[f].action_collide();break}}}}();
BigBlock.Word=function(){return{create:function(a){var b,c,e=new (BigBlock.Utils.clone(BigBlock.Block));e.configure();if(typeof a!=="undefined")for(b in a)a.hasOwnProperty(b)&&(e[b]=a[b]);c=BigBlock.Color.getPalette();b=0;for(a=c.classes.length;b<a;b++)if(c.classes[b].name===e.color){e.color_max=c.classes[b].val.length-1;break}e.className="Word";e.render=0;if(e.center)c=e.word.length*BigBlock.Grid.blk_dim,e.x=BigBlock.Grid.width/2-c/2;e.destroy=function(a){var b,c,d,e,f,j;c=this.alias;b=document.getElementById(BigBlock.GridText.viewport.id);
if(b.hasChildNodes()){d=b.childNodes;e=[];f=0;for(j=d.length;f<j;f++)e[e.length]=d[f];f=0;for(j=e.length;f<j;f++)e[f].getAttribute("name")===c&&b.removeChild(e[f])}if(typeof a==="function")this.after_destroy=a;this.render=0;BigBlock.Timer.destroyObject(this)};BigBlock.Blocks[e.alias]=e;BigBlock.BlocksKeys[BigBlock.BlocksKeys.length]=e.alias;try{if(typeof BigBlock.CharPresets.getChar==="undefined")throw Error("BigBlock.Word.create(): BigBlock.CharPresets = BigBlock.CharPresets.install() must be run before creating Words.");
else if(BigBlock.CharPresets.getChar(e.word))BigBlock.Character.create({word_id:e.alias,character:e.word,x:e.x,y:e.y,color:e.color,font:e.font,glass:e.glass});else{var d=new String(e.word);b=0;for(a=d.length;b<a;b++)BigBlock.Character.create({word_id:e.alias,character:d.substr(b,1),x:e.x+b*BigBlock.Grid.blk_dim,y:e.y,color:e.color,font:e.font,glass:e.glass})}}catch(f){BigBlock.Log.display(f.name+": "+f.message)}}}}();